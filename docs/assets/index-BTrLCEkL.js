var $M=Object.defineProperty;var UM=(e,t,n)=>t in e?$M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var sm=(e,t,n)=>UM(e,typeof t!="symbol"?t+"":t,n);function zM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i1={exports:{}},xh={},o1={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu=Symbol.for("react.element"),BM=Symbol.for("react.portal"),WM=Symbol.for("react.fragment"),KM=Symbol.for("react.strict_mode"),HM=Symbol.for("react.profiler"),qM=Symbol.for("react.provider"),GM=Symbol.for("react.context"),YM=Symbol.for("react.forward_ref"),QM=Symbol.for("react.suspense"),XM=Symbol.for("react.memo"),JM=Symbol.for("react.lazy"),Wb=Symbol.iterator;function ZM(e){return e===null||typeof e!="object"?null:(e=Wb&&e[Wb]||e["@@iterator"],typeof e=="function"?e:null)}var s1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a1=Object.assign,l1={};function Va(e,t,n){this.props=e,this.context=t,this.refs=l1,this.updater=n||s1}Va.prototype.isReactComponent={};Va.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Va.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function u1(){}u1.prototype=Va.prototype;function Ty(e,t,n){this.props=e,this.context=t,this.refs=l1,this.updater=n||s1}var Py=Ty.prototype=new u1;Py.constructor=Ty;a1(Py,Va.prototype);Py.isPureReactComponent=!0;var Kb=Array.isArray,c1=Object.prototype.hasOwnProperty,Iy={current:null},f1={key:!0,ref:!0,__self:!0,__source:!0};function d1(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)c1.call(t,r)&&!f1.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Bu,type:e,key:o,ref:s,props:i,_owner:Iy.current}}function e2(e,t){return{$$typeof:Bu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ay(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bu}function t2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hb=/\/+/g;function am(e,t){return typeof e=="object"&&e!==null&&e.key!=null?t2(""+e.key):t.toString(36)}function bf(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Bu:case BM:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+am(s,0):r,Kb(i)?(n="",e!=null&&(n=e.replace(Hb,"$&/")+"/"),bf(i,t,n,"",function(u){return u})):i!=null&&(Ay(i)&&(i=e2(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Hb,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Kb(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+am(o,a);s+=bf(o,t,n,l,i)}else if(l=ZM(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+am(o,a++),s+=bf(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Mc(e,t,n){if(e==null)return e;var r=[],i=0;return bf(e,r,"","",function(o){return t.call(n,o,i++)}),r}function n2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hn={current:null},Ef={transition:null},r2={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:Ef,ReactCurrentOwner:Iy};function h1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Mc,forEach:function(e,t,n){Mc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mc(e,function(){t++}),t},toArray:function(e){return Mc(e,function(t){return t})||[]},only:function(e){if(!Ay(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Va;ye.Fragment=WM;ye.Profiler=HM;ye.PureComponent=Ty;ye.StrictMode=KM;ye.Suspense=QM;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r2;ye.act=h1;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=a1({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Iy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)c1.call(t,l)&&!f1.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Bu,type:e.type,key:i,ref:o,props:r,_owner:s}};ye.createContext=function(e){return e={$$typeof:GM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qM,_context:e},e.Consumer=e};ye.createElement=d1;ye.createFactory=function(e){var t=d1.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:YM,render:e}};ye.isValidElement=Ay;ye.lazy=function(e){return{$$typeof:JM,_payload:{_status:-1,_result:e},_init:n2}};ye.memo=function(e,t){return{$$typeof:XM,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Ef.transition;Ef.transition={};try{e()}finally{Ef.transition=t}};ye.unstable_act=h1;ye.useCallback=function(e,t){return hn.current.useCallback(e,t)};ye.useContext=function(e){return hn.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return hn.current.useDeferredValue(e)};ye.useEffect=function(e,t){return hn.current.useEffect(e,t)};ye.useId=function(){return hn.current.useId()};ye.useImperativeHandle=function(e,t,n){return hn.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return hn.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return hn.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return hn.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return hn.current.useReducer(e,t,n)};ye.useRef=function(e){return hn.current.useRef(e)};ye.useState=function(e){return hn.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return hn.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return hn.current.useTransition()};ye.version="18.3.1";o1.exports=ye;var b=o1.exports;const p1=Ti(b),i2=zM({__proto__:null,default:p1},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2=b,s2=Symbol.for("react.element"),a2=Symbol.for("react.fragment"),l2=Object.prototype.hasOwnProperty,u2=o2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c2={key:!0,ref:!0,__self:!0,__source:!0};function m1(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)l2.call(t,r)&&!c2.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:s2,type:e,key:o,ref:s,props:i,_owner:u2.current}}xh.Fragment=a2;xh.jsx=m1;xh.jsxs=m1;i1.exports=xh;var g=i1.exports,gg={},g1={exports:{}},Un={},v1={exports:{}},y1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,W){var Z=U.length;U.push(W);e:for(;0<Z;){var pe=Z-1>>>1,me=U[pe];if(0<i(me,W))U[pe]=W,U[Z]=me,Z=pe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var W=U[0],Z=U.pop();if(Z!==W){U[0]=Z;e:for(var pe=0,me=U.length,we=me>>>1;pe<we;){var Le=2*(pe+1)-1,Ke=U[Le],Ye=Le+1,Ce=U[Ye];if(0>i(Ke,Z))Ye<me&&0>i(Ce,Ke)?(U[pe]=Ce,U[Ye]=Z,pe=Ye):(U[pe]=Ke,U[Le]=Z,pe=Le);else if(Ye<me&&0>i(Ce,Z))U[pe]=Ce,U[Ye]=Z,pe=Ye;else break e}}return W}function i(U,W){var Z=U.sortIndex-W.sortIndex;return Z!==0?Z:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,v=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=U)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(u)}}function R(U){if(_=!1,S(U),!v)if(n(l)!==null)v=!0,J(C);else{var W=n(u);W!==null&&Y(R,W.startTime-U)}}function C(U,W){v=!1,_&&(_=!1,w(T),T=-1),p=!0;var Z=h;try{for(S(W),d=n(l);d!==null&&(!(d.expirationTime>W)||U&&!N());){var pe=d.callback;if(typeof pe=="function"){d.callback=null,h=d.priorityLevel;var me=pe(d.expirationTime<=W);W=e.unstable_now(),typeof me=="function"?d.callback=me:d===n(l)&&r(l),S(W)}else r(l);d=n(l)}if(d!==null)var we=!0;else{var Le=n(u);Le!==null&&Y(R,Le.startTime-W),we=!1}return we}finally{d=null,h=Z,p=!1}}var j=!1,I=null,T=-1,P=5,k=-1;function N(){return!(e.unstable_now()-k<P)}function D(){if(I!==null){var U=e.unstable_now();k=U;var W=!0;try{W=I(!0,U)}finally{W?O():(j=!1,I=null)}}else j=!1}var O;if(typeof x=="function")O=function(){x(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,B=$.port2;$.port1.onmessage=D,O=function(){B.postMessage(null)}}else O=function(){y(D,0)};function J(U){I=U,j||(j=!0,O())}function Y(U,W){T=y(function(){U(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,J(C))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(U){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var Z=h;h=W;try{return U()}finally{h=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=h;h=U;try{return W()}finally{h=Z}},e.unstable_scheduleCallback=function(U,W,Z){var pe=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?pe+Z:pe):Z=pe,U){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=Z+me,U={id:c++,callback:W,priorityLevel:U,startTime:Z,expirationTime:me,sortIndex:-1},Z>pe?(U.sortIndex=Z,t(u,U),n(l)===null&&U===n(u)&&(_?(w(T),T=-1):_=!0,Y(R,Z-pe))):(U.sortIndex=me,t(l,U),v||p||(v=!0,J(C))),U},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(U){var W=h;return function(){var Z=h;h=W;try{return U.apply(this,arguments)}finally{h=Z}}}})(y1);v1.exports=y1;var f2=v1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2=b,Fn=f2;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w1=new Set,iu={};function ws(e,t){ma(e,t),ma(e+"Capture",t)}function ma(e,t){for(iu[e]=t,e=0;e<t.length;e++)w1.add(t[e])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vg=Object.prototype.hasOwnProperty,h2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qb={},Gb={};function p2(e){return vg.call(Gb,e)?!0:vg.call(qb,e)?!1:h2.test(e)?Gb[e]=!0:(qb[e]=!0,!1)}function m2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function g2(e,t,n,r){if(t===null||typeof t>"u"||m2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pn(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ut[e]=new pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ut[t]=new pn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ut[e]=new pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ut[e]=new pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ut[e]=new pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ut[e]=new pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ut[e]=new pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ut[e]=new pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ut[e]=new pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cy=/[\-:]([a-z])/g;function ky(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cy,ky);Ut[t]=new pn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cy,ky);Ut[t]=new pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cy,ky);Ut[t]=new pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ut[e]=new pn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ut[e]=new pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Oy(e,t,n,r){var i=Ut.hasOwnProperty(t)?Ut[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(g2(t,n,i,r)&&(n=null),r||i===null?p2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pi=d2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lc=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),_1=Symbol.for("react.provider"),b1=Symbol.for("react.context"),Ry=Symbol.for("react.forward_ref"),wg=Symbol.for("react.suspense"),_g=Symbol.for("react.suspense_list"),Dy=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),E1=Symbol.for("react.offscreen"),Yb=Symbol.iterator;function gl(e){return e===null||typeof e!="object"?null:(e=Yb&&e[Yb]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,lm;function Nl(e){if(lm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);lm=t&&t[1]||""}return`
`+lm+e}var um=!1;function cm(e,t){if(!e||um)return"";um=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{um=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nl(e):""}function v2(e){switch(e.tag){case 5:return Nl(e.type);case 16:return Nl("Lazy");case 13:return Nl("Suspense");case 19:return Nl("SuspenseList");case 0:case 2:case 15:return e=cm(e.type,!1),e;case 11:return e=cm(e.type.render,!1),e;case 1:return e=cm(e.type,!0),e;default:return""}}function bg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ws:return"Fragment";case Bs:return"Portal";case yg:return"Profiler";case Ny:return"StrictMode";case wg:return"Suspense";case _g:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case b1:return(e.displayName||"Context")+".Consumer";case _1:return(e._context.displayName||"Context")+".Provider";case Ry:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dy:return t=e.displayName||null,t!==null?t:bg(e.type)||"Memo";case $i:t=e._payload,e=e._init;try{return bg(e(t))}catch{}}return null}function y2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bg(t);case 8:return t===Ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ho(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function x1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w2(e){var t=x1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vc(e){e._valueTracker||(e._valueTracker=w2(e))}function S1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=x1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Hf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eg(e,t){var n=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ho(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T1(e,t){t=t.checked,t!=null&&Oy(e,"checked",t,!1)}function xg(e,t){T1(e,t);var n=ho(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sg(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sg(e,t.type,ho(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sg(e,t,n){(t!=="number"||Hf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rl=Array.isArray;function ra(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ho(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Tg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Rl(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ho(n)}}function P1(e,t){var n=ho(t.value),r=ho(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function I1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?I1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fc,A1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ou(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_2=["Webkit","ms","Moz","O"];Object.keys(zl).forEach(function(e){_2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zl[t]=zl[e]})});function C1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zl.hasOwnProperty(e)&&zl[e]?(""+t).trim():t+"px"}function k1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=C1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var b2=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ig(e,t){if(t){if(b2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Ag(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cg=null;function jy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kg=null,ia=null,oa=null;function eE(e){if(e=Hu(e)){if(typeof kg!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Ah(t),kg(e.stateNode,e.type,t))}}function O1(e){ia?oa?oa.push(e):oa=[e]:ia=e}function N1(){if(ia){var e=ia,t=oa;if(oa=ia=null,eE(e),t)for(e=0;e<t.length;e++)eE(t[e])}}function R1(e,t){return e(t)}function D1(){}var fm=!1;function j1(e,t,n){if(fm)return e(t,n);fm=!0;try{return R1(e,t,n)}finally{fm=!1,(ia!==null||oa!==null)&&(D1(),N1())}}function su(e,t){var n=e.stateNode;if(n===null)return null;var r=Ah(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Og=!1;if(fi)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){Og=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{Og=!1}function E2(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Bl=!1,qf=null,Gf=!1,Ng=null,x2={onError:function(e){Bl=!0,qf=e}};function S2(e,t,n,r,i,o,s,a,l){Bl=!1,qf=null,E2.apply(x2,arguments)}function T2(e,t,n,r,i,o,s,a,l){if(S2.apply(this,arguments),Bl){if(Bl){var u=qf;Bl=!1,qf=null}else throw Error(q(198));Gf||(Gf=!0,Ng=u)}}function _s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function M1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tE(e){if(_s(e)!==e)throw Error(q(188))}function P2(e){var t=e.alternate;if(!t){if(t=_s(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tE(i),e;if(o===r)return tE(i),t;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function L1(e){return e=P2(e),e!==null?V1(e):null}function V1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=V1(e);if(t!==null)return t;e=e.sibling}return null}var F1=Fn.unstable_scheduleCallback,nE=Fn.unstable_cancelCallback,I2=Fn.unstable_shouldYield,A2=Fn.unstable_requestPaint,st=Fn.unstable_now,C2=Fn.unstable_getCurrentPriorityLevel,My=Fn.unstable_ImmediatePriority,$1=Fn.unstable_UserBlockingPriority,Yf=Fn.unstable_NormalPriority,k2=Fn.unstable_LowPriority,U1=Fn.unstable_IdlePriority,Sh=null,Ar=null;function O2(e){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Sh,e,void 0,(e.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:D2,N2=Math.log,R2=Math.LN2;function D2(e){return e>>>=0,e===0?32:31-(N2(e)/R2|0)|0}var $c=64,Uc=4194304;function Dl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Dl(a):(o&=s,o!==0&&(r=Dl(o)))}else s=n&~i,s!==0?r=Dl(s):o!==0&&(r=Dl(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gr(t),i=1<<n,r|=e[n],t&=~i;return r}function j2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M2(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-gr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=j2(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Rg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function z1(){var e=$c;return $c<<=1,!($c&4194240)&&($c=64),e}function dm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gr(t),e[t]=n}function L2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-gr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Ly(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Oe=0;function B1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var W1,Vy,K1,H1,q1,Dg=!1,zc=[],Zi=null,eo=null,to=null,au=new Map,lu=new Map,Wi=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rE(e,t){switch(e){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":au.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(t.pointerId)}}function yl(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Hu(t),t!==null&&Vy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function F2(e,t,n,r,i){switch(t){case"focusin":return Zi=yl(Zi,e,t,n,r,i),!0;case"dragenter":return eo=yl(eo,e,t,n,r,i),!0;case"mouseover":return to=yl(to,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return au.set(o,yl(au.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lu.set(o,yl(lu.get(o)||null,e,t,n,r,i)),!0}return!1}function G1(e){var t=Fo(e.target);if(t!==null){var n=_s(t);if(n!==null){if(t=n.tag,t===13){if(t=M1(n),t!==null){e.blockedOn=t,q1(e.priority,function(){K1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cg=r,n.target.dispatchEvent(r),Cg=null}else return t=Hu(n),t!==null&&Vy(t),e.blockedOn=n,!1;t.shift()}return!0}function iE(e,t,n){xf(e)&&n.delete(t)}function $2(){Dg=!1,Zi!==null&&xf(Zi)&&(Zi=null),eo!==null&&xf(eo)&&(eo=null),to!==null&&xf(to)&&(to=null),au.forEach(iE),lu.forEach(iE)}function wl(e,t){e.blockedOn===t&&(e.blockedOn=null,Dg||(Dg=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,$2)))}function uu(e){function t(i){return wl(i,e)}if(0<zc.length){wl(zc[0],e);for(var n=1;n<zc.length;n++){var r=zc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zi!==null&&wl(Zi,e),eo!==null&&wl(eo,e),to!==null&&wl(to,e),au.forEach(t),lu.forEach(t),n=0;n<Wi.length;n++)r=Wi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)G1(n),n.blockedOn===null&&Wi.shift()}var sa=Pi.ReactCurrentBatchConfig,Xf=!0;function U2(e,t,n,r){var i=Oe,o=sa.transition;sa.transition=null;try{Oe=1,Fy(e,t,n,r)}finally{Oe=i,sa.transition=o}}function z2(e,t,n,r){var i=Oe,o=sa.transition;sa.transition=null;try{Oe=4,Fy(e,t,n,r)}finally{Oe=i,sa.transition=o}}function Fy(e,t,n,r){if(Xf){var i=jg(e,t,n,r);if(i===null)Em(e,t,r,Jf,n),rE(e,r);else if(F2(i,e,t,n,r))r.stopPropagation();else if(rE(e,r),t&4&&-1<V2.indexOf(e)){for(;i!==null;){var o=Hu(i);if(o!==null&&W1(o),o=jg(e,t,n,r),o===null&&Em(e,t,r,Jf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Em(e,t,r,null,n)}}var Jf=null;function jg(e,t,n,r){if(Jf=null,e=jy(r),e=Fo(e),e!==null)if(t=_s(e),t===null)e=null;else if(n=t.tag,n===13){if(e=M1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jf=e,null}function Y1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C2()){case My:return 1;case $1:return 4;case Yf:case k2:return 16;case U1:return 536870912;default:return 16}default:return 16}}var Qi=null,$y=null,Sf=null;function Q1(){if(Sf)return Sf;var e,t=$y,n=t.length,r,i="value"in Qi?Qi.value:Qi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Sf=i.slice(e,1<r?1-r:void 0)}function Tf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bc(){return!0}function oE(){return!1}function zn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Bc:oE,this.isPropagationStopped=oE,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),t}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uy=zn(Fa),Ku=Je({},Fa,{view:0,detail:0}),B2=zn(Ku),hm,pm,_l,Th=Je({},Ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_l&&(_l&&e.type==="mousemove"?(hm=e.screenX-_l.screenX,pm=e.screenY-_l.screenY):pm=hm=0,_l=e),hm)},movementY:function(e){return"movementY"in e?e.movementY:pm}}),sE=zn(Th),W2=Je({},Th,{dataTransfer:0}),K2=zn(W2),H2=Je({},Ku,{relatedTarget:0}),mm=zn(H2),q2=Je({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),G2=zn(q2),Y2=Je({},Fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q2=zn(Y2),X2=Je({},Fa,{data:0}),aE=zn(X2),J2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eL[e])?!!t[e]:!1}function zy(){return tL}var nL=Je({},Ku,{key:function(e){if(e.key){var t=J2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zy,charCode:function(e){return e.type==="keypress"?Tf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rL=zn(nL),iL=Je({},Th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lE=zn(iL),oL=Je({},Ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zy}),sL=zn(oL),aL=Je({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),lL=zn(aL),uL=Je({},Th,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cL=zn(uL),fL=[9,13,27,32],By=fi&&"CompositionEvent"in window,Wl=null;fi&&"documentMode"in document&&(Wl=document.documentMode);var dL=fi&&"TextEvent"in window&&!Wl,X1=fi&&(!By||Wl&&8<Wl&&11>=Wl),uE=" ",cE=!1;function J1(e,t){switch(e){case"keyup":return fL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ks=!1;function hL(e,t){switch(e){case"compositionend":return Z1(t);case"keypress":return t.which!==32?null:(cE=!0,uE);case"textInput":return e=t.data,e===uE&&cE?null:e;default:return null}}function pL(e,t){if(Ks)return e==="compositionend"||!By&&J1(e,t)?(e=Q1(),Sf=$y=Qi=null,Ks=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X1&&t.locale!=="ko"?null:t.data;default:return null}}var mL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mL[e.type]:t==="textarea"}function eI(e,t,n,r){O1(r),t=Zf(t,"onChange"),0<t.length&&(n=new Uy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kl=null,cu=null;function gL(e){fI(e,0)}function Ph(e){var t=Gs(e);if(S1(t))return e}function vL(e,t){if(e==="change")return t}var tI=!1;if(fi){var gm;if(fi){var vm="oninput"in document;if(!vm){var dE=document.createElement("div");dE.setAttribute("oninput","return;"),vm=typeof dE.oninput=="function"}gm=vm}else gm=!1;tI=gm&&(!document.documentMode||9<document.documentMode)}function hE(){Kl&&(Kl.detachEvent("onpropertychange",nI),cu=Kl=null)}function nI(e){if(e.propertyName==="value"&&Ph(cu)){var t=[];eI(t,cu,e,jy(e)),j1(gL,t)}}function yL(e,t,n){e==="focusin"?(hE(),Kl=t,cu=n,Kl.attachEvent("onpropertychange",nI)):e==="focusout"&&hE()}function wL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ph(cu)}function _L(e,t){if(e==="click")return Ph(t)}function bL(e,t){if(e==="input"||e==="change")return Ph(t)}function EL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wr=typeof Object.is=="function"?Object.is:EL;function fu(e,t){if(wr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vg.call(t,i)||!wr(e[i],t[i]))return!1}return!0}function pE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mE(e,t){var n=pE(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pE(n)}}function rI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iI(){for(var e=window,t=Hf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hf(e.document)}return t}function Wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xL(e){var t=iI(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rI(n.ownerDocument.documentElement,n)){if(r!==null&&Wy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=mE(n,o);var s=mE(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SL=fi&&"documentMode"in document&&11>=document.documentMode,Hs=null,Mg=null,Hl=null,Lg=!1;function gE(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lg||Hs==null||Hs!==Hf(r)||(r=Hs,"selectionStart"in r&&Wy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hl&&fu(Hl,r)||(Hl=r,r=Zf(Mg,"onSelect"),0<r.length&&(t=new Uy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hs)))}function Wc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qs={animationend:Wc("Animation","AnimationEnd"),animationiteration:Wc("Animation","AnimationIteration"),animationstart:Wc("Animation","AnimationStart"),transitionend:Wc("Transition","TransitionEnd")},ym={},oI={};fi&&(oI=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Ih(e){if(ym[e])return ym[e];if(!qs[e])return e;var t=qs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oI)return ym[e]=t[n];return e}var sI=Ih("animationend"),aI=Ih("animationiteration"),lI=Ih("animationstart"),uI=Ih("transitionend"),cI=new Map,vE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(e,t){cI.set(e,t),ws(t,[e])}for(var wm=0;wm<vE.length;wm++){var _m=vE[wm],TL=_m.toLowerCase(),PL=_m[0].toUpperCase()+_m.slice(1);_o(TL,"on"+PL)}_o(sI,"onAnimationEnd");_o(aI,"onAnimationIteration");_o(lI,"onAnimationStart");_o("dblclick","onDoubleClick");_o("focusin","onFocus");_o("focusout","onBlur");_o(uI,"onTransitionEnd");ma("onMouseEnter",["mouseout","mouseover"]);ma("onMouseLeave",["mouseout","mouseover"]);ma("onPointerEnter",["pointerout","pointerover"]);ma("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IL=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function yE(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,T2(r,t,void 0,e),e.currentTarget=null}function fI(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;yE(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;yE(i,a,u),o=l}}}if(Gf)throw e=Ng,Gf=!1,Ng=null,e}function Ue(e,t){var n=t[zg];n===void 0&&(n=t[zg]=new Set);var r=e+"__bubble";n.has(r)||(dI(t,e,2,!1),n.add(r))}function bm(e,t,n){var r=0;t&&(r|=4),dI(n,e,r,t)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function du(e){if(!e[Kc]){e[Kc]=!0,w1.forEach(function(n){n!=="selectionchange"&&(IL.has(n)||bm(n,!1,e),bm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kc]||(t[Kc]=!0,bm("selectionchange",!1,t))}}function dI(e,t,n,r){switch(Y1(t)){case 1:var i=U2;break;case 4:i=z2;break;default:i=Fy}n=i.bind(null,t,n,e),i=void 0,!Og||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Em(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Fo(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}j1(function(){var u=o,c=jy(n),d=[];e:{var h=cI.get(e);if(h!==void 0){var p=Uy,v=e;switch(e){case"keypress":if(Tf(n)===0)break e;case"keydown":case"keyup":p=rL;break;case"focusin":v="focus",p=mm;break;case"focusout":v="blur",p=mm;break;case"beforeblur":case"afterblur":p=mm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=K2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=sL;break;case sI:case aI:case lI:p=G2;break;case uI:p=lL;break;case"scroll":p=B2;break;case"wheel":p=cL;break;case"copy":case"cut":case"paste":p=Q2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lE}var _=(t&4)!==0,y=!_&&e==="scroll",w=_?h!==null?h+"Capture":null:h;_=[];for(var x=u,S;x!==null;){S=x;var R=S.stateNode;if(S.tag===5&&R!==null&&(S=R,w!==null&&(R=su(x,w),R!=null&&_.push(hu(x,R,S)))),y)break;x=x.return}0<_.length&&(h=new p(h,v,null,n,c),d.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Cg&&(v=n.relatedTarget||n.fromElement)&&(Fo(v)||v[di]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Fo(v):null,v!==null&&(y=_s(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(_=sE,R="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(_=lE,R="onPointerLeave",w="onPointerEnter",x="pointer"),y=p==null?h:Gs(p),S=v==null?h:Gs(v),h=new _(R,x+"leave",p,n,c),h.target=y,h.relatedTarget=S,R=null,Fo(c)===u&&(_=new _(w,x+"enter",v,n,c),_.target=S,_.relatedTarget=y,R=_),y=R,p&&v)t:{for(_=p,w=v,x=0,S=_;S;S=Ms(S))x++;for(S=0,R=w;R;R=Ms(R))S++;for(;0<x-S;)_=Ms(_),x--;for(;0<S-x;)w=Ms(w),S--;for(;x--;){if(_===w||w!==null&&_===w.alternate)break t;_=Ms(_),w=Ms(w)}_=null}else _=null;p!==null&&wE(d,h,p,_,!1),v!==null&&y!==null&&wE(d,y,v,_,!0)}}e:{if(h=u?Gs(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=vL;else if(fE(h))if(tI)C=bL;else{C=wL;var j=yL}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=_L);if(C&&(C=C(e,u))){eI(d,C,n,c);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Sg(h,"number",h.value)}switch(j=u?Gs(u):window,e){case"focusin":(fE(j)||j.contentEditable==="true")&&(Hs=j,Mg=u,Hl=null);break;case"focusout":Hl=Mg=Hs=null;break;case"mousedown":Lg=!0;break;case"contextmenu":case"mouseup":case"dragend":Lg=!1,gE(d,n,c);break;case"selectionchange":if(SL)break;case"keydown":case"keyup":gE(d,n,c)}var I;if(By)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ks?J1(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(X1&&n.locale!=="ko"&&(Ks||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ks&&(I=Q1()):(Qi=c,$y="value"in Qi?Qi.value:Qi.textContent,Ks=!0)),j=Zf(u,T),0<j.length&&(T=new aE(T,e,null,n,c),d.push({event:T,listeners:j}),I?T.data=I:(I=Z1(n),I!==null&&(T.data=I)))),(I=dL?hL(e,n):pL(e,n))&&(u=Zf(u,"onBeforeInput"),0<u.length&&(c=new aE("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}fI(d,t)})}function hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=su(e,n),o!=null&&r.unshift(hu(e,o,i)),o=su(e,t),o!=null&&r.push(hu(e,o,i))),e=e.return}return r}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wE(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=su(n,o),l!=null&&s.unshift(hu(n,l,a))):i||(l=su(n,o),l!=null&&s.push(hu(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var AL=/\r\n?/g,CL=/\u0000|\uFFFD/g;function _E(e){return(typeof e=="string"?e:""+e).replace(AL,`
`).replace(CL,"")}function Hc(e,t,n){if(t=_E(t),_E(e)!==t&&n)throw Error(q(425))}function ed(){}var Vg=null,Fg=null;function $g(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ug=typeof setTimeout=="function"?setTimeout:void 0,kL=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,OL=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(e){return bE.resolve(null).then(e).catch(NL)}:Ug;function NL(e){setTimeout(function(){throw e})}function xm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),uu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uu(t)}function no(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function EE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $a=Math.random().toString(36).slice(2),Pr="__reactFiber$"+$a,pu="__reactProps$"+$a,di="__reactContainer$"+$a,zg="__reactEvents$"+$a,RL="__reactListeners$"+$a,DL="__reactHandles$"+$a;function Fo(e){var t=e[Pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[di]||n[Pr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=EE(e);e!==null;){if(n=e[Pr])return n;e=EE(e)}return t}e=n,n=e.parentNode}return null}function Hu(e){return e=e[Pr]||e[di],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Ah(e){return e[pu]||null}var Bg=[],Ys=-1;function bo(e){return{current:e}}function Be(e){0>Ys||(e.current=Bg[Ys],Bg[Ys]=null,Ys--)}function Fe(e,t){Ys++,Bg[Ys]=e.current,e.current=t}var po={},en=bo(po),En=bo(!1),ns=po;function ga(e,t){var n=e.type.contextTypes;if(!n)return po;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xn(e){return e=e.childContextTypes,e!=null}function td(){Be(En),Be(en)}function xE(e,t,n){if(en.current!==po)throw Error(q(168));Fe(en,t),Fe(En,n)}function hI(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(q(108,y2(e)||"Unknown",i));return Je({},n,r)}function nd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||po,ns=en.current,Fe(en,e),Fe(En,En.current),!0}function SE(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=hI(e,t,ns),r.__reactInternalMemoizedMergedChildContext=e,Be(En),Be(en),Fe(en,e)):Be(En),Fe(En,n)}var Gr=null,Ch=!1,Sm=!1;function pI(e){Gr===null?Gr=[e]:Gr.push(e)}function jL(e){Ch=!0,pI(e)}function Eo(){if(!Sm&&Gr!==null){Sm=!0;var e=0,t=Oe;try{var n=Gr;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gr=null,Ch=!1}catch(i){throw Gr!==null&&(Gr=Gr.slice(e+1)),F1(My,Eo),i}finally{Oe=t,Sm=!1}}return null}var Qs=[],Xs=0,rd=null,id=0,qn=[],Gn=0,rs=null,Zr=1,ei="";function Ro(e,t){Qs[Xs++]=id,Qs[Xs++]=rd,rd=e,id=t}function mI(e,t,n){qn[Gn++]=Zr,qn[Gn++]=ei,qn[Gn++]=rs,rs=e;var r=Zr;e=ei;var i=32-gr(r)-1;r&=~(1<<i),n+=1;var o=32-gr(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Zr=1<<32-gr(t)+i|n<<i|r,ei=o+e}else Zr=1<<o|n<<i|r,ei=e}function Ky(e){e.return!==null&&(Ro(e,1),mI(e,1,0))}function Hy(e){for(;e===rd;)rd=Qs[--Xs],Qs[Xs]=null,id=Qs[--Xs],Qs[Xs]=null;for(;e===rs;)rs=qn[--Gn],qn[Gn]=null,ei=qn[--Gn],qn[Gn]=null,Zr=qn[--Gn],qn[Gn]=null}var Mn=null,jn=null,He=!1,dr=null;function gI(e,t){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function TE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mn=e,jn=no(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mn=e,jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rs!==null?{id:Zr,overflow:ei}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mn=e,jn=null,!0):!1;default:return!1}}function Wg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kg(e){if(He){var t=jn;if(t){var n=t;if(!TE(e,t)){if(Wg(e))throw Error(q(418));t=no(n.nextSibling);var r=Mn;t&&TE(e,t)?gI(r,n):(e.flags=e.flags&-4097|2,He=!1,Mn=e)}}else{if(Wg(e))throw Error(q(418));e.flags=e.flags&-4097|2,He=!1,Mn=e}}}function PE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mn=e}function qc(e){if(e!==Mn)return!1;if(!He)return PE(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$g(e.type,e.memoizedProps)),t&&(t=jn)){if(Wg(e))throw vI(),Error(q(418));for(;t;)gI(e,t),t=no(t.nextSibling)}if(PE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jn=no(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jn=null}}else jn=Mn?no(e.stateNode.nextSibling):null;return!0}function vI(){for(var e=jn;e;)e=no(e.nextSibling)}function va(){jn=Mn=null,He=!1}function qy(e){dr===null?dr=[e]:dr.push(e)}var ML=Pi.ReactCurrentBatchConfig;function bl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function Gc(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function IE(e){var t=e._init;return t(e._payload)}function yI(e){function t(w,x){if(e){var S=w.deletions;S===null?(w.deletions=[x],w.flags|=16):S.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=so(w,x),w.index=0,w.sibling=null,w}function o(w,x,S){return w.index=S,e?(S=w.alternate,S!==null?(S=S.index,S<x?(w.flags|=2,x):S):(w.flags|=2,x)):(w.flags|=1048576,x)}function s(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,x,S,R){return x===null||x.tag!==6?(x=Om(S,w.mode,R),x.return=w,x):(x=i(x,S),x.return=w,x)}function l(w,x,S,R){var C=S.type;return C===Ws?c(w,x,S.props.children,R,S.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$i&&IE(C)===x.type)?(R=i(x,S.props),R.ref=bl(w,x,S),R.return=w,R):(R=Nf(S.type,S.key,S.props,null,w.mode,R),R.ref=bl(w,x,S),R.return=w,R)}function u(w,x,S,R){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Nm(S,w.mode,R),x.return=w,x):(x=i(x,S.children||[]),x.return=w,x)}function c(w,x,S,R,C){return x===null||x.tag!==7?(x=Yo(S,w.mode,R,C),x.return=w,x):(x=i(x,S),x.return=w,x)}function d(w,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Om(""+x,w.mode,S),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lc:return S=Nf(x.type,x.key,x.props,null,w.mode,S),S.ref=bl(w,null,x),S.return=w,S;case Bs:return x=Nm(x,w.mode,S),x.return=w,x;case $i:var R=x._init;return d(w,R(x._payload),S)}if(Rl(x)||gl(x))return x=Yo(x,w.mode,S,null),x.return=w,x;Gc(w,x)}return null}function h(w,x,S,R){var C=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(w,x,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Lc:return S.key===C?l(w,x,S,R):null;case Bs:return S.key===C?u(w,x,S,R):null;case $i:return C=S._init,h(w,x,C(S._payload),R)}if(Rl(S)||gl(S))return C!==null?null:c(w,x,S,R,null);Gc(w,S)}return null}function p(w,x,S,R,C){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(S)||null,a(x,w,""+R,C);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Lc:return w=w.get(R.key===null?S:R.key)||null,l(x,w,R,C);case Bs:return w=w.get(R.key===null?S:R.key)||null,u(x,w,R,C);case $i:var j=R._init;return p(w,x,S,j(R._payload),C)}if(Rl(R)||gl(R))return w=w.get(S)||null,c(x,w,R,C,null);Gc(x,R)}return null}function v(w,x,S,R){for(var C=null,j=null,I=x,T=x=0,P=null;I!==null&&T<S.length;T++){I.index>T?(P=I,I=null):P=I.sibling;var k=h(w,I,S[T],R);if(k===null){I===null&&(I=P);break}e&&I&&k.alternate===null&&t(w,I),x=o(k,x,T),j===null?C=k:j.sibling=k,j=k,I=P}if(T===S.length)return n(w,I),He&&Ro(w,T),C;if(I===null){for(;T<S.length;T++)I=d(w,S[T],R),I!==null&&(x=o(I,x,T),j===null?C=I:j.sibling=I,j=I);return He&&Ro(w,T),C}for(I=r(w,I);T<S.length;T++)P=p(I,w,T,S[T],R),P!==null&&(e&&P.alternate!==null&&I.delete(P.key===null?T:P.key),x=o(P,x,T),j===null?C=P:j.sibling=P,j=P);return e&&I.forEach(function(N){return t(w,N)}),He&&Ro(w,T),C}function _(w,x,S,R){var C=gl(S);if(typeof C!="function")throw Error(q(150));if(S=C.call(S),S==null)throw Error(q(151));for(var j=C=null,I=x,T=x=0,P=null,k=S.next();I!==null&&!k.done;T++,k=S.next()){I.index>T?(P=I,I=null):P=I.sibling;var N=h(w,I,k.value,R);if(N===null){I===null&&(I=P);break}e&&I&&N.alternate===null&&t(w,I),x=o(N,x,T),j===null?C=N:j.sibling=N,j=N,I=P}if(k.done)return n(w,I),He&&Ro(w,T),C;if(I===null){for(;!k.done;T++,k=S.next())k=d(w,k.value,R),k!==null&&(x=o(k,x,T),j===null?C=k:j.sibling=k,j=k);return He&&Ro(w,T),C}for(I=r(w,I);!k.done;T++,k=S.next())k=p(I,w,T,k.value,R),k!==null&&(e&&k.alternate!==null&&I.delete(k.key===null?T:k.key),x=o(k,x,T),j===null?C=k:j.sibling=k,j=k);return e&&I.forEach(function(D){return t(w,D)}),He&&Ro(w,T),C}function y(w,x,S,R){if(typeof S=="object"&&S!==null&&S.type===Ws&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Lc:e:{for(var C=S.key,j=x;j!==null;){if(j.key===C){if(C=S.type,C===Ws){if(j.tag===7){n(w,j.sibling),x=i(j,S.props.children),x.return=w,w=x;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$i&&IE(C)===j.type){n(w,j.sibling),x=i(j,S.props),x.ref=bl(w,j,S),x.return=w,w=x;break e}n(w,j);break}else t(w,j);j=j.sibling}S.type===Ws?(x=Yo(S.props.children,w.mode,R,S.key),x.return=w,w=x):(R=Nf(S.type,S.key,S.props,null,w.mode,R),R.ref=bl(w,x,S),R.return=w,w=R)}return s(w);case Bs:e:{for(j=S.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(w,x.sibling),x=i(x,S.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else t(w,x);x=x.sibling}x=Nm(S,w.mode,R),x.return=w,w=x}return s(w);case $i:return j=S._init,y(w,x,j(S._payload),R)}if(Rl(S))return v(w,x,S,R);if(gl(S))return _(w,x,S,R);Gc(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(w,x.sibling),x=i(x,S),x.return=w,w=x):(n(w,x),x=Om(S,w.mode,R),x.return=w,w=x),s(w)):n(w,x)}return y}var ya=yI(!0),wI=yI(!1),od=bo(null),sd=null,Js=null,Gy=null;function Yy(){Gy=Js=sd=null}function Qy(e){var t=od.current;Be(od),e._currentValue=t}function Hg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function aa(e,t){sd=e,Gy=Js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_n=!0),e.firstContext=null)}function tr(e){var t=e._currentValue;if(Gy!==e)if(e={context:e,memoizedValue:t,next:null},Js===null){if(sd===null)throw Error(q(308));Js=e,sd.dependencies={lanes:0,firstContext:e}}else Js=Js.next=e;return t}var $o=null;function Xy(e){$o===null?$o=[e]:$o.push(e)}function _I(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Xy(t)):(n.next=i.next,i.next=n),t.interleaved=n,hi(e,r)}function hi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ui=!1;function Jy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ro(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,hi(e,n)}return i=r.interleaved,i===null?(t.next=t,Xy(r)):(t.next=i.next,i.next=t),r.interleaved=t,hi(e,n)}function Pf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ly(e,n)}}function AE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ad(e,t,n,r){var i=e.updateQueue;Ui=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,_=a;switch(h=t,p=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,h=typeof v=="function"?v.call(p,d,h):v,h==null)break e;d=Je({},d,h);break e;case 2:Ui=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);os|=s,e.lanes=s,e.memoizedState=d}}function CE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var qu={},Cr=bo(qu),mu=bo(qu),gu=bo(qu);function Uo(e){if(e===qu)throw Error(q(174));return e}function Zy(e,t){switch(Fe(gu,t),Fe(mu,e),Fe(Cr,qu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pg(t,e)}Be(Cr),Fe(Cr,t)}function wa(){Be(Cr),Be(mu),Be(gu)}function EI(e){Uo(gu.current);var t=Uo(Cr.current),n=Pg(t,e.type);t!==n&&(Fe(mu,e),Fe(Cr,n))}function e0(e){mu.current===e&&(Be(Cr),Be(mu))}var Qe=bo(0);function ld(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tm=[];function t0(){for(var e=0;e<Tm.length;e++)Tm[e]._workInProgressVersionPrimary=null;Tm.length=0}var If=Pi.ReactCurrentDispatcher,Pm=Pi.ReactCurrentBatchConfig,is=0,Xe=null,ht=null,At=null,ud=!1,ql=!1,vu=0,LL=0;function Ht(){throw Error(q(321))}function n0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wr(e[n],t[n]))return!1;return!0}function r0(e,t,n,r,i,o){if(is=o,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,If.current=e===null||e.memoizedState===null?UL:zL,e=n(r,i),ql){o=0;do{if(ql=!1,vu=0,25<=o)throw Error(q(301));o+=1,At=ht=null,t.updateQueue=null,If.current=BL,e=n(r,i)}while(ql)}if(If.current=cd,t=ht!==null&&ht.next!==null,is=0,At=ht=Xe=null,ud=!1,t)throw Error(q(300));return e}function i0(){var e=vu!==0;return vu=0,e}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Xe.memoizedState=At=e:At=At.next=e,At}function nr(){if(ht===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=At===null?Xe.memoizedState:At.next;if(t!==null)At=t,ht=e;else{if(e===null)throw Error(q(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},At===null?Xe.memoizedState=At=e:At=At.next=e}return At}function yu(e,t){return typeof t=="function"?t(e):t}function Im(e){var t=nr(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=ht,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((is&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Xe.lanes|=c,os|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,wr(r,t.memoizedState)||(_n=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Xe.lanes|=o,os|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Am(e){var t=nr(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);wr(o,t.memoizedState)||(_n=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xI(){}function SI(e,t){var n=Xe,r=nr(),i=t(),o=!wr(r.memoizedState,i);if(o&&(r.memoizedState=i,_n=!0),r=r.queue,o0(II.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,wu(9,PI.bind(null,n,r,i,t),void 0,null),Ct===null)throw Error(q(349));is&30||TI(n,t,i)}return i}function TI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function PI(e,t,n,r){t.value=n,t.getSnapshot=r,AI(t)&&CI(e)}function II(e,t,n){return n(function(){AI(t)&&CI(e)})}function AI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wr(e,n)}catch{return!0}}function CI(e){var t=hi(e,1);t!==null&&vr(t,e,1,-1)}function kE(e){var t=Sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yu,lastRenderedState:e},t.queue=e,e=e.dispatch=$L.bind(null,Xe,e),[t.memoizedState,e]}function wu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kI(){return nr().memoizedState}function Af(e,t,n,r){var i=Sr();Xe.flags|=e,i.memoizedState=wu(1|t,n,void 0,r===void 0?null:r)}function kh(e,t,n,r){var i=nr();r=r===void 0?null:r;var o=void 0;if(ht!==null){var s=ht.memoizedState;if(o=s.destroy,r!==null&&n0(r,s.deps)){i.memoizedState=wu(t,n,o,r);return}}Xe.flags|=e,i.memoizedState=wu(1|t,n,o,r)}function OE(e,t){return Af(8390656,8,e,t)}function o0(e,t){return kh(2048,8,e,t)}function OI(e,t){return kh(4,2,e,t)}function NI(e,t){return kh(4,4,e,t)}function RI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function DI(e,t,n){return n=n!=null?n.concat([e]):null,kh(4,4,RI.bind(null,t,e),n)}function s0(){}function jI(e,t){var n=nr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function MI(e,t){var n=nr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function LI(e,t,n){return is&21?(wr(n,t)||(n=z1(),Xe.lanes|=n,os|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_n=!0),e.memoizedState=n)}function VL(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=Pm.transition;Pm.transition={};try{e(!1),t()}finally{Oe=n,Pm.transition=r}}function VI(){return nr().memoizedState}function FL(e,t,n){var r=oo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FI(e))$I(t,n);else if(n=_I(e,t,n,r),n!==null){var i=cn();vr(n,e,r,i),UI(n,t,r)}}function $L(e,t,n){var r=oo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FI(e))$I(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,wr(a,s)){var l=t.interleaved;l===null?(i.next=i,Xy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=_I(e,t,i,r),n!==null&&(i=cn(),vr(n,e,r,i),UI(n,t,r))}}function FI(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function $I(e,t){ql=ud=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function UI(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ly(e,n)}}var cd={readContext:tr,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},UL={readContext:tr,useCallback:function(e,t){return Sr().memoizedState=[e,t===void 0?null:t],e},useContext:tr,useEffect:OE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Af(4194308,4,RI.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Af(4194308,4,e,t)},useInsertionEffect:function(e,t){return Af(4,2,e,t)},useMemo:function(e,t){var n=Sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=FL.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=Sr();return e={current:e},t.memoizedState=e},useState:kE,useDebugValue:s0,useDeferredValue:function(e){return Sr().memoizedState=e},useTransition:function(){var e=kE(!1),t=e[0];return e=VL.bind(null,e[1]),Sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,i=Sr();if(He){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),Ct===null)throw Error(q(349));is&30||TI(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,OE(II.bind(null,r,o,e),[e]),r.flags|=2048,wu(9,PI.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Sr(),t=Ct.identifierPrefix;if(He){var n=ei,r=Zr;n=(r&~(1<<32-gr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=LL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zL={readContext:tr,useCallback:jI,useContext:tr,useEffect:o0,useImperativeHandle:DI,useInsertionEffect:OI,useLayoutEffect:NI,useMemo:MI,useReducer:Im,useRef:kI,useState:function(){return Im(yu)},useDebugValue:s0,useDeferredValue:function(e){var t=nr();return LI(t,ht.memoizedState,e)},useTransition:function(){var e=Im(yu)[0],t=nr().memoizedState;return[e,t]},useMutableSource:xI,useSyncExternalStore:SI,useId:VI,unstable_isNewReconciler:!1},BL={readContext:tr,useCallback:jI,useContext:tr,useEffect:o0,useImperativeHandle:DI,useInsertionEffect:OI,useLayoutEffect:NI,useMemo:MI,useReducer:Am,useRef:kI,useState:function(){return Am(yu)},useDebugValue:s0,useDeferredValue:function(e){var t=nr();return ht===null?t.memoizedState=e:LI(t,ht.memoizedState,e)},useTransition:function(){var e=Am(yu)[0],t=nr().memoizedState;return[e,t]},useMutableSource:xI,useSyncExternalStore:SI,useId:VI,unstable_isNewReconciler:!1};function cr(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oh={isMounted:function(e){return(e=e._reactInternals)?_s(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cn(),i=oo(e),o=ai(r,i);o.payload=t,n!=null&&(o.callback=n),t=ro(e,o,i),t!==null&&(vr(t,e,i,r),Pf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cn(),i=oo(e),o=ai(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ro(e,o,i),t!==null&&(vr(t,e,i,r),Pf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cn(),r=oo(e),i=ai(n,r);i.tag=2,t!=null&&(i.callback=t),t=ro(e,i,r),t!==null&&(vr(t,e,r,n),Pf(t,e,r))}};function NE(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!fu(n,r)||!fu(i,o):!0}function zI(e,t,n){var r=!1,i=po,o=t.contextType;return typeof o=="object"&&o!==null?o=tr(o):(i=xn(t)?ns:en.current,r=t.contextTypes,o=(r=r!=null)?ga(e,i):po),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function RE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oh.enqueueReplaceState(t,t.state,null)}function Gg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Jy(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=tr(o):(o=xn(t)?ns:en.current,i.context=ga(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qg(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Oh.enqueueReplaceState(i,i.state,null),ad(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _a(e,t){try{var n="",r=t;do n+=v2(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Cm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var WL=typeof WeakMap=="function"?WeakMap:Map;function BI(e,t,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){dd||(dd=!0,ov=r),Yg(e,t)},n}function WI(e,t,n){n=ai(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Yg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Yg(e,t),typeof r!="function"&&(io===null?io=new Set([this]):io.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function DE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new WL;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=iV.bind(null,e,t,n),t.then(e,e))}function jE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ME(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ai(-1,1),t.tag=2,ro(n,t,1))),n.lanes|=1),e)}var KL=Pi.ReactCurrentOwner,_n=!1;function an(e,t,n,r){t.child=e===null?wI(t,null,n,r):ya(t,e.child,n,r)}function LE(e,t,n,r,i){n=n.render;var o=t.ref;return aa(t,i),r=r0(e,t,n,r,o,i),n=i0(),e!==null&&!_n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pi(e,t,i)):(He&&n&&Ky(t),t.flags|=1,an(e,t,r,i),t.child)}function VE(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!p0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,KI(e,t,o,r,i)):(e=Nf(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:fu,n(s,r)&&e.ref===t.ref)return pi(e,t,i)}return t.flags|=1,e=so(o,r),e.ref=t.ref,e.return=t,t.child=e}function KI(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(fu(o,r)&&e.ref===t.ref)if(_n=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(_n=!0);else return t.lanes=e.lanes,pi(e,t,i)}return Qg(e,t,n,r,i)}function HI(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(ea,Nn),Nn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(ea,Nn),Nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Fe(ea,Nn),Nn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Fe(ea,Nn),Nn|=r;return an(e,t,i,n),t.child}function qI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qg(e,t,n,r,i){var o=xn(n)?ns:en.current;return o=ga(t,o),aa(t,i),n=r0(e,t,n,r,o,i),r=i0(),e!==null&&!_n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pi(e,t,i)):(He&&r&&Ky(t),t.flags|=1,an(e,t,n,i),t.child)}function FE(e,t,n,r,i){if(xn(n)){var o=!0;nd(t)}else o=!1;if(aa(t,i),t.stateNode===null)Cf(e,t),zI(t,n,r),Gg(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=tr(u):(u=xn(n)?ns:en.current,u=ga(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&RE(t,s,r,u),Ui=!1;var h=t.memoizedState;s.state=h,ad(t,r,s,i),l=t.memoizedState,a!==r||h!==l||En.current||Ui?(typeof c=="function"&&(qg(t,n,c,r),l=t.memoizedState),(a=Ui||NE(t,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,bI(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:cr(t.type,a),s.props=u,d=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=tr(l):(l=xn(n)?ns:en.current,l=ga(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&RE(t,s,r,l),Ui=!1,h=t.memoizedState,s.state=h,ad(t,r,s,i);var v=t.memoizedState;a!==d||h!==v||En.current||Ui?(typeof p=="function"&&(qg(t,n,p,r),v=t.memoizedState),(u=Ui||NE(t,n,u,r,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Xg(e,t,n,r,o,i)}function Xg(e,t,n,r,i,o){qI(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&SE(t,n,!1),pi(e,t,o);r=t.stateNode,KL.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=ya(t,e.child,null,o),t.child=ya(t,null,a,o)):an(e,t,a,o),t.memoizedState=r.state,i&&SE(t,n,!0),t.child}function GI(e){var t=e.stateNode;t.pendingContext?xE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xE(e,t.context,!1),Zy(e,t.containerInfo)}function $E(e,t,n,r,i){return va(),qy(i),t.flags|=256,an(e,t,n,r),t.child}var Jg={dehydrated:null,treeContext:null,retryLane:0};function Zg(e){return{baseLanes:e,cachePool:null,transitions:null}}function YI(e,t,n){var r=t.pendingProps,i=Qe.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fe(Qe,i&1),e===null)return Kg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Dh(s,r,0,null),e=Yo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Zg(n),t.memoizedState=Jg,e):a0(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return HL(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=so(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=so(a,o):(o=Yo(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Zg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Jg,r}return o=e.child,e=o.sibling,r=so(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function a0(e,t){return t=Dh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yc(e,t,n,r){return r!==null&&qy(r),ya(t,e.child,null,n),e=a0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HL(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Cm(Error(q(422))),Yc(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Dh({mode:"visible",children:r.children},i,0,null),o=Yo(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ya(t,e.child,null,s),t.child.memoizedState=Zg(s),t.memoizedState=Jg,o);if(!(t.mode&1))return Yc(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(q(419)),r=Cm(o,r,void 0),Yc(e,t,s,r)}if(a=(s&e.childLanes)!==0,_n||a){if(r=Ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,hi(e,i),vr(r,e,i,-1))}return h0(),r=Cm(Error(q(421))),Yc(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=oV.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,jn=no(i.nextSibling),Mn=t,He=!0,dr=null,e!==null&&(qn[Gn++]=Zr,qn[Gn++]=ei,qn[Gn++]=rs,Zr=e.id,ei=e.overflow,rs=t),t=a0(t,r.children),t.flags|=4096,t)}function UE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hg(e.return,t,n)}function km(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function QI(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(an(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&UE(e,n,t);else if(e.tag===19)UE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ld(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),km(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ld(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}km(t,!0,n,null,o);break;case"together":km(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),os|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=so(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=so(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qL(e,t,n){switch(t.tag){case 3:GI(t),va();break;case 5:EI(t);break;case 1:xn(t.type)&&nd(t);break;case 4:Zy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fe(od,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?YI(e,t,n):(Fe(Qe,Qe.current&1),e=pi(e,t,n),e!==null?e.sibling:null);Fe(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return QI(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,HI(e,t,n)}return pi(e,t,n)}var XI,ev,JI,ZI;XI=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ev=function(){};JI=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Uo(Cr.current);var o=null;switch(n){case"input":i=Eg(e,i),r=Eg(e,r),o=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),o=[];break;case"textarea":i=Tg(e,i),r=Tg(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ed)}Ig(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(iu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(iu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ue("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ZI=function(e,t,n,r){n!==r&&(t.flags|=4)};function El(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function GL(e,t,n){var r=t.pendingProps;switch(Hy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return xn(t.type)&&td(),qt(t),null;case 3:return r=t.stateNode,wa(),Be(En),Be(en),t0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dr!==null&&(lv(dr),dr=null))),ev(e,t),qt(t),null;case 5:e0(t);var i=Uo(gu.current);if(n=t.type,e!==null&&t.stateNode!=null)JI(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return qt(t),null}if(e=Uo(Cr.current),qc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Pr]=t,r[pu]=o,e=(t.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<jl.length;i++)Ue(jl[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Qb(r,o),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ue("invalid",r);break;case"textarea":Jb(r,o),Ue("invalid",r)}Ig(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Hc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Hc(r.textContent,a,e),i=["children",""+a]):iu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Vc(r),Xb(r,o,!0);break;case"textarea":Vc(r),Zb(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ed)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=I1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Pr]=t,e[pu]=r,XI(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ag(n,r),n){case"dialog":Ue("cancel",e),Ue("close",e),i=r;break;case"iframe":case"object":case"embed":Ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<jl.length;i++)Ue(jl[i],e);i=r;break;case"source":Ue("error",e),i=r;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),i=r;break;case"details":Ue("toggle",e),i=r;break;case"input":Qb(e,r),i=Eg(e,r),Ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Ue("invalid",e);break;case"textarea":Jb(e,r),i=Tg(e,r),Ue("invalid",e);break;default:i=r}Ig(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?k1(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&A1(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ou(e,l):typeof l=="number"&&ou(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(iu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ue("scroll",e):l!=null&&Oy(e,o,l,s))}switch(n){case"input":Vc(e),Xb(e,r,!1);break;case"textarea":Vc(e),Zb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ho(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ra(e,!!r.multiple,o,!1):r.defaultValue!=null&&ra(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qt(t),null;case 6:if(e&&t.stateNode!=null)ZI(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Uo(gu.current),Uo(Cr.current),qc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pr]=t,(o=r.nodeValue!==n)&&(e=Mn,e!==null))switch(e.tag){case 3:Hc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=t,t.stateNode=r}return qt(t),null;case 13:if(Be(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&jn!==null&&t.mode&1&&!(t.flags&128))vI(),va(),t.flags|=98560,o=!1;else if(o=qc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(q(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[Pr]=t}else va(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qt(t),o=!1}else dr!==null&&(lv(dr),dr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?vt===0&&(vt=3):h0())),t.updateQueue!==null&&(t.flags|=4),qt(t),null);case 4:return wa(),ev(e,t),e===null&&du(t.stateNode.containerInfo),qt(t),null;case 10:return Qy(t.type._context),qt(t),null;case 17:return xn(t.type)&&td(),qt(t),null;case 19:if(Be(Qe),o=t.memoizedState,o===null)return qt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)El(o,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ld(e),s!==null){for(t.flags|=128,El(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(Qe,Qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&st()>ba&&(t.flags|=128,r=!0,El(o,!1),t.lanes=4194304)}else{if(!r)if(e=ld(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),El(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!He)return qt(t),null}else 2*st()-o.renderingStartTime>ba&&n!==1073741824&&(t.flags|=128,r=!0,El(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=st(),t.sibling=null,n=Qe.current,Fe(Qe,r?n&1|2:n&1),t):(qt(t),null);case 22:case 23:return d0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Nn&1073741824&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function YL(e,t){switch(Hy(t),t.tag){case 1:return xn(t.type)&&td(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(),Be(En),Be(en),t0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return e0(t),null;case 13:if(Be(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Qe),null;case 4:return wa(),null;case 10:return Qy(t.type._context),null;case 22:case 23:return d0(),null;case 24:return null;default:return null}}var Qc=!1,Xt=!1,QL=typeof WeakSet=="function"?WeakSet:Set,te=null;function Zs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(e,t,r)}else n.current=null}function tv(e,t,n){try{n()}catch(r){nt(e,t,r)}}var zE=!1;function XL(e,t){if(Vg=Xf,e=iI(),Wy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fg={focusedElem:e,selectionRange:n},Xf=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,y=v.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?_:cr(t.type,_),y);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(R){nt(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return v=zE,zE=!1,v}function Gl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&tv(t,n,o)}i=i.next}while(i!==r)}}function Nh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eA(e){var t=e.alternate;t!==null&&(e.alternate=null,eA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pr],delete t[pu],delete t[zg],delete t[RL],delete t[DL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tA(e){return e.tag===5||e.tag===3||e.tag===4}function BE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ed));else if(r!==4&&(e=e.child,e!==null))for(rv(e,t,n),e=e.sibling;e!==null;)rv(e,t,n),e=e.sibling}function iv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(iv(e,t,n),e=e.sibling;e!==null;)iv(e,t,n),e=e.sibling}var jt=null,fr=!1;function Vi(e,t,n){for(n=n.child;n!==null;)nA(e,t,n),n=n.sibling}function nA(e,t,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Sh,n)}catch{}switch(n.tag){case 5:Xt||Zs(n,t);case 6:var r=jt,i=fr;jt=null,Vi(e,t,n),jt=r,fr=i,jt!==null&&(fr?(e=jt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(fr?(e=jt,n=n.stateNode,e.nodeType===8?xm(e.parentNode,n):e.nodeType===1&&xm(e,n),uu(e)):xm(jt,n.stateNode));break;case 4:r=jt,i=fr,jt=n.stateNode.containerInfo,fr=!0,Vi(e,t,n),jt=r,fr=i;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&tv(n,t,s),i=i.next}while(i!==r)}Vi(e,t,n);break;case 1:if(!Xt&&(Zs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,t,a)}Vi(e,t,n);break;case 21:Vi(e,t,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,Vi(e,t,n),Xt=r):Vi(e,t,n);break;default:Vi(e,t,n)}}function WE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new QL),t.forEach(function(r){var i=sV.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ur(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:jt=a.stateNode,fr=!1;break e;case 3:jt=a.stateNode.containerInfo,fr=!0;break e;case 4:jt=a.stateNode.containerInfo,fr=!0;break e}a=a.return}if(jt===null)throw Error(q(160));nA(o,s,i),jt=null,fr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){nt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rA(t,e),t=t.sibling}function rA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ur(t,e),xr(e),r&4){try{Gl(3,e,e.return),Nh(3,e)}catch(_){nt(e,e.return,_)}try{Gl(5,e,e.return)}catch(_){nt(e,e.return,_)}}break;case 1:ur(t,e),xr(e),r&512&&n!==null&&Zs(n,n.return);break;case 5:if(ur(t,e),xr(e),r&512&&n!==null&&Zs(n,n.return),e.flags&32){var i=e.stateNode;try{ou(i,"")}catch(_){nt(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&T1(i,o),Ag(a,s);var u=Ag(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?k1(i,d):c==="dangerouslySetInnerHTML"?A1(i,d):c==="children"?ou(i,d):Oy(i,c,d,u)}switch(a){case"input":xg(i,o);break;case"textarea":P1(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ra(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ra(i,!!o.multiple,o.defaultValue,!0):ra(i,!!o.multiple,o.multiple?[]:"",!1))}i[pu]=o}catch(_){nt(e,e.return,_)}}break;case 6:if(ur(t,e),xr(e),r&4){if(e.stateNode===null)throw Error(q(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){nt(e,e.return,_)}}break;case 3:if(ur(t,e),xr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uu(t.containerInfo)}catch(_){nt(e,e.return,_)}break;case 4:ur(t,e),xr(e);break;case 13:ur(t,e),xr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(c0=st())),r&4&&WE(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Xt=(u=Xt)||c,ur(t,e),Xt=u):ur(t,e),xr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(te=e,c=e.child;c!==null;){for(d=te=c;te!==null;){switch(h=te,p=h.child,h.tag){case 0:case 11:case 14:case 15:Gl(4,h,h.return);break;case 1:Zs(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(_){nt(r,n,_)}}break;case 5:Zs(h,h.return);break;case 22:if(h.memoizedState!==null){HE(d);continue}}p!==null?(p.return=h,te=p):HE(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=C1("display",s))}catch(_){nt(e,e.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){nt(e,e.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ur(t,e),xr(e),r&4&&WE(e);break;case 21:break;default:ur(t,e),xr(e)}}function xr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tA(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ou(i,""),r.flags&=-33);var o=BE(e);iv(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=BE(e);rv(e,a,s);break;default:throw Error(q(161))}}catch(l){nt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JL(e,t,n){te=e,iA(e)}function iA(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var i=te,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Qc;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xt;a=Qc;var u=Xt;if(Qc=s,(Xt=l)&&!u)for(te=i;te!==null;)s=te,l=s.child,s.tag===22&&s.memoizedState!==null?qE(i):l!==null?(l.return=s,te=l):qE(i);for(;o!==null;)te=o,iA(o),o=o.sibling;te=i,Qc=a,Xt=u}KE(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,te=o):KE(e)}}function KE(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xt||Nh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:cr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&CE(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}CE(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&uu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Xt||t.flags&512&&nv(t)}catch(h){nt(t,t.return,h)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function HE(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function qE(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Nh(4,t)}catch(l){nt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){nt(t,i,l)}}var o=t.return;try{nv(t)}catch(l){nt(t,o,l)}break;case 5:var s=t.return;try{nv(t)}catch(l){nt(t,s,l)}}}catch(l){nt(t,t.return,l)}if(t===e){te=null;break}var a=t.sibling;if(a!==null){a.return=t.return,te=a;break}te=t.return}}var ZL=Math.ceil,fd=Pi.ReactCurrentDispatcher,l0=Pi.ReactCurrentOwner,Zn=Pi.ReactCurrentBatchConfig,Te=0,Ct=null,ut=null,Ft=0,Nn=0,ea=bo(0),vt=0,_u=null,os=0,Rh=0,u0=0,Yl=null,yn=null,c0=0,ba=1/0,Hr=null,dd=!1,ov=null,io=null,Xc=!1,Xi=null,hd=0,Ql=0,sv=null,kf=-1,Of=0;function cn(){return Te&6?st():kf!==-1?kf:kf=st()}function oo(e){return e.mode&1?Te&2&&Ft!==0?Ft&-Ft:ML.transition!==null?(Of===0&&(Of=z1()),Of):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Y1(e.type)),e):1}function vr(e,t,n,r){if(50<Ql)throw Ql=0,sv=null,Error(q(185));Wu(e,n,r),(!(Te&2)||e!==Ct)&&(e===Ct&&(!(Te&2)&&(Rh|=n),vt===4&&Ki(e,Ft)),Sn(e,r),n===1&&Te===0&&!(t.mode&1)&&(ba=st()+500,Ch&&Eo()))}function Sn(e,t){var n=e.callbackNode;M2(e,t);var r=Qf(e,e===Ct?Ft:0);if(r===0)n!==null&&nE(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nE(n),t===1)e.tag===0?jL(GE.bind(null,e)):pI(GE.bind(null,e)),OL(function(){!(Te&6)&&Eo()}),n=null;else{switch(B1(r)){case 1:n=My;break;case 4:n=$1;break;case 16:n=Yf;break;case 536870912:n=U1;break;default:n=Yf}n=dA(n,oA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oA(e,t){if(kf=-1,Of=0,Te&6)throw Error(q(327));var n=e.callbackNode;if(la()&&e.callbackNode!==n)return null;var r=Qf(e,e===Ct?Ft:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=pd(e,r);else{t=r;var i=Te;Te|=2;var o=aA();(Ct!==e||Ft!==t)&&(Hr=null,ba=st()+500,Go(e,t));do try{nV();break}catch(a){sA(e,a)}while(!0);Yy(),fd.current=o,Te=i,ut!==null?t=0:(Ct=null,Ft=0,t=vt)}if(t!==0){if(t===2&&(i=Rg(e),i!==0&&(r=i,t=av(e,i))),t===1)throw n=_u,Go(e,0),Ki(e,r),Sn(e,st()),n;if(t===6)Ki(e,r);else{if(i=e.current.alternate,!(r&30)&&!eV(i)&&(t=pd(e,r),t===2&&(o=Rg(e),o!==0&&(r=o,t=av(e,o))),t===1))throw n=_u,Go(e,0),Ki(e,r),Sn(e,st()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:Do(e,yn,Hr);break;case 3:if(Ki(e,r),(r&130023424)===r&&(t=c0+500-st(),10<t)){if(Qf(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){cn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ug(Do.bind(null,e,yn,Hr),t);break}Do(e,yn,Hr);break;case 4:if(Ki(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-gr(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZL(r/1960))-r,10<r){e.timeoutHandle=Ug(Do.bind(null,e,yn,Hr),r);break}Do(e,yn,Hr);break;case 5:Do(e,yn,Hr);break;default:throw Error(q(329))}}}return Sn(e,st()),e.callbackNode===n?oA.bind(null,e):null}function av(e,t){var n=Yl;return e.current.memoizedState.isDehydrated&&(Go(e,t).flags|=256),e=pd(e,t),e!==2&&(t=yn,yn=n,t!==null&&lv(t)),e}function lv(e){yn===null?yn=e:yn.push.apply(yn,e)}function eV(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!wr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ki(e,t){for(t&=~u0,t&=~Rh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gr(t),r=1<<n;e[n]=-1,t&=~r}}function GE(e){if(Te&6)throw Error(q(327));la();var t=Qf(e,0);if(!(t&1))return Sn(e,st()),null;var n=pd(e,t);if(e.tag!==0&&n===2){var r=Rg(e);r!==0&&(t=r,n=av(e,r))}if(n===1)throw n=_u,Go(e,0),Ki(e,t),Sn(e,st()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Do(e,yn,Hr),Sn(e,st()),null}function f0(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(ba=st()+500,Ch&&Eo())}}function ss(e){Xi!==null&&Xi.tag===0&&!(Te&6)&&la();var t=Te;Te|=1;var n=Zn.transition,r=Oe;try{if(Zn.transition=null,Oe=1,e)return e()}finally{Oe=r,Zn.transition=n,Te=t,!(Te&6)&&Eo()}}function d0(){Nn=ea.current,Be(ea)}function Go(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kL(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Hy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&td();break;case 3:wa(),Be(En),Be(en),t0();break;case 5:e0(r);break;case 4:wa();break;case 13:Be(Qe);break;case 19:Be(Qe);break;case 10:Qy(r.type._context);break;case 22:case 23:d0()}n=n.return}if(Ct=e,ut=e=so(e.current,null),Ft=Nn=t,vt=0,_u=null,u0=Rh=os=0,yn=Yl=null,$o!==null){for(t=0;t<$o.length;t++)if(n=$o[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}$o=null}return e}function sA(e,t){do{var n=ut;try{if(Yy(),If.current=cd,ud){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ud=!1}if(is=0,At=ht=Xe=null,ql=!1,vu=0,l0.current=null,n===null||n.return===null){vt=1,_u=t,ut=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=jE(s);if(p!==null){p.flags&=-257,ME(p,s,a,o,t),p.mode&1&&DE(o,u,t),t=p,l=u;var v=t.updateQueue;if(v===null){var _=new Set;_.add(l),t.updateQueue=_}else v.add(l);break e}else{if(!(t&1)){DE(o,u,t),h0();break e}l=Error(q(426))}}else if(He&&a.mode&1){var y=jE(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ME(y,s,a,o,t),qy(_a(l,a));break e}}o=l=_a(l,a),vt!==4&&(vt=2),Yl===null?Yl=[o]:Yl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=BI(o,l,t);AE(o,w);break e;case 1:a=l;var x=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(io===null||!io.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var R=WI(o,a,t);AE(o,R);break e}}o=o.return}while(o!==null)}uA(n)}catch(C){t=C,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function aA(){var e=fd.current;return fd.current=cd,e===null?cd:e}function h0(){(vt===0||vt===3||vt===2)&&(vt=4),Ct===null||!(os&268435455)&&!(Rh&268435455)||Ki(Ct,Ft)}function pd(e,t){var n=Te;Te|=2;var r=aA();(Ct!==e||Ft!==t)&&(Hr=null,Go(e,t));do try{tV();break}catch(i){sA(e,i)}while(!0);if(Yy(),Te=n,fd.current=r,ut!==null)throw Error(q(261));return Ct=null,Ft=0,vt}function tV(){for(;ut!==null;)lA(ut)}function nV(){for(;ut!==null&&!I2();)lA(ut)}function lA(e){var t=fA(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?uA(e):ut=t,l0.current=null}function uA(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=YL(n,t),n!==null){n.flags&=32767,ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,ut=null;return}}else if(n=GL(n,t,Nn),n!==null){ut=n;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);vt===0&&(vt=5)}function Do(e,t,n){var r=Oe,i=Zn.transition;try{Zn.transition=null,Oe=1,rV(e,t,n,r)}finally{Zn.transition=i,Oe=r}return null}function rV(e,t,n,r){do la();while(Xi!==null);if(Te&6)throw Error(q(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(L2(e,o),e===Ct&&(ut=Ct=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xc||(Xc=!0,dA(Yf,function(){return la(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Zn.transition,Zn.transition=null;var s=Oe;Oe=1;var a=Te;Te|=4,l0.current=null,XL(e,n),rA(n,e),xL(Fg),Xf=!!Vg,Fg=Vg=null,e.current=n,JL(n),A2(),Te=a,Oe=s,Zn.transition=o}else e.current=n;if(Xc&&(Xc=!1,Xi=e,hd=i),o=e.pendingLanes,o===0&&(io=null),O2(n.stateNode),Sn(e,st()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dd)throw dd=!1,e=ov,ov=null,e;return hd&1&&e.tag!==0&&la(),o=e.pendingLanes,o&1?e===sv?Ql++:(Ql=0,sv=e):Ql=0,Eo(),null}function la(){if(Xi!==null){var e=B1(hd),t=Zn.transition,n=Oe;try{if(Zn.transition=null,Oe=16>e?16:e,Xi===null)var r=!1;else{if(e=Xi,Xi=null,hd=0,Te&6)throw Error(q(331));var i=Te;for(Te|=4,te=e.current;te!==null;){var o=te,s=o.child;if(te.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:Gl(8,c,o)}var d=c.child;if(d!==null)d.return=c,te=d;else for(;te!==null;){c=te;var h=c.sibling,p=c.return;if(eA(c),c===u){te=null;break}if(h!==null){h.return=p,te=h;break}te=p}}}var v=o.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var y=_.sibling;_.sibling=null,_=y}while(_!==null)}}te=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,te=s;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gl(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,te=w;break e}te=o.return}}var x=e.current;for(te=x;te!==null;){s=te;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,te=S;else e:for(s=x;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nh(9,a)}}catch(C){nt(a,a.return,C)}if(a===s){te=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,te=R;break e}te=a.return}}if(Te=i,Eo(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Sh,e)}catch{}r=!0}return r}finally{Oe=n,Zn.transition=t}}return!1}function YE(e,t,n){t=_a(n,t),t=BI(e,t,1),e=ro(e,t,1),t=cn(),e!==null&&(Wu(e,1,t),Sn(e,t))}function nt(e,t,n){if(e.tag===3)YE(e,e,n);else for(;t!==null;){if(t.tag===3){YE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(io===null||!io.has(r))){e=_a(n,e),e=WI(t,e,1),t=ro(t,e,1),e=cn(),t!==null&&(Wu(t,1,e),Sn(t,e));break}}t=t.return}}function iV(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=cn(),e.pingedLanes|=e.suspendedLanes&n,Ct===e&&(Ft&n)===n&&(vt===4||vt===3&&(Ft&130023424)===Ft&&500>st()-c0?Go(e,0):u0|=n),Sn(e,t)}function cA(e,t){t===0&&(e.mode&1?(t=Uc,Uc<<=1,!(Uc&130023424)&&(Uc=4194304)):t=1);var n=cn();e=hi(e,t),e!==null&&(Wu(e,t,n),Sn(e,n))}function oV(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cA(e,n)}function sV(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),cA(e,n)}var fA;fA=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||En.current)_n=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _n=!1,qL(e,t,n);_n=!!(e.flags&131072)}else _n=!1,He&&t.flags&1048576&&mI(t,id,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Cf(e,t),e=t.pendingProps;var i=ga(t,en.current);aa(t,n),i=r0(null,t,r,e,i,n);var o=i0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xn(r)?(o=!0,nd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jy(t),i.updater=Oh,t.stateNode=i,i._reactInternals=t,Gg(t,r,e,n),t=Xg(null,t,r,!0,o,n)):(t.tag=0,He&&o&&Ky(t),an(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Cf(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=lV(r),e=cr(r,e),i){case 0:t=Qg(null,t,r,e,n);break e;case 1:t=FE(null,t,r,e,n);break e;case 11:t=LE(null,t,r,e,n);break e;case 14:t=VE(null,t,r,cr(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cr(r,i),Qg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cr(r,i),FE(e,t,r,i,n);case 3:e:{if(GI(t),e===null)throw Error(q(387));r=t.pendingProps,o=t.memoizedState,i=o.element,bI(e,t),ad(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=_a(Error(q(423)),t),t=$E(e,t,r,n,i);break e}else if(r!==i){i=_a(Error(q(424)),t),t=$E(e,t,r,n,i);break e}else for(jn=no(t.stateNode.containerInfo.firstChild),Mn=t,He=!0,dr=null,n=wI(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(va(),r===i){t=pi(e,t,n);break e}an(e,t,r,n)}t=t.child}return t;case 5:return EI(t),e===null&&Kg(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,$g(r,i)?s=null:o!==null&&$g(r,o)&&(t.flags|=32),qI(e,t),an(e,t,s,n),t.child;case 6:return e===null&&Kg(t),null;case 13:return YI(e,t,n);case 4:return Zy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ya(t,null,r,n):an(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cr(r,i),LE(e,t,r,i,n);case 7:return an(e,t,t.pendingProps,n),t.child;case 8:return an(e,t,t.pendingProps.children,n),t.child;case 12:return an(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Fe(od,r._currentValue),r._currentValue=s,o!==null)if(wr(o.value,s)){if(o.children===i.children&&!En.current){t=pi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ai(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Hg(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Hg(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}an(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,aa(t,n),i=tr(i),r=r(i),t.flags|=1,an(e,t,r,n),t.child;case 14:return r=t.type,i=cr(r,t.pendingProps),i=cr(r.type,i),VE(e,t,r,i,n);case 15:return KI(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cr(r,i),Cf(e,t),t.tag=1,xn(r)?(e=!0,nd(t)):e=!1,aa(t,n),zI(t,r,i),Gg(t,r,i,n),Xg(null,t,r,!0,e,n);case 19:return QI(e,t,n);case 22:return HI(e,t,n)}throw Error(q(156,t.tag))};function dA(e,t){return F1(e,t)}function aV(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,t,n,r){return new aV(e,t,n,r)}function p0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lV(e){if(typeof e=="function")return p0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ry)return 11;if(e===Dy)return 14}return 2}function so(e,t){var n=e.alternate;return n===null?(n=Qn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nf(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")p0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ws:return Yo(n.children,i,o,t);case Ny:s=8,i|=8;break;case yg:return e=Qn(12,n,t,i|2),e.elementType=yg,e.lanes=o,e;case wg:return e=Qn(13,n,t,i),e.elementType=wg,e.lanes=o,e;case _g:return e=Qn(19,n,t,i),e.elementType=_g,e.lanes=o,e;case E1:return Dh(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _1:s=10;break e;case b1:s=9;break e;case Ry:s=11;break e;case Dy:s=14;break e;case $i:s=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Qn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Yo(e,t,n,r){return e=Qn(7,e,r,t),e.lanes=n,e}function Dh(e,t,n,r){return e=Qn(22,e,r,t),e.elementType=E1,e.lanes=n,e.stateNode={isHidden:!1},e}function Om(e,t,n){return e=Qn(6,e,null,t),e.lanes=n,e}function Nm(e,t,n){return t=Qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uV(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dm(0),this.expirationTimes=dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function m0(e,t,n,r,i,o,s,a,l){return e=new uV(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Qn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jy(o),e}function cV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hA(e){if(!e)return po;e=e._reactInternals;e:{if(_s(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(xn(n))return hI(e,n,t)}return t}function pA(e,t,n,r,i,o,s,a,l){return e=m0(n,r,!0,e,i,o,s,a,l),e.context=hA(null),n=e.current,r=cn(),i=oo(n),o=ai(r,i),o.callback=t??null,ro(n,o,i),e.current.lanes=i,Wu(e,i,r),Sn(e,r),e}function jh(e,t,n,r){var i=t.current,o=cn(),s=oo(i);return n=hA(n),t.context===null?t.context=n:t.pendingContext=n,t=ai(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ro(i,t,s),e!==null&&(vr(e,i,s,o),Pf(e,i,s)),s}function md(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function QE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function g0(e,t){QE(e,t),(e=e.alternate)&&QE(e,t)}function fV(){return null}var mA=typeof reportError=="function"?reportError:function(e){console.error(e)};function v0(e){this._internalRoot=e}Mh.prototype.render=v0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));jh(e,t,null,null)};Mh.prototype.unmount=v0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ss(function(){jh(null,e,null,null)}),t[di]=null}};function Mh(e){this._internalRoot=e}Mh.prototype.unstable_scheduleHydration=function(e){if(e){var t=H1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wi.length&&t!==0&&t<Wi[n].priority;n++);Wi.splice(n,0,e),n===0&&G1(e)}};function y0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function XE(){}function dV(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=md(s);o.call(u)}}var s=pA(t,r,e,0,null,!1,!1,"",XE);return e._reactRootContainer=s,e[di]=s.current,du(e.nodeType===8?e.parentNode:e),ss(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=md(l);a.call(u)}}var l=m0(e,0,!1,null,null,!1,!1,"",XE);return e._reactRootContainer=l,e[di]=l.current,du(e.nodeType===8?e.parentNode:e),ss(function(){jh(t,l,n,r)}),l}function Vh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=md(s);a.call(l)}}jh(t,s,e,i)}else s=dV(n,t,e,i,r);return md(s)}W1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Dl(t.pendingLanes);n!==0&&(Ly(t,n|1),Sn(t,st()),!(Te&6)&&(ba=st()+500,Eo()))}break;case 13:ss(function(){var r=hi(e,1);if(r!==null){var i=cn();vr(r,e,1,i)}}),g0(e,1)}};Vy=function(e){if(e.tag===13){var t=hi(e,134217728);if(t!==null){var n=cn();vr(t,e,134217728,n)}g0(e,134217728)}};K1=function(e){if(e.tag===13){var t=oo(e),n=hi(e,t);if(n!==null){var r=cn();vr(n,e,t,r)}g0(e,t)}};H1=function(){return Oe};q1=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}};kg=function(e,t,n){switch(t){case"input":if(xg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ah(r);if(!i)throw Error(q(90));S1(r),xg(r,i)}}}break;case"textarea":P1(e,n);break;case"select":t=n.value,t!=null&&ra(e,!!n.multiple,t,!1)}};R1=f0;D1=ss;var hV={usingClientEntryPoint:!1,Events:[Hu,Gs,Ah,O1,N1,f0]},xl={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pV={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=L1(e),e===null?null:e.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||fV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Sh=Jc.inject(pV),Ar=Jc}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hV;Un.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y0(t))throw Error(q(200));return cV(e,t,null,n)};Un.createRoot=function(e,t){if(!y0(e))throw Error(q(299));var n=!1,r="",i=mA;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=m0(e,1,!1,null,null,n,!1,r,i),e[di]=t.current,du(e.nodeType===8?e.parentNode:e),new v0(t)};Un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=L1(t),e=e===null?null:e.stateNode,e};Un.flushSync=function(e){return ss(e)};Un.hydrate=function(e,t,n){if(!Lh(t))throw Error(q(200));return Vh(null,e,t,!0,n)};Un.hydrateRoot=function(e,t,n){if(!y0(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=mA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=pA(t,null,e,1,n??null,i,!1,o,s),e[di]=t.current,du(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Mh(t)};Un.render=function(e,t,n){if(!Lh(t))throw Error(q(200));return Vh(null,e,t,!1,n)};Un.unmountComponentAtNode=function(e){if(!Lh(e))throw Error(q(40));return e._reactRootContainer?(ss(function(){Vh(null,null,e,!1,function(){e._reactRootContainer=null,e[di]=null})}),!0):!1};Un.unstable_batchedUpdates=f0;Un.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Lh(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Vh(e,t,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function gA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gA)}catch(e){console.error(e)}}gA(),g1.exports=Un;var Fh=g1.exports,JE=Fh;gg.createRoot=JE.createRoot,gg.hydrateRoot=JE.hydrateRoot;var ZE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},mV=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},yA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):mV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new gV;const h=o<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class gV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vV=function(e){const t=vA(e);return yA.encodeByteArray(t,!0)},gd=function(e){return vV(e).replace(/\./g,"")},wA=function(e){try{return yA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=()=>yV().__FIREBASE_DEFAULTS__,_V=()=>{if(typeof process>"u"||typeof ZE>"u")return;const e=ZE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},bV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&wA(e[1]);return t&&JSON.parse(t)},$h=()=>{try{return wV()||_V()||bV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},_A=e=>{var t,n;return(n=(t=$h())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},EV=e=>{const t=_A(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},bA=()=>{var e;return(e=$h())===null||e===void 0?void 0:e.config},EA=e=>{var t;return(t=$h())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gd(JSON.stringify(n)),gd(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function PV(){var e;const t=(e=$h())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w0(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function AV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CV(){const e=tn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function kV(){return!PV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _0(){try{return typeof indexedDB=="object"}catch{return!1}}function b0(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}function xA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="FirebaseError";class br extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=OV,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bs.prototype.create)}}class bs{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?NV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new br(i,a,r)}}function NV(e,t){return e.replace(RV,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const RV=/\{\$([^}]+)}/g;function DV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function bu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(ex(o)&&ex(s)){if(!bu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ex(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function jV(e,t){const n=new MV(e,t);return n.subscribe.bind(n)}class MV{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LV(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Rm),i.error===void 0&&(i.error=Rm),i.complete===void 0&&(i.complete=Rm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LV(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Rm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=1e3,FV=2,$V=4*60*60*1e3,UV=.5;function tx(e,t=VV,n=FV){const r=t*Math.pow(n,e),i=Math.round(UV*r*(Math.random()-.5)*2);return Math.min($V,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(e){return e&&e._delegate?e._delegate:e}class _r{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zV=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new xV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WV(t))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=jo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=jo){return this.instances.has(t)}getOptions(t=jo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BV(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=jo){return this.component?this.component.multipleInstances?t:jo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function BV(e){return e===jo?void 0:e}function WV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new zV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ee||(Ee={}));const HV={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},qV=Ee.INFO,GV={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},YV=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=GV[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Uh{constructor(t){this.name=t,this._logLevel=qV,this._logHandler=YV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...t),this._logHandler(this,Ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...t),this._logHandler(this,Ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...t),this._logHandler(this,Ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...t),this._logHandler(this,Ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...t),this._logHandler(this,Ee.ERROR,...t)}}const QV=(e,t)=>t.some(n=>e instanceof n);let nx,rx;function XV(){return nx||(nx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JV(){return rx||(rx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SA=new WeakMap,uv=new WeakMap,TA=new WeakMap,Dm=new WeakMap,E0=new WeakMap;function ZV(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(ao(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&SA.set(n,e)}).catch(()=>{}),E0.set(t,e),t}function eF(e){if(uv.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});uv.set(e,t)}let cv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return uv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||TA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ao(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function tF(e){cv=e(cv)}function nF(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(jm(this),t,...n);return TA.set(r,t.sort?t.sort():[t]),ao(r)}:JV().includes(e)?function(...t){return e.apply(jm(this),t),ao(SA.get(this))}:function(...t){return ao(e.apply(jm(this),t))}}function rF(e){return typeof e=="function"?nF(e):(e instanceof IDBTransaction&&eF(e),QV(e,XV())?new Proxy(e,cv):e)}function ao(e){if(e instanceof IDBRequest)return ZV(e);if(Dm.has(e))return Dm.get(e);const t=rF(e);return t!==e&&(Dm.set(e,t),E0.set(t,e)),t}const jm=e=>E0.get(e);function PA(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=ao(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ao(s.result),l.oldVersion,l.newVersion,ao(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const iF=["get","getKey","getAll","getAllKeys","count"],oF=["put","add","delete","clear"],Mm=new Map;function ix(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Mm.get(t))return Mm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=oF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iF.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Mm.set(t,o),o}tF(e=>({...e,get:(t,n,r)=>ix(t,n)||e.get(t,n,r),has:(t,n)=>!!ix(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aF(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const fv="@firebase/app",ox="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Uh("@firebase/app"),lF="@firebase/app-compat",uF="@firebase/analytics-compat",cF="@firebase/analytics",fF="@firebase/app-check-compat",dF="@firebase/app-check",hF="@firebase/auth",pF="@firebase/auth-compat",mF="@firebase/database",gF="@firebase/data-connect",vF="@firebase/database-compat",yF="@firebase/functions",wF="@firebase/functions-compat",_F="@firebase/installations",bF="@firebase/installations-compat",EF="@firebase/messaging",xF="@firebase/messaging-compat",SF="@firebase/performance",TF="@firebase/performance-compat",PF="@firebase/remote-config",IF="@firebase/remote-config-compat",AF="@firebase/storage",CF="@firebase/storage-compat",kF="@firebase/firestore",OF="@firebase/vertexai-preview",NF="@firebase/firestore-compat",RF="firebase",DF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="[DEFAULT]",jF={[fv]:"fire-core",[lF]:"fire-core-compat",[cF]:"fire-analytics",[uF]:"fire-analytics-compat",[dF]:"fire-app-check",[fF]:"fire-app-check-compat",[hF]:"fire-auth",[pF]:"fire-auth-compat",[mF]:"fire-rtdb",[gF]:"fire-data-connect",[vF]:"fire-rtdb-compat",[yF]:"fire-fn",[wF]:"fire-fn-compat",[_F]:"fire-iid",[bF]:"fire-iid-compat",[EF]:"fire-fcm",[xF]:"fire-fcm-compat",[SF]:"fire-perf",[TF]:"fire-perf-compat",[PF]:"fire-rc",[IF]:"fire-rc-compat",[AF]:"fire-gcs",[CF]:"fire-gcs-compat",[kF]:"fire-fst",[NF]:"fire-fst-compat",[OF]:"fire-vertex","fire-js":"fire-js",[RF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new Map,MF=new Map,hv=new Map;function sx(e,t){try{e.container.addComponent(t)}catch(n){mi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function jr(e){const t=e.name;if(hv.has(t))return mi.debug(`There were multiple attempts to register component ${t}.`),!1;hv.set(t,e);for(const n of vd.values())sx(n,e);for(const n of MF.values())sx(n,e);return!0}function Es(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ti(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new bs("app","Firebase",LF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=DF;function IA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:dv,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw lo.create("bad-app-name",{appName:String(i)});if(n||(n=bA()),!n)throw lo.create("no-options");const o=vd.get(i);if(o){if(bu(n,o.options)&&bu(r,o.config))return o;throw lo.create("duplicate-app",{appName:i})}const s=new KV(i);for(const l of hv.values())s.addComponent(l);const a=new VF(n,r,s);return vd.set(i,a),a}function x0(e=dv){const t=vd.get(e);if(!t&&e===dv&&bA())return IA();if(!t)throw lo.create("no-app",{appName:e});return t}function er(e,t,n){var r;let i=(r=jF[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mi.warn(a.join(" "));return}jr(new _r(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="firebase-heartbeat-database",$F=1,Eu="firebase-heartbeat-store";let Lm=null;function AA(){return Lm||(Lm=PA(FF,$F,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(e=>{throw lo.create("idb-open",{originalErrorMessage:e.message})})),Lm}async function UF(e){try{const n=(await AA()).transaction(Eu),r=await n.objectStore(Eu).get(CA(e));return await n.done,r}catch(t){if(t instanceof br)mi.warn(t.message);else{const n=lo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});mi.warn(n.message)}}}async function ax(e,t){try{const r=(await AA()).transaction(Eu,"readwrite");await r.objectStore(Eu).put(t,CA(e)),await r.done}catch(n){if(n instanceof br)mi.warn(n.message);else{const r=lo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mi.warn(r.message)}}}function CA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=1024,BF=30*24*60*60*1e3;class WF{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=lx();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=BF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lx(),{heartbeatsToSend:r,unsentEntries:i}=KF(this._heartbeatsCache.heartbeats),o=gd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mi.warn(n),""}}}function lx(){return new Date().toISOString().substring(0,10)}function KF(e,t=zF){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ux(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ux(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HF{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _0()?b0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ax(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ax(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ux(e){return gd(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(e){jr(new _r("platform-logger",t=>new sF(t),"PRIVATE")),jr(new _r("heartbeat",t=>new WF(t),"PRIVATE")),er(fv,ox,e),er(fv,ox,"esm2017"),er("fire-js","")}qF("");function S0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function kA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GF=kA,OA=new bs("auth","Firebase",kA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Uh("@firebase/auth");function YF(e,...t){yd.logLevel<=Ee.WARN&&yd.warn(`Auth (${Ua}): ${e}`,...t)}function Rf(e,...t){yd.logLevel<=Ee.ERROR&&yd.error(`Auth (${Ua}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(e,...t){throw P0(e,...t)}function yr(e,...t){return P0(e,...t)}function T0(e,t,n){const r=Object.assign(Object.assign({},GF()),{[t]:n});return new bs("auth","Firebase",r).create(t,{appName:e.name})}function Qo(e){return T0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QF(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Mr(e,"argument-error"),T0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function P0(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return OA.create(e,...t)}function ce(e,t,...n){if(!e)throw P0(t,...n)}function ni(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Rf(t),new Error(t)}function gi(e,t){e||ni(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function XF(){return cx()==="http:"||cx()==="https:"}function cx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XF()||w0()||"connection"in navigator)?navigator.onLine:!0}function ZF(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,n){this.shortDelay=t,this.longDelay=n,gi(n>t,"Short delay should be less than long delay!"),this.isMobile=TV()||AV()}get(){return JF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(e,t){gi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new Yu(3e4,6e4);function A0(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function za(e,t,n,r,i={}){return RA(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=Gu(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return IV()||(u.referrerPolicy="no-referrer"),NA.fetch()(DA(e,e.config.apiHost,n,a),u)})}async function RA(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},e4),t);try{const i=new r4(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Zc(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Zc(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Zc(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw T0(e,c,u);Mr(e,c)}}catch(i){if(i instanceof br)throw i;Mr(e,"network-request-failed",{message:String(i)})}}async function n4(e,t,n,r,i={}){const o=await za(e,t,n,r,i);return"mfaPendingCredential"in o&&Mr(e,"multi-factor-auth-required",{_serverResponse:o}),o}function DA(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?I0(e.config,i):`${e.config.apiScheme}://${i}`}class r4{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),t4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yr(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(e,t){return za(e,"POST","/v1/accounts:delete",t)}async function jA(e,t){return za(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function o4(e,t=!1){const n=nn(e),r=await n.getIdToken(t),i=C0(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Xl(Vm(i.auth_time)),issuedAtTime:Xl(Vm(i.iat)),expirationTime:Xl(Vm(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Vm(e){return Number(e)*1e3}function C0(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Rf("JWT malformed, contained fewer than 3 sections"),null;try{const i=wA(n);return i?JSON.parse(i):(Rf("Failed to decode base64 JWT payload"),null)}catch(i){return Rf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fx(e){const t=C0(e);return ce(t,"internal-error"),ce(typeof t.exp<"u","internal-error"),ce(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof br&&s4(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function s4({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(e){var t;const n=e.auth,r=await e.getIdToken(),i=await xu(e,jA(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?MA(o.providerUserInfo):[],a=u4(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new mv(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function l4(e){const t=nn(e);await wd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function u4(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function MA(e){return e.map(t=>{var{providerId:n}=t,r=S0(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(e,t){const n=await RA(e,{},async()=>{const r=Gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=DA(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NA.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function f4(e,t){return za(e,"POST","/v2/accounts:revokeToken",A0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ce(t.idToken,"internal-error"),ce(typeof t.idToken<"u","internal-error"),ce(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ce(t.length!==0,"internal-error");const n=fx(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await c4(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ua;return r&&(ce(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(ce(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(e,t){ce(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ri{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=S0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await xu(this,this.stsTokenManager.getToken(this.auth,t));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return o4(this,t)}reload(){return l4(this)}_assign(t){this!==t&&(ce(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ri(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await wd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Qo(this.auth));const t=await this.getIdToken();return await xu(this,i4(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:R,isAnonymous:C,providerData:j,stsTokenManager:I}=n;ce(S&&I,t,"internal-error");const T=ua.fromJSON(this.name,I);ce(typeof S=="string",t,"internal-error"),Fi(d,t.name),Fi(h,t.name),ce(typeof R=="boolean",t,"internal-error"),ce(typeof C=="boolean",t,"internal-error"),Fi(p,t.name),Fi(v,t.name),Fi(_,t.name),Fi(y,t.name),Fi(w,t.name),Fi(x,t.name);const P=new ri({uid:S,auth:t,email:h,emailVerified:R,displayName:d,isAnonymous:C,photoURL:v,phoneNumber:p,tenantId:_,stsTokenManager:T,createdAt:w,lastLoginAt:x});return j&&Array.isArray(j)&&(P.providerData=j.map(k=>Object.assign({},k))),y&&(P._redirectEventId=y),P}static async _fromIdTokenResponse(t,n,r=!1){const i=new ua;i.updateFromServerResponse(n);const o=new ri({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await wd(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];ce(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?MA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new ua;a.updateFromIdToken(r);const l=new ri({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new mv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new Map;function ii(e){gi(e instanceof Function,"Expected a class definition");let t=dx.get(e);return t?(gi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dx.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}LA.type="NONE";const hx=LA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(e,t,n){return`firebase:${e}:${t}:${n}`}class ca{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Df(this.userKey,i.apiKey,o),this.fullPersistenceKey=Df("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ri._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ca(ii(hx),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ii(hx);const s=Df(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=ri._fromJSON(t,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ca(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ca(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(UA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BA(t))return"Blackberry";if(WA(t))return"Webos";if(FA(t))return"Safari";if((t.includes("chrome/")||$A(t))&&!t.includes("edge/"))return"Chrome";if(zA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VA(e=tn()){return/firefox\//i.test(e)}function FA(e=tn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $A(e=tn()){return/crios\//i.test(e)}function UA(e=tn()){return/iemobile/i.test(e)}function zA(e=tn()){return/android/i.test(e)}function BA(e=tn()){return/blackberry/i.test(e)}function WA(e=tn()){return/webos/i.test(e)}function k0(e=tn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function d4(e=tn()){var t;return k0(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function h4(){return CV()&&document.documentMode===10}function KA(e=tn()){return k0(e)||zA(e)||WA(e)||BA(e)||/windows phone/i.test(e)||UA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(e,t=[]){let n;switch(e){case"Browser":n=px(tn());break;case"Worker":n=`${px(tn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(e,t={}){return za(e,"GET","/v2/passwordPolicy",A0(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=6;class v4{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:g4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mx(this),this.idTokenSubscription=new mx(this),this.beforeStateQueue=new p4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ca.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await jA(this,{idToken:t}),r=await ri._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ti(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await wd(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZF()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(Qo(this));const n=t?nn(t):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ce(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Qo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(Qo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await m4(this),n=new v4(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new bs("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await f4(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ii(t)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await ca.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&YF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zh(e){return nn(e)}class mx{constructor(t){this.auth=t,this.observer=null,this.addObserver=jV(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function w4(e){O0=e}function _4(e){return O0.loadJS(e)}function b4(){return O0.gapiScript}function E4(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(e,t){const n=Es(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(bu(o,t??{}))return i;Mr(i,"already-initialized")}return n.initialize({options:t})}function S4(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function T4(e,t,n){const r=zh(e);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=qA(t),{host:s,port:a}=P4(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),I4()}function qA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function P4(e){const t=qA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:gx(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:gx(s)}}}function gx(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function I4(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(t){return ni("not implemented")}_linkToIdToken(t,n){return ni("not implemented")}_getReauthenticationResolver(t){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(e,t){return n4(e,"POST","/v1/accounts:signInWithIdp",A0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="http://localhost";class as extends GA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new as(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=S0(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new as(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return fa(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,fa(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,fa(t,n)}buildRequest(){const t={requestUri:A4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Gu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends N0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Qu{constructor(){super("facebook.com")}static credential(t){return as._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hi.credentialFromTaggedObject(t)}static credentialFromError(t){return Hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hi.credential(t.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return as._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Qu{constructor(){super("github.com")}static credential(t){return as._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qi.credential(t.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Qu{constructor(){super("twitter.com")}static credential(t,n){return as._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Gi.credentialFromTaggedObject(t)}static credentialFromError(t){return Gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await ri._fromIdTokenResponse(t,r,i),s=vx(r);return new Ea({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=vx(r);return new Ea({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function vx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends br{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new _d(t,n,r,i)}}function YA(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_d._fromErrorAndOperation(e,o,t,r):o})}async function C4(e,t,n=!1){const r=await xu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ea._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(e,t,n=!1){const{auth:r}=e;if(ti(r.app))return Promise.reject(Qo(r));const i="reauthenticate";try{const o=await xu(e,YA(r,i,t,e),n);ce(o.idToken,r,"internal-error");const s=C0(o.idToken);ce(s,r,"internal-error");const{sub:a}=s;return ce(e.uid===a,r,"user-mismatch"),Ea._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Mr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(e,t,n=!1){if(ti(e.app))return Promise.reject(Qo(e));const r="signIn",i=await YA(e,r,t),o=await Ea._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function N4(e,t,n,r){return nn(e).onIdTokenChanged(t,n,r)}function R4(e,t,n){return nn(e).beforeAuthStateChanged(t,n)}function D4(e,t,n,r){return nn(e).onAuthStateChanged(t,n,r)}function j4(e){return nn(e).signOut()}const bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bd,"1"),this.storage.removeItem(bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=1e3,L4=10;class XA extends QA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);h4()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,L4):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},M4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}XA.type="LOCAL";const V4=XA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA extends QA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}JA.type="SESSION";const ZA=JA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Bh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await F4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=R0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function U4(e){kr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function z4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B4(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function W4(){return eC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebaseLocalStorageDb",K4=1,Ed="firebaseLocalStorage",nC="fbase_key";class Xu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(e,t){return e.transaction([Ed],t?"readwrite":"readonly").objectStore(Ed)}function H4(){const e=indexedDB.deleteDatabase(tC);return new Xu(e).toPromise()}function gv(){const e=indexedDB.open(tC,K4);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Ed,{keyPath:nC})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Ed)?t(r):(r.close(),await H4(),t(await gv()))})})}async function yx(e,t,n){const r=Wh(e,!0).put({[nC]:t,value:n});return new Xu(r).toPromise()}async function q4(e,t){const n=Wh(e,!1).get(t),r=await new Xu(n).toPromise();return r===void 0?null:r.value}function wx(e,t){const n=Wh(e,!0).delete(t);return new Xu(n).toPromise()}const G4=800,Y4=3;class rC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gv(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Y4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(W4()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await z4(),!this.activeServiceWorker)return;this.sender=new $4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||B4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gv();return await yx(t,bd,"1"),await wx(t,bd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yx(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>q4(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wx(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=Wh(i,!1).getAll();return new Xu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rC.type="LOCAL";const Q4=rC;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(e,t){return t?ii(t):(ce(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends GA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return fa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function X4(e){return O4(e.auth,new D0(e),e.bypassAuthState)}function J4(e){const{auth:t,user:n}=e;return ce(n,t,"internal-error"),k4(n,new D0(e),e.bypassAuthState)}async function Z4(e){const{auth:t,user:n}=e;return ce(n,t,"internal-error"),C4(n,new D0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return X4;case"linkViaPopup":case"linkViaRedirect":return Z4;case"reauthViaPopup":case"reauthViaRedirect":return J4;default:Mr(this.auth,"internal-error")}}resolve(t){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$=new Yu(2e3,1e4);async function t$(e,t,n){if(ti(e.app))return Promise.reject(yr(e,"operation-not-supported-in-this-environment"));const r=zh(e);QF(e,t,N0);const i=iC(r,n);return new zo(r,"signInViaPopup",t,i).executeNotNull()}class zo extends oC{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ce(t,this.auth,"internal-error"),t}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const t=R0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,e$.get())};t()}}zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$="pendingRedirect",jf=new Map;class r$ extends oC{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=jf.get(this.auth._key());if(!t){try{const r=await i$(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}jf.set(this.auth._key(),t)}return this.bypassAuthState||jf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i$(e,t){const n=a$(t),r=s$(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function o$(e,t){jf.set(e._key(),t)}function s$(e){return ii(e._redirectPersistence)}function a$(e){return Df(n$,e.config.apiKey,e.name)}async function l$(e,t,n=!1){if(ti(e.app))return Promise.reject(Qo(e));const r=zh(e),i=iC(r,t),s=await new r$(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=10*60*1e3;class c${constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!f$(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!sC(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=u$&&this.cachedEventUids.clear(),this.cachedEventUids.has(_x(t))}saveEventToCache(t){this.cachedEventUids.add(_x(t)),this.lastProcessedEventTime=Date.now()}}function _x(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function sC({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function f$(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sC(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d$(e,t={}){return za(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p$=/^https?/;async function m$(e){if(e.config.emulator)return;const{authorizedDomains:t}=await d$(e);for(const n of t)try{if(g$(n))return}catch{}Mr(e,"unauthorized-domain")}function g$(e){const t=pv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!p$.test(n))return!1;if(h$.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=new Yu(3e4,6e4);function bx(){const e=kr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function y$(e){return new Promise((t,n)=>{var r,i,o;function s(){bx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bx(),n(yr(e,"network-request-failed"))},timeout:v$.get()})}if(!((i=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=kr().gapi)===null||o===void 0)&&o.load)s();else{const a=E4("iframefcb");return kr()[a]=()=>{gapi.load?s():n(yr(e,"network-request-failed"))},_4(`${b4()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Mf=null,t})}let Mf=null;function w$(e){return Mf=Mf||y$(e),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=new Yu(5e3,15e3),b$="__/auth/iframe",E$="emulator/auth/iframe",x$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T$(e){const t=e.config;ce(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?I0(t,E$):`https://${e.config.authDomain}/${b$}`,r={apiKey:t.apiKey,appName:e.name,v:Ua},i=S$.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Gu(r).slice(1)}`}async function P$(e){const t=await w$(e),n=kr().gapi;return ce(n,e,"internal-error"),t.open({where:document.body,url:T$(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=yr(e,"network-request-failed"),a=kr().setTimeout(()=>{o(s)},_$.get());function l(){kr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A$=500,C$=600,k$="_blank",O$="http://localhost";class Ex{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N$(e,t,n,r=A$,i=C$){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},I$),{width:r.toString(),height:i.toString(),top:o,left:s}),u=tn().toLowerCase();n&&(a=$A(u)?k$:n),VA(u)&&(t=t||O$,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(d4(u)&&a!=="_self")return R$(t||"",a),new Ex(null);const d=window.open(t||"",a,c);ce(d,e,"popup-blocked");try{d.focus()}catch{}return new Ex(d)}function R$(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$="__/auth/handler",j$="emulator/auth/handler",M$=encodeURIComponent("fac");async function xx(e,t,n,r,i,o){ce(e.config.authDomain,e,"auth-domain-config-required"),ce(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ua,eventId:i};if(t instanceof N0){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",DV(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(t instanceof Qu){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${M$}=${encodeURIComponent(l)}`:"";return`${L$(e)}?${Gu(a).slice(1)}${u}`}function L$({config:e}){return e.emulator?I0(e,j$):`https://${e.authDomain}/${D$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="webStorageSupport";class V${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZA,this._completeRedirectFn=l$,this._overrideRedirectResult=o$}async _openPopup(t,n,r,i){var o;gi((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await xx(t,n,r,pv(),i);return N$(t,s,R0())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await xx(t,n,r,pv(),i);return U4(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(gi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await P$(t),r=new c$(t);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Fm,{type:Fm},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Fm];s!==void 0&&n(!!s),Mr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m$(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return KA()||FA()||k0()}}const F$=V$;var Sx="@firebase/auth",Tx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z$(e){jr(new _r("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ce(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HA(e)},u=new y4(r,i,o,l);return S4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),jr(new _r("auth-internal",t=>{const n=zh(t.getProvider("auth").getImmediate());return(r=>new $$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(Sx,Tx,U$(e)),er(Sx,Tx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=5*60,W$=EA("authIdTokenMaxAge")||B$;let Px=null;const K$=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>W$)return;const i=n==null?void 0:n.token;Px!==i&&(Px=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function H$(e=x0()){const t=Es(e,"auth");if(t.isInitialized())return t.getImmediate();const n=x4(e,{popupRedirectResolver:F$,persistence:[Q4,V4,ZA]}),r=EA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=K$(o.toString());R4(n,s,()=>s(n.currentUser)),N4(n,a=>s(a))}}const i=_A("auth");return i&&T4(n,`http://${i}`),n}function q$(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}w4({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=yr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",q$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z$("Browser");var G$="firebase",Y$="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(G$,Y$,"app");const aC="@firebase/installations",j0="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=1e4,uC=`w:${j0}`,cC="FIS_v2",Q$="https://firebaseinstallations.googleapis.com/v1",X$=60*60*1e3,J$="installations",Z$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ls=new bs(J$,Z$,eU);function fC(e){return e instanceof br&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC({projectId:e}){return`${Q$}/projects/${e}/installations`}function hC(e){return{token:e.token,requestStatus:2,expiresIn:nU(e.expiresIn),creationTime:Date.now()}}async function pC(e,t){const r=(await t.json()).error;return ls.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function mC({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function tU(e,{refreshToken:t}){const n=mC(e);return n.append("Authorization",rU(t)),n}async function gC(e){const t=await e();return t.status>=500&&t.status<600?e():t}function nU(e){return Number(e.replace("s","000"))}function rU(e){return`${cC} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=dC(e),i=mC(e),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:cC,appId:e.appId,sdkVersion:uC},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await gC(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:hC(u.authToken)}}else throw await pC("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=/^[cdef][\w-]{21}$/,vv="";function aU(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=lU(e);return sU.test(n)?n:vv}catch{return vv}}function lU(e){return oU(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Map;function wC(e,t){const n=Kh(e);_C(n,t),uU(n,t)}function _C(e,t){const n=yC.get(e);if(n)for(const r of n)r(t)}function uU(e,t){const n=cU();n&&n.postMessage({key:e,fid:t}),fU()}let Bo=null;function cU(){return!Bo&&"BroadcastChannel"in self&&(Bo=new BroadcastChannel("[Firebase] FID Change"),Bo.onmessage=e=>{_C(e.data.key,e.data.fid)}),Bo}function fU(){yC.size===0&&Bo&&(Bo.close(),Bo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="firebase-installations-database",hU=1,us="firebase-installations-store";let $m=null;function M0(){return $m||($m=PA(dU,hU,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(us)}}})),$m}async function xd(e,t){const n=Kh(e),i=(await M0()).transaction(us,"readwrite"),o=i.objectStore(us),s=await o.get(n);return await o.put(t,n),await i.done,(!s||s.fid!==t.fid)&&wC(e,t.fid),t}async function bC(e){const t=Kh(e),r=(await M0()).transaction(us,"readwrite");await r.objectStore(us).delete(t),await r.done}async function Hh(e,t){const n=Kh(e),i=(await M0()).transaction(us,"readwrite"),o=i.objectStore(us),s=await o.get(n),a=t(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&wC(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L0(e){let t;const n=await Hh(e.appConfig,r=>{const i=pU(r),o=mU(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===vv?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function pU(e){const t=e||{fid:aU(),registrationStatus:0};return EC(t)}function mU(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ls.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=gU(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:vU(e)}:{installationEntry:t}}async function gU(e,t){try{const n=await iU(e,t);return xd(e.appConfig,n)}catch(n){throw fC(n)&&n.customData.serverCode===409?await bC(e.appConfig):await xd(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function vU(e){let t=await Ix(e.appConfig);for(;t.registrationStatus===1;)await vC(100),t=await Ix(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await L0(e);return r||n}return t}function Ix(e){return Hh(e,t=>{if(!t)throw ls.create("installation-not-found");return EC(t)})}function EC(e){return yU(e)?{fid:e.fid,registrationStatus:0}:e}function yU(e){return e.registrationStatus===1&&e.registrationTime+lC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU({appConfig:e,heartbeatServiceProvider:t},n){const r=_U(e,n),i=tU(e,n),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:uC,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await gC(()=>fetch(r,a));if(l.ok){const u=await l.json();return hC(u)}else throw await pC("Generate Auth Token",l)}function _U(e,{fid:t}){return`${dC(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(e,t=!1){let n;const r=await Hh(e.appConfig,o=>{if(!xC(o))throw ls.create("not-registered");const s=o.authToken;if(!t&&xU(s))return o;if(s.requestStatus===1)return n=bU(e,t),o;{if(!navigator.onLine)throw ls.create("app-offline");const a=TU(o);return n=EU(e,a),a}});return n?await n:r.authToken}async function bU(e,t){let n=await Ax(e.appConfig);for(;n.authToken.requestStatus===1;)await vC(100),n=await Ax(e.appConfig);const r=n.authToken;return r.requestStatus===0?V0(e,t):r}function Ax(e){return Hh(e,t=>{if(!xC(t))throw ls.create("not-registered");const n=t.authToken;return PU(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function EU(e,t){try{const n=await wU(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await xd(e.appConfig,r),n}catch(n){if(fC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await bC(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await xd(e.appConfig,r)}throw n}}function xC(e){return e!==void 0&&e.registrationStatus===2}function xU(e){return e.requestStatus===2&&!SU(e)}function SU(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+X$}function TU(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function PU(e){return e.requestStatus===1&&e.requestTime+lC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(e){const t=e,{installationEntry:n,registrationPromise:r}=await L0(t);return r?r.catch(console.error):V0(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(e,t=!1){const n=e;return await CU(n),(await V0(n,t)).token}async function CU(e){const{registrationPromise:t}=await L0(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(e){if(!e||!e.options)throw Um("App Configuration");if(!e.name)throw Um("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Um(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Um(e){return ls.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="installations",OU="installations-internal",NU=e=>{const t=e.getProvider("app").getImmediate(),n=kU(t),r=Es(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},RU=e=>{const t=e.getProvider("app").getImmediate(),n=Es(t,SC).getImmediate();return{getId:()=>IU(n),getToken:i=>AU(n,i)}};function DU(){jr(new _r(SC,NU,"PUBLIC")),jr(new _r(OU,RU,"PRIVATE"))}DU();er(aC,j0);er(aC,j0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="analytics",jU="firebase_id",MU="origin",LU=60*1e3,VU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",F0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new Uh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ln=new bs("analytics","Analytics",FU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(e){if(!e.startsWith(F0)){const t=Ln.create("invalid-gtag-resource",{gtagURL:e});return Tn.warn(t.message),""}return e}function TC(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function UU(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function zU(e,t){const n=UU("firebase-js-sdk-policy",{createScriptURL:$U}),r=document.createElement("script"),i=`${F0}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function BU(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function WU(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const l=(await TC(n)).find(u=>u.measurementId===i);l&&await t[l.appId]}}catch(a){Tn.error(a)}e("config",i,o)}async function KU(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await TC(n);for(const l of s){const u=a.find(d=>d.measurementId===l),c=u&&t[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){Tn.error(o)}}function HU(e,t,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await KU(e,t,n,a,l)}else if(o==="config"){const[a,l]=s;await WU(e,t,n,r,a,l)}else if(o==="consent"){const[a,l]=s;e("consent",a,l)}else if(o==="get"){const[a,l,u]=s;e("get",a,l,u)}else if(o==="set"){const[a]=s;e("set",a)}else e(o,...s)}catch(a){Tn.error(a)}}return i}function qU(e,t,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=HU(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function GU(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(F0)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=30,QU=1e3;class XU{constructor(t={},n=QU){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const PC=new XU;function JU(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ZU(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:JU(r)},o=VU.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function e3(e,t=PC,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Ln.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Ln.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new r3;return setTimeout(async()=>{a.abort()},LU),IC({appId:r,apiKey:i,measurementId:o},s,a,t)}async function IC(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=PC){var o;const{appId:s,measurementId:a}=e;try{await t3(r,t)}catch(l){if(a)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await ZU(e);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!n3(u)){if(i.deleteThrottleMetadata(s),a)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?tx(n,i.intervalMillis,YU):tx(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),Tn.debug(`Calling attemptFetch again in ${c} millis`),IC(e,d,r,i)}}function t3(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Ln.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function n3(e){if(!(e instanceof br)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class r3{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function i3(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const o=await t,s=Object.assign(Object.assign({},r),{send_to:o});e("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(){if(_0())try{await b0()}catch(e){return Tn.warn(Ln.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Tn.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function s3(e,t,n,r,i,o,s){var a;const l=e3(e);l.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Tn.error(p)),t.push(l);const u=o3().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,u]);GU(o)||zU(o,c.measurementId),i("js",new Date);const h=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return h[MU]="firebase",h.update=!0,d!=null&&(h[jU]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(t){this.app=t}_delete(){return delete Jl[this.app.options.appId],Promise.resolve()}}let Jl={},Cx=[];const kx={};let zm="dataLayer",l3="gtag",Ox,AC,Nx=!1;function u3(){const e=[];if(w0()&&e.push("This is a browser extension environment."),xA()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ln.create("invalid-analytics-context",{errorInfo:t});Tn.warn(n.message)}}function c3(e,t,n){u3();const r=e.options.appId;if(!r)throw Ln.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ln.create("no-api-key");if(Jl[r]!=null)throw Ln.create("already-exists",{id:r});if(!Nx){BU(zm);const{wrappedGtag:o,gtagCore:s}=qU(Jl,Cx,kx,zm,l3);AC=o,Ox=s,Nx=!0}return Jl[r]=s3(e,Cx,kx,t,Ox,zm,n),new a3(e)}function f3(e=x0()){e=nn(e);const t=Es(e,Sd);return t.isInitialized()?t.getImmediate():d3(e)}function d3(e,t={}){const n=Es(e,Sd);if(n.isInitialized()){const i=n.getImmediate();if(bu(t,n.getOptions()))return i;throw Ln.create("already-initialized")}return n.initialize({options:t})}async function h3(){if(w0()||!xA()||!_0())return!1;try{return await b0()}catch{return!1}}function p3(e,t,n,r){e=nn(e),i3(AC,Jl[e.app.options.appId],t,n,r).catch(i=>Tn.error(i))}const Rx="@firebase/analytics",Dx="0.10.8";function m3(){jr(new _r(Sd,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return c3(r,i,n)},"PUBLIC")),jr(new _r("analytics-internal",e,"PRIVATE")),er(Rx,Dx),er(Rx,Dx,"esm2017");function e(t){try{const n=t.getProvider(Sd).getImmediate();return{logEvent:(r,i,o)=>p3(n,r,i,o)}}catch(n){throw Ln.create("interop-component-reg-failed",{reason:n})}}}m3();var jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xo,CC;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,T){function P(){}P.prototype=T.prototype,I.D=T.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(k,N,D){for(var O=Array(arguments.length-2),$=2;$<arguments.length;$++)O[$-2]=arguments[$];return T.prototype[N].apply(k,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,P){P||(P=0);var k=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)k[N]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(N=0;16>N;++N)k[N]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=I.g[0],P=I.g[1],N=I.g[2];var D=I.g[3],O=T+(D^P&(N^D))+k[0]+3614090360&4294967295;T=P+(O<<7&4294967295|O>>>25),O=D+(N^T&(P^N))+k[1]+3905402710&4294967295,D=T+(O<<12&4294967295|O>>>20),O=N+(P^D&(T^P))+k[2]+606105819&4294967295,N=D+(O<<17&4294967295|O>>>15),O=P+(T^N&(D^T))+k[3]+3250441966&4294967295,P=N+(O<<22&4294967295|O>>>10),O=T+(D^P&(N^D))+k[4]+4118548399&4294967295,T=P+(O<<7&4294967295|O>>>25),O=D+(N^T&(P^N))+k[5]+1200080426&4294967295,D=T+(O<<12&4294967295|O>>>20),O=N+(P^D&(T^P))+k[6]+2821735955&4294967295,N=D+(O<<17&4294967295|O>>>15),O=P+(T^N&(D^T))+k[7]+4249261313&4294967295,P=N+(O<<22&4294967295|O>>>10),O=T+(D^P&(N^D))+k[8]+1770035416&4294967295,T=P+(O<<7&4294967295|O>>>25),O=D+(N^T&(P^N))+k[9]+2336552879&4294967295,D=T+(O<<12&4294967295|O>>>20),O=N+(P^D&(T^P))+k[10]+4294925233&4294967295,N=D+(O<<17&4294967295|O>>>15),O=P+(T^N&(D^T))+k[11]+2304563134&4294967295,P=N+(O<<22&4294967295|O>>>10),O=T+(D^P&(N^D))+k[12]+1804603682&4294967295,T=P+(O<<7&4294967295|O>>>25),O=D+(N^T&(P^N))+k[13]+4254626195&4294967295,D=T+(O<<12&4294967295|O>>>20),O=N+(P^D&(T^P))+k[14]+2792965006&4294967295,N=D+(O<<17&4294967295|O>>>15),O=P+(T^N&(D^T))+k[15]+1236535329&4294967295,P=N+(O<<22&4294967295|O>>>10),O=T+(N^D&(P^N))+k[1]+4129170786&4294967295,T=P+(O<<5&4294967295|O>>>27),O=D+(P^N&(T^P))+k[6]+3225465664&4294967295,D=T+(O<<9&4294967295|O>>>23),O=N+(T^P&(D^T))+k[11]+643717713&4294967295,N=D+(O<<14&4294967295|O>>>18),O=P+(D^T&(N^D))+k[0]+3921069994&4294967295,P=N+(O<<20&4294967295|O>>>12),O=T+(N^D&(P^N))+k[5]+3593408605&4294967295,T=P+(O<<5&4294967295|O>>>27),O=D+(P^N&(T^P))+k[10]+38016083&4294967295,D=T+(O<<9&4294967295|O>>>23),O=N+(T^P&(D^T))+k[15]+3634488961&4294967295,N=D+(O<<14&4294967295|O>>>18),O=P+(D^T&(N^D))+k[4]+3889429448&4294967295,P=N+(O<<20&4294967295|O>>>12),O=T+(N^D&(P^N))+k[9]+568446438&4294967295,T=P+(O<<5&4294967295|O>>>27),O=D+(P^N&(T^P))+k[14]+3275163606&4294967295,D=T+(O<<9&4294967295|O>>>23),O=N+(T^P&(D^T))+k[3]+4107603335&4294967295,N=D+(O<<14&4294967295|O>>>18),O=P+(D^T&(N^D))+k[8]+1163531501&4294967295,P=N+(O<<20&4294967295|O>>>12),O=T+(N^D&(P^N))+k[13]+2850285829&4294967295,T=P+(O<<5&4294967295|O>>>27),O=D+(P^N&(T^P))+k[2]+4243563512&4294967295,D=T+(O<<9&4294967295|O>>>23),O=N+(T^P&(D^T))+k[7]+1735328473&4294967295,N=D+(O<<14&4294967295|O>>>18),O=P+(D^T&(N^D))+k[12]+2368359562&4294967295,P=N+(O<<20&4294967295|O>>>12),O=T+(P^N^D)+k[5]+4294588738&4294967295,T=P+(O<<4&4294967295|O>>>28),O=D+(T^P^N)+k[8]+2272392833&4294967295,D=T+(O<<11&4294967295|O>>>21),O=N+(D^T^P)+k[11]+1839030562&4294967295,N=D+(O<<16&4294967295|O>>>16),O=P+(N^D^T)+k[14]+4259657740&4294967295,P=N+(O<<23&4294967295|O>>>9),O=T+(P^N^D)+k[1]+2763975236&4294967295,T=P+(O<<4&4294967295|O>>>28),O=D+(T^P^N)+k[4]+1272893353&4294967295,D=T+(O<<11&4294967295|O>>>21),O=N+(D^T^P)+k[7]+4139469664&4294967295,N=D+(O<<16&4294967295|O>>>16),O=P+(N^D^T)+k[10]+3200236656&4294967295,P=N+(O<<23&4294967295|O>>>9),O=T+(P^N^D)+k[13]+681279174&4294967295,T=P+(O<<4&4294967295|O>>>28),O=D+(T^P^N)+k[0]+3936430074&4294967295,D=T+(O<<11&4294967295|O>>>21),O=N+(D^T^P)+k[3]+3572445317&4294967295,N=D+(O<<16&4294967295|O>>>16),O=P+(N^D^T)+k[6]+76029189&4294967295,P=N+(O<<23&4294967295|O>>>9),O=T+(P^N^D)+k[9]+3654602809&4294967295,T=P+(O<<4&4294967295|O>>>28),O=D+(T^P^N)+k[12]+3873151461&4294967295,D=T+(O<<11&4294967295|O>>>21),O=N+(D^T^P)+k[15]+530742520&4294967295,N=D+(O<<16&4294967295|O>>>16),O=P+(N^D^T)+k[2]+3299628645&4294967295,P=N+(O<<23&4294967295|O>>>9),O=T+(N^(P|~D))+k[0]+4096336452&4294967295,T=P+(O<<6&4294967295|O>>>26),O=D+(P^(T|~N))+k[7]+1126891415&4294967295,D=T+(O<<10&4294967295|O>>>22),O=N+(T^(D|~P))+k[14]+2878612391&4294967295,N=D+(O<<15&4294967295|O>>>17),O=P+(D^(N|~T))+k[5]+4237533241&4294967295,P=N+(O<<21&4294967295|O>>>11),O=T+(N^(P|~D))+k[12]+1700485571&4294967295,T=P+(O<<6&4294967295|O>>>26),O=D+(P^(T|~N))+k[3]+2399980690&4294967295,D=T+(O<<10&4294967295|O>>>22),O=N+(T^(D|~P))+k[10]+4293915773&4294967295,N=D+(O<<15&4294967295|O>>>17),O=P+(D^(N|~T))+k[1]+2240044497&4294967295,P=N+(O<<21&4294967295|O>>>11),O=T+(N^(P|~D))+k[8]+1873313359&4294967295,T=P+(O<<6&4294967295|O>>>26),O=D+(P^(T|~N))+k[15]+4264355552&4294967295,D=T+(O<<10&4294967295|O>>>22),O=N+(T^(D|~P))+k[6]+2734768916&4294967295,N=D+(O<<15&4294967295|O>>>17),O=P+(D^(N|~T))+k[13]+1309151649&4294967295,P=N+(O<<21&4294967295|O>>>11),O=T+(N^(P|~D))+k[4]+4149444226&4294967295,T=P+(O<<6&4294967295|O>>>26),O=D+(P^(T|~N))+k[11]+3174756917&4294967295,D=T+(O<<10&4294967295|O>>>22),O=N+(T^(D|~P))+k[2]+718787259&4294967295,N=D+(O<<15&4294967295|O>>>17),O=P+(D^(N|~T))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var P=T-this.blockSize,k=this.B,N=this.h,D=0;D<T;){if(N==0)for(;D<=P;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<T;)if(k[N++]=I.charCodeAt(D++),N==this.blockSize){i(this,k),N=0;break}}else for(;D<T;)if(k[N++]=I[D++],N==this.blockSize){i(this,k),N=0;break}}this.h=N,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var P=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=P&255,P/=256;for(this.u(I),I=Array(16),T=P=0;4>T;++T)for(var k=0;32>k;k+=8)I[P++]=this.g[T]>>>k&255;return I};function o(I,T){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=T(I)}function s(I,T){this.h=T;for(var P=[],k=!0,N=I.length-1;0<=N;N--){var D=I[N]|0;k&&D==T||(P[N]=D,k=!1)}this.g=P}var a={};function l(I){return-128<=I&&128>I?o(I,function(T){return new s([T|0],0>T?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return y(u(-I));for(var T=[],P=1,k=0;I>=P;k++)T[k]=I/P|0,P*=4294967296;return new s(T,0)}function c(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return y(c(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(T,8)),k=d,N=0;N<I.length;N+=8){var D=Math.min(8,I.length-N),O=parseInt(I.substring(N,N+D),T);8>D?(D=u(Math.pow(T,D)),k=k.j(D).add(u(O))):(k=k.j(P),k=k.add(u(O)))}return k}var d=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(_(this))return-y(this).m();for(var I=0,T=1,P=0;P<this.g.length;P++){var k=this.i(P);I+=(0<=k?k:4294967296+k)*T,T*=4294967296}return I},e.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(_(this))return"-"+y(this).toString(I);for(var T=u(Math.pow(I,6)),P=this,k="";;){var N=R(P,T).g;P=w(P,N.j(T));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=N,v(P))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},e.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function _(I){return I.h==-1}e.l=function(I){return I=w(this,I),_(I)?-1:v(I)?0:1};function y(I){for(var T=I.g.length,P=[],k=0;k<T;k++)P[k]=~I.g[k];return new s(P,~I.h).add(h)}e.abs=function(){return _(this)?y(this):this},e.add=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],k=0,N=0;N<=T;N++){var D=k+(this.i(N)&65535)+(I.i(N)&65535),O=(D>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);k=O>>>16,D&=65535,O&=65535,P[N]=O<<16|D}return new s(P,P[P.length-1]&-2147483648?-1:0)};function w(I,T){return I.add(y(T))}e.j=function(I){if(v(this)||v(I))return d;if(_(this))return _(I)?y(this).j(y(I)):y(y(this).j(I));if(_(I))return y(this.j(y(I)));if(0>this.l(p)&&0>I.l(p))return u(this.m()*I.m());for(var T=this.g.length+I.g.length,P=[],k=0;k<2*T;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<I.g.length;N++){var D=this.i(k)>>>16,O=this.i(k)&65535,$=I.i(N)>>>16,B=I.i(N)&65535;P[2*k+2*N]+=O*B,x(P,2*k+2*N),P[2*k+2*N+1]+=D*B,x(P,2*k+2*N+1),P[2*k+2*N+1]+=O*$,x(P,2*k+2*N+1),P[2*k+2*N+2]+=D*$,x(P,2*k+2*N+2)}for(k=0;k<T;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=T;k<2*T;k++)P[k]=0;return new s(P,0)};function x(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function S(I,T){this.g=I,this.h=T}function R(I,T){if(v(T))throw Error("division by zero");if(v(I))return new S(d,d);if(_(I))return T=R(y(I),T),new S(y(T.g),y(T.h));if(_(T))return T=R(I,y(T)),new S(y(T.g),T.h);if(30<I.g.length){if(_(I)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var P=h,k=T;0>=k.l(I);)P=C(P),k=C(k);var N=j(P,1),D=j(k,1);for(k=j(k,2),P=j(P,2);!v(k);){var O=D.add(k);0>=O.l(I)&&(N=N.add(P),D=O),k=j(k,1),P=j(P,1)}return T=w(I,N.j(T)),new S(N,T)}for(N=d;0<=I.l(T);){for(P=Math.max(1,Math.floor(I.m()/T.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=u(P),O=D.j(T);_(O)||0<O.l(I);)P-=k,D=u(P),O=D.j(T);v(D)&&(D=h),N=N.add(D),I=w(I,O)}return new S(N,I)}e.A=function(I){return R(this,I).h},e.and=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],k=0;k<T;k++)P[k]=this.i(k)&I.i(k);return new s(P,this.h&I.h)},e.or=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],k=0;k<T;k++)P[k]=this.i(k)|I.i(k);return new s(P,this.h|I.h)},e.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],k=0;k<T;k++)P[k]=this.i(k)^I.i(k);return new s(P,this.h^I.h)};function C(I){for(var T=I.g.length+1,P=[],k=0;k<T;k++)P[k]=I.i(k)<<1|I.i(k-1)>>>31;return new s(P,I.h)}function j(I,T){var P=T>>5;T%=32;for(var k=I.g.length-P,N=[],D=0;D<k;D++)N[D]=0<T?I.i(D+P)>>>T|I.i(D+P+1)<<32-T:I.i(D+P);return new s(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CC=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Xo=s}).apply(typeof jx<"u"?jx:typeof self<"u"?self:typeof window<"u"?window:{});var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kC,Ml,OC,Lf,yv,NC,RC,DC;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,m,E){return f==Array.prototype||f==Object.prototype||(f[m]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof ef=="object"&&ef];for(var m=0;m<f.length;++m){var E=f[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(f,m){if(m)e:{var E=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var L=f[A];if(!(L in E))break e;E=E[L]}f=f[f.length-1],A=E[f],m=m(A),m!=A&&m!=null&&t(E,f,{configurable:!0,writable:!0,value:m})}}function o(f,m){f instanceof String&&(f+="");var E=0,A=!1,L={next:function(){if(!A&&E<f.length){var V=E++;return{value:m(V,f[V]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(f){return f||function(){return o(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(f){var m=typeof f;return m=m!="object"?m:f?Array.isArray(f)?"array":m:"null",m=="array"||m=="object"&&typeof f.length=="number"}function u(f){var m=typeof f;return m=="object"&&f!=null||m=="function"}function c(f,m,E){return f.call.apply(f.bind,arguments)}function d(f,m,E){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),f.apply(m,L)}}return function(){return f.apply(m,arguments)}}function h(f,m,E){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,m){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function v(f,m){function E(){}E.prototype=m.prototype,f.aa=m.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(A,L,V){for(var Q=Array(arguments.length-2),je=2;je<arguments.length;je++)Q[je-2]=arguments[je];return m.prototype[L].apply(A,Q)}}function _(f){const m=f.length;if(0<m){const E=Array(m);for(let A=0;A<m;A++)E[A]=f[A];return E}return[]}function y(f,m){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(l(A)){const L=f.length||0,V=A.length||0;f.length=L+V;for(let Q=0;Q<V;Q++)f[L+Q]=A[Q]}else f.push(A)}}class w{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(f){return/^[\s\xa0]*$/.test(f)}function S(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function R(f){return R[" "](f),f}R[" "]=function(){};var C=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function j(f,m,E){for(const A in f)m.call(E,f[A],A,f)}function I(f,m){for(const E in f)m.call(void 0,f[E],E,f)}function T(f){const m={};for(const E in f)m[E]=f[E];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,m){let E,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(E in A)f[E]=A[E];for(let V=0;V<P.length;V++)E=P[V],Object.prototype.hasOwnProperty.call(A,E)&&(f[E]=A[E])}}function N(f){var m=1;f=f.split(":");const E=[];for(;0<m&&f.length;)E.push(f.shift()),m--;return f.length&&E.push(f.join(":")),E}function D(f){a.setTimeout(()=>{throw f},0)}function O(){var f=W;let m=null;return f.g&&(m=f.g,f.g=f.g.next,f.g||(f.h=null),m.next=null),m}class ${constructor(){this.h=this.g=null}add(m,E){const A=B.get();A.set(m,E),this.h?this.h.next=A:this.g=A,this.h=A}}var B=new w(()=>new J,f=>f.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,U=!1,W=new $,Z=()=>{const f=a.Promise.resolve(void 0);Y=()=>{f.then(pe)}};var pe=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(E){D(E)}var m=B;m.j(f),100>m.h&&(m.h++,f.next=m.g,m.g=f)}U=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(f,m){this.type=f,this.g=this.target=m,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,m=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};a.addEventListener("test",E,m),a.removeEventListener("test",E,m)}catch{}return f}();function Ke(f,m){if(we.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=m,m=f.relatedTarget){if(C){e:{try{R(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else E=="mouseover"?m=f.fromElement:E=="mouseout"&&(m=f.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ye[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ke.aa.h.call(this)}}v(Ke,we);var Ye={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),sr=0;function M(f,m,E,A,L){this.listener=f,this.proxy=null,this.src=m,this.type=E,this.capture=!!A,this.ha=L,this.key=++sr,this.da=this.fa=!1}function G(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ee(f){this.src=f,this.g={},this.h=0}ee.prototype.add=function(f,m,E,A,L){var V=f.toString();f=this.g[V],f||(f=this.g[V]=[],this.h++);var Q=Re(f,m,A,L);return-1<Q?(m=f[Q],E||(m.fa=!1)):(m=new M(m,this.src,V,!!A,L),m.fa=E,f.push(m)),m};function z(f,m){var E=m.type;if(E in f.g){var A=f.g[E],L=Array.prototype.indexOf.call(A,m,void 0),V;(V=0<=L)&&Array.prototype.splice.call(A,L,1),V&&(G(m),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Re(f,m,E,A){for(var L=0;L<f.length;++L){var V=f[L];if(!V.da&&V.listener==m&&V.capture==!!E&&V.ha==A)return L}return-1}var be="closure_lm_"+(1e6*Math.random()|0),rt={};function xt(f,m,E,A,L){if(Array.isArray(m)){for(var V=0;V<m.length;V++)xt(f,m[V],E,A,L);return null}return E=ks(E),f&&f[Ce]?f.K(m,E,u(A)?!!A.capture:!1,L):ar(f,m,E,!1,A,L)}function ar(f,m,E,A,L,V){if(!m)throw Error("Invalid event type");var Q=u(L)?!!L.capture:!!L,je=Di(f);if(je||(f[be]=je=new ee(f)),E=je.add(m,E,A,Q,V),E.proxy)return E;if(A=on(),E.proxy=A,A.src=f,A.listener=E,f.addEventListener)Le||(L=Q),L===void 0&&(L=!1),f.addEventListener(m.toString(),A,L);else if(f.attachEvent)f.attachEvent(wc(m.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function on(){function f(E){return m.call(f.src,f.listener,E)}const m=As;return f}function le(f,m,E,A,L){if(Array.isArray(m))for(var V=0;V<m.length;V++)le(f,m[V],E,A,L);else A=u(A)?!!A.capture:!!A,E=ks(E),f&&f[Ce]?(f=f.i,m=String(m).toString(),m in f.g&&(V=f.g[m],E=Re(V,E,A,L),-1<E&&(G(V[E]),Array.prototype.splice.call(V,E,1),V.length==0&&(delete f.g[m],f.h--)))):f&&(f=Di(f))&&(m=f.g[m.toString()],f=-1,m&&(f=Re(m,E,A,L)),(E=-1<f?m[f]:null)&&Is(E))}function Is(f){if(typeof f!="number"&&f&&!f.da){var m=f.src;if(m&&m[Ce])z(m.i,f);else{var E=f.type,A=f.proxy;m.removeEventListener?m.removeEventListener(E,A,f.capture):m.detachEvent?m.detachEvent(wc(E),A):m.addListener&&m.removeListener&&m.removeListener(A),(E=Di(m))?(z(E,f),E.h==0&&(E.src=null,m[be]=null)):G(f)}}}function wc(f){return f in rt?rt[f]:rt[f]="on"+f}function As(f,m){if(f.da)f=!0;else{m=new Ke(m,this);var E=f.listener,A=f.ha||f.src;f.fa&&Is(f),f=E.call(A,m)}return f}function Di(f){return f=f[be],f instanceof ee?f:null}var Cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ks(f){return typeof f=="function"?f:(f[Cs]||(f[Cs]=function(m){return f.handleEvent(m)}),f[Cs])}function dt(){me.call(this),this.i=new ee(this),this.M=this,this.F=null}v(dt,me),dt.prototype[Ce]=!0,dt.prototype.removeEventListener=function(f,m,E,A){le(this,f,m,E,A)};function St(f,m){var E,A=f.F;if(A)for(E=[];A;A=A.F)E.push(A);if(f=f.M,A=m.type||m,typeof m=="string")m=new we(m,f);else if(m instanceof we)m.target=m.target||f;else{var L=m;m=new we(A,f),k(m,L)}if(L=!0,E)for(var V=E.length-1;0<=V;V--){var Q=m.g=E[V];L=Io(Q,A,!0,m)&&L}if(Q=m.g=f,L=Io(Q,A,!0,m)&&L,L=Io(Q,A,!1,m)&&L,E)for(V=0;V<E.length;V++)Q=m.g=E[V],L=Io(Q,A,!1,m)&&L}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var f=this.i,m;for(m in f.g){for(var E=f.g[m],A=0;A<E.length;A++)G(E[A]);delete f.g[m],f.h--}}this.F=null},dt.prototype.K=function(f,m,E,A){return this.i.add(String(f),m,!1,E,A)},dt.prototype.L=function(f,m,E,A){return this.i.add(String(f),m,!0,E,A)};function Io(f,m,E,A){if(m=f.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,V=0;V<m.length;++V){var Q=m[V];if(Q&&!Q.da&&Q.capture==E){var je=Q.listener,Rt=Q.ha||Q.src;Q.fa&&z(f.i,Q),L=je.call(Rt,A)!==!1&&L}}return L&&!A.defaultPrevented}function rl(f,m,E){if(typeof f=="function")E&&(f=h(f,E));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(f,m||0)}function X(f){f.g=rl(()=>{f.g=null,f.i&&(f.i=!1,X(f))},f.l);const m=f.h;f.h=null,f.m.apply(null,m)}class ue extends me{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:X(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ve(f){me.call(this),this.h=f,this.g={}}v(ve,me);var ge=[];function Se(f){j(f.g,function(m,E){this.g.hasOwnProperty(E)&&Is(m)},f),f.g={}}ve.prototype.N=function(){ve.aa.N.call(this),Se(this)},ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var et=a.JSON.stringify,Tt=a.JSON.parse,Ao=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Os(){}Os.prototype.h=null;function _c(f){return f.h||(f.h=f.i())}function eb(){}var il={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hp(){we.call(this,"d")}v(Hp,we);function qp(){we.call(this,"c")}v(qp,we);var Co={},tb=null;function bc(){return tb=tb||new dt}Co.La="serverreachability";function nb(f){we.call(this,Co.La,f)}v(nb,we);function ol(f){const m=bc();St(m,new nb(m))}Co.STAT_EVENT="statevent";function rb(f,m){we.call(this,Co.STAT_EVENT,f),this.stat=m}v(rb,we);function sn(f){const m=bc();St(m,new rb(m,f))}Co.Ma="timingevent";function ib(f,m){we.call(this,Co.Ma,f),this.size=m}v(ib,we);function sl(f,m){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},m)}function al(){this.g=!0}al.prototype.xa=function(){this.g=!1};function vM(f,m,E,A,L,V){f.info(function(){if(f.g)if(V)for(var Q="",je=V.split("&"),Rt=0;Rt<je.length;Rt++){var Pe=je[Rt].split("=");if(1<Pe.length){var Wt=Pe[0];Pe=Pe[1];var Kt=Wt.split("_");Q=2<=Kt.length&&Kt[1]=="type"?Q+(Wt+"="+Pe+"&"):Q+(Wt+"=redacted&")}}else Q=null;else Q=V;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+E+`
`+Q})}function yM(f,m,E,A,L,V,Q){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+E+`
`+V+" "+Q})}function Ns(f,m,E,A){f.info(function(){return"XMLHTTP TEXT ("+m+"): "+_M(f,E)+(A?" "+A:"")})}function wM(f,m){f.info(function(){return"TIMEOUT: "+m})}al.prototype.info=function(){};function _M(f,m){if(!f.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var A=E[f];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Q=1;Q<L.length;Q++)L[Q]=""}}}}return et(E)}catch{return m}}var Ec={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ob={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gp;function xc(){}v(xc,Os),xc.prototype.g=function(){return new XMLHttpRequest},xc.prototype.i=function(){return{}},Gp=new xc;function ji(f,m,E,A){this.j=f,this.i=m,this.l=E,this.R=A||1,this.U=new ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sb}function sb(){this.i=null,this.g="",this.h=!1}var ab={},Yp={};function Qp(f,m,E){f.L=1,f.v=Ic(Wr(m)),f.m=E,f.P=!0,lb(f,null)}function lb(f,m){f.F=Date.now(),Sc(f),f.A=Wr(f.v);var E=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),Eb(E.i,"t",A),f.C=0,E=f.j.J,f.h=new sb,f.g=$b(f.j,E?m:null,!f.m),0<f.O&&(f.M=new ue(h(f.Y,f,f.g),f.O)),m=f.U,E=f.g,A=f.ca;var L="readystatechange";Array.isArray(L)||(L&&(ge[0]=L.toString()),L=ge);for(var V=0;V<L.length;V++){var Q=xt(E,L[V],A||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,m)):(f.u="GET",f.g.ea(f.A,f.u,null,m)),ol(),vM(f.i,f.u,f.A,f.l,f.R,f.m)}ji.prototype.ca=function(f){f=f.target;const m=this.M;m&&Kr(f)==3?m.j():this.Y(f)},ji.prototype.Y=function(f){try{if(f==this.g)e:{const Kt=Kr(this.g);var m=this.g.Ba();const js=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Cb(this.g)))){this.J||Kt!=4||m==7||(m==8||0>=js?ol(3):ol(2)),Xp(this);var E=this.g.Z();this.X=E;t:if(ub(this)){var A=Cb(this.g);f="";var L=A.length,V=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ko(this),ll(this);var Q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,f+=this.h.i.decode(A[m],{stream:!(V&&m==L-1)});A.length=0,this.h.g+=f,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=E==200,yM(this.i,this.u,this.A,this.l,this.R,Kt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Rt=this.g;if((je=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(je)){var Pe=je;break t}}Pe=null}if(E=Pe)Ns(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jp(this,E);else{this.o=!1,this.s=3,sn(12),ko(this),ll(this);break e}}if(this.P){E=!0;let lr;for(;!this.J&&this.C<Q.length;)if(lr=bM(this,Q),lr==Yp){Kt==4&&(this.s=4,sn(14),E=!1),Ns(this.i,this.l,null,"[Incomplete Response]");break}else if(lr==ab){this.s=4,sn(15),Ns(this.i,this.l,Q,"[Invalid Chunk]"),E=!1;break}else Ns(this.i,this.l,lr,null),Jp(this,lr);if(ub(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||Q.length!=0||this.h.h||(this.s=1,sn(16),E=!1),this.o=this.o&&E,!E)Ns(this.i,this.l,Q,"[Invalid Chunked Response]"),ko(this),ll(this);else if(0<Q.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),im(Wt),Wt.M=!0,sn(11))}}else Ns(this.i,this.l,Q,null),Jp(this,Q);Kt==4&&ko(this),this.o&&!this.J&&(Kt==4?Mb(this.j,this):(this.o=!1,Sc(this)))}else VM(this.g),E==400&&0<Q.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),ko(this),ll(this)}}}catch{}finally{}};function ub(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function bM(f,m){var E=f.C,A=m.indexOf(`
`,E);return A==-1?Yp:(E=Number(m.substring(E,A)),isNaN(E)?ab:(A+=1,A+E>m.length?Yp:(m=m.slice(A,A+E),f.C=A+E,m)))}ji.prototype.cancel=function(){this.J=!0,ko(this)};function Sc(f){f.S=Date.now()+f.I,cb(f,f.I)}function cb(f,m){if(f.B!=null)throw Error("WatchDog timer not null");f.B=sl(h(f.ba,f),m)}function Xp(f){f.B&&(a.clearTimeout(f.B),f.B=null)}ji.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(wM(this.i,this.A),this.L!=2&&(ol(),sn(17)),ko(this),this.s=2,ll(this)):cb(this,this.S-f)};function ll(f){f.j.G==0||f.J||Mb(f.j,f)}function ko(f){Xp(f);var m=f.M;m&&typeof m.ma=="function"&&m.ma(),f.M=null,Se(f.U),f.g&&(m=f.g,f.g=null,m.abort(),m.ma())}function Jp(f,m){try{var E=f.j;if(E.G!=0&&(E.g==f||Zp(E.h,f))){if(!f.K&&Zp(E.h,f)&&E.G==3){try{var A=E.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Rc(E),Oc(E);else break e;rm(E),sn(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=sl(h(E.Za,E),6e3));if(1>=hb(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else No(E,11)}else if((f.K||E.g==f)&&Rc(E),!x(m))for(L=E.Da.g.parse(m),m=0;m<L.length;m++){let Pe=L[m];if(E.T=Pe[0],Pe=Pe[1],E.G==2)if(Pe[0]=="c"){E.K=Pe[1],E.ia=Pe[2];const Wt=Pe[3];Wt!=null&&(E.la=Wt,E.j.info("VER="+E.la));const Kt=Pe[4];Kt!=null&&(E.Aa=Kt,E.j.info("SVER="+E.Aa));const js=Pe[5];js!=null&&typeof js=="number"&&0<js&&(A=1.5*js,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const lr=f.g;if(lr){const jc=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jc){var V=A.h;V.g||jc.indexOf("spdy")==-1&&jc.indexOf("quic")==-1&&jc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(em(V,V.h),V.h=null))}if(A.D){const om=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;om&&(A.ya=om,$e(A.I,A.D,om))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var Q=f;if(A.qa=Fb(A,A.J?A.ia:null,A.W),Q.K){pb(A.h,Q);var je=Q,Rt=A.L;Rt&&(je.I=Rt),je.B&&(Xp(je),Sc(je)),A.g=Q}else Db(A);0<E.i.length&&Nc(E)}else Pe[0]!="stop"&&Pe[0]!="close"||No(E,7);else E.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?No(E,7):nm(E):Pe[0]!="noop"&&E.l&&E.l.ta(Pe),E.v=0)}}ol(4)}catch{}}var EM=class{constructor(f,m){this.g=f,this.map=m}};function fb(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function db(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function hb(f){return f.h?1:f.g?f.g.size:0}function Zp(f,m){return f.h?f.h==m:f.g?f.g.has(m):!1}function em(f,m){f.g?f.g.add(m):f.h=m}function pb(f,m){f.h&&f.h==m?f.h=null:f.g&&f.g.has(m)&&f.g.delete(m)}fb.prototype.cancel=function(){if(this.i=mb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function mb(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let m=f.i;for(const E of f.g.values())m=m.concat(E.D);return m}return _(f.i)}function xM(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var m=[],E=f.length,A=0;A<E;A++)m.push(f[A]);return m}m=[],E=0;for(A in f)m[E++]=f[A];return m}function SM(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var m=[];f=f.length;for(var E=0;E<f;E++)m.push(E);return m}m=[],E=0;for(const A in f)m[E++]=A;return m}}}function gb(f,m){if(f.forEach&&typeof f.forEach=="function")f.forEach(m,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,m,void 0);else for(var E=SM(f),A=xM(f),L=A.length,V=0;V<L;V++)m.call(void 0,A[V],E&&E[V],f)}var vb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TM(f,m){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var A=f[E].indexOf("="),L=null;if(0<=A){var V=f[E].substring(0,A);L=f[E].substring(A+1)}else V=f[E];m(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Oo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Oo){this.h=f.h,Tc(this,f.j),this.o=f.o,this.g=f.g,Pc(this,f.s),this.l=f.l;var m=f.i,E=new fl;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),yb(this,E),this.m=f.m}else f&&(m=String(f).match(vb))?(this.h=!1,Tc(this,m[1]||"",!0),this.o=ul(m[2]||""),this.g=ul(m[3]||"",!0),Pc(this,m[4]),this.l=ul(m[5]||"",!0),yb(this,m[6]||"",!0),this.m=ul(m[7]||"")):(this.h=!1,this.i=new fl(null,this.h))}Oo.prototype.toString=function(){var f=[],m=this.j;m&&f.push(cl(m,wb,!0),":");var E=this.g;return(E||m=="file")&&(f.push("//"),(m=this.o)&&f.push(cl(m,wb,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(cl(E,E.charAt(0)=="/"?AM:IM,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",cl(E,kM)),f.join("")};function Wr(f){return new Oo(f)}function Tc(f,m,E){f.j=E?ul(m,!0):m,f.j&&(f.j=f.j.replace(/:$/,""))}function Pc(f,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);f.s=m}else f.s=null}function yb(f,m,E){m instanceof fl?(f.i=m,OM(f.i,f.h)):(E||(m=cl(m,CM)),f.i=new fl(m,f.h))}function $e(f,m,E){f.i.set(m,E)}function Ic(f){return $e(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ul(f,m){return f?m?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function cl(f,m,E){return typeof f=="string"?(f=encodeURI(f).replace(m,PM),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function PM(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var wb=/[#\/\?@]/g,IM=/[#\?:]/g,AM=/[#\?]/g,CM=/[#\?@]/g,kM=/#/g;function fl(f,m){this.h=this.g=null,this.i=f||null,this.j=!!m}function Mi(f){f.g||(f.g=new Map,f.h=0,f.i&&TM(f.i,function(m,E){f.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}e=fl.prototype,e.add=function(f,m){Mi(this),this.i=null,f=Rs(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(m),this.h+=1,this};function _b(f,m){Mi(f),m=Rs(f,m),f.g.has(m)&&(f.i=null,f.h-=f.g.get(m).length,f.g.delete(m))}function bb(f,m){return Mi(f),m=Rs(f,m),f.g.has(m)}e.forEach=function(f,m){Mi(this),this.g.forEach(function(E,A){E.forEach(function(L){f.call(m,L,A,this)},this)},this)},e.na=function(){Mi(this);const f=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let A=0;A<m.length;A++){const L=f[A];for(let V=0;V<L.length;V++)E.push(m[A])}return E},e.V=function(f){Mi(this);let m=[];if(typeof f=="string")bb(this,f)&&(m=m.concat(this.g.get(Rs(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)m=m.concat(f[E])}return m},e.set=function(f,m){return Mi(this),this.i=null,f=Rs(this,f),bb(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[m]),this.h+=1,this},e.get=function(f,m){return f?(f=this.V(f),0<f.length?String(f[0]):m):m};function Eb(f,m,E){_b(f,m),0<E.length&&(f.i=null,f.g.set(Rs(f,m),_(E)),f.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var A=m[E];const V=encodeURIComponent(String(A)),Q=this.V(A);for(A=0;A<Q.length;A++){var L=V;Q[A]!==""&&(L+="="+encodeURIComponent(String(Q[A]))),f.push(L)}}return this.i=f.join("&")};function Rs(f,m){return m=String(m),f.j&&(m=m.toLowerCase()),m}function OM(f,m){m&&!f.j&&(Mi(f),f.i=null,f.g.forEach(function(E,A){var L=A.toLowerCase();A!=L&&(_b(this,A),Eb(this,L,E))},f)),f.j=m}function NM(f,m){const E=new al;if(a.Image){const A=new Image;A.onload=p(Li,E,"TestLoadImage: loaded",!0,m,A),A.onerror=p(Li,E,"TestLoadImage: error",!1,m,A),A.onabort=p(Li,E,"TestLoadImage: abort",!1,m,A),A.ontimeout=p(Li,E,"TestLoadImage: timeout",!1,m,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else m(!1)}function RM(f,m){const E=new al,A=new AbortController,L=setTimeout(()=>{A.abort(),Li(E,"TestPingServer: timeout",!1,m)},1e4);fetch(f,{signal:A.signal}).then(V=>{clearTimeout(L),V.ok?Li(E,"TestPingServer: ok",!0,m):Li(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Li(E,"TestPingServer: error",!1,m)})}function Li(f,m,E,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(E)}catch{}}function DM(){this.g=new Ao}function jM(f,m,E){const A=E||"";try{gb(f,function(L,V){let Q=L;u(L)&&(Q=et(L)),m.push(A+V+"="+encodeURIComponent(Q))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function Ac(f){this.l=f.Ub||null,this.j=f.eb||!1}v(Ac,Os),Ac.prototype.g=function(){return new Cc(this.l,this.j)},Ac.prototype.i=function(f){return function(){return f}}({});function Cc(f,m){dt.call(this),this.D=f,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Cc,dt),e=Cc.prototype,e.open=function(f,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=m,this.readyState=1,hl(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(m.body=f),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dl(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,hl(this)),this.g&&(this.readyState=3,hl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xb(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function xb(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var m=f.value?f.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!f.done}))&&(this.response=this.responseText+=m)}f.done?dl(this):hl(this),this.readyState==3&&xb(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,dl(this))},e.Qa=function(f){this.g&&(this.response=f,dl(this))},e.ga=function(){this.g&&dl(this)};function dl(f){f.readyState=4,f.l=null,f.j=null,f.v=null,hl(f)}e.setRequestHeader=function(f,m){this.u.append(f,m)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=m.next();return f.join(`\r
`)};function hl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Sb(f){let m="";return j(f,function(E,A){m+=A,m+=":",m+=E,m+=`\r
`}),m}function tm(f,m,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Sb(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):$e(f,m,E))}function tt(f){dt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(tt,dt);var MM=/^https?$/i,LM=["POST","PUT"];e=tt.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,m,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);m=m?m.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gp.g(),this.v=this.o?_c(this.o):_c(Gp),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(f),!0),this.B=!1}catch(V){Tb(this,V);return}if(f=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)E.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())E.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(V=>V.toLowerCase()=="content-type"),L=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(LM,m,void 0))||A||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Q]of E)this.g.setRequestHeader(V,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ab(this),this.u=!0,this.g.send(f),this.u=!1}catch(V){Tb(this,V)}};function Tb(f,m){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=m,f.m=5,Pb(f),kc(f)}function Pb(f){f.A||(f.A=!0,St(f,"complete"),St(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,St(this,"complete"),St(this,"abort"),kc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kc(this,!0)),tt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ib(this):this.bb())},e.bb=function(){Ib(this)};function Ib(f){if(f.h&&typeof s<"u"&&(!f.v[1]||Kr(f)!=4||f.Z()!=2)){if(f.u&&Kr(f)==4)rl(f.Ea,0,f);else if(St(f,"readystatechange"),Kr(f)==4){f.h=!1;try{const Q=f.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var A;if(A=Q===0){var L=String(f.D).match(vb)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),A=!MM.test(L?L.toLowerCase():"")}E=A}if(E)St(f,"complete"),St(f,"success");else{f.m=6;try{var V=2<Kr(f)?f.g.statusText:""}catch{V=""}f.l=V+" ["+f.Z()+"]",Pb(f)}}finally{kc(f)}}}}function kc(f,m){if(f.g){Ab(f);const E=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,m||St(f,"ready");try{E.onreadystatechange=A}catch{}}}function Ab(f){f.I&&(a.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function Kr(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var m=this.g.responseText;return f&&m.indexOf(f)==0&&(m=m.substring(f.length)),Tt(m)}};function Cb(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function VM(f){const m={};f=(f.g&&2<=Kr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(x(f[A]))continue;var E=N(f[A]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const V=m[L]||[];m[L]=V,V.push(E)}I(m,function(A){return A.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pl(f,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||m}function kb(f){this.Aa=0,this.i=[],this.j=new al,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pl("baseRetryDelayMs",5e3,f),this.cb=pl("retryDelaySeedMs",1e4,f),this.Wa=pl("forwardChannelMaxRetries",2,f),this.wa=pl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new fb(f&&f.concurrentRequestLimit),this.Da=new DM,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=kb.prototype,e.la=8,e.G=1,e.connect=function(f,m,E,A){sn(0),this.W=f,this.H=m||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Fb(this,null,this.W),Nc(this)};function nm(f){if(Ob(f),f.G==3){var m=f.U++,E=Wr(f.I);if($e(E,"SID",f.K),$e(E,"RID",m),$e(E,"TYPE","terminate"),ml(f,E),m=new ji(f,f.j,m),m.L=2,m.v=Ic(Wr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=m.v,E=!0),E||(m.g=$b(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Sc(m)}Vb(f)}function Oc(f){f.g&&(im(f),f.g.cancel(),f.g=null)}function Ob(f){Oc(f),f.u&&(a.clearTimeout(f.u),f.u=null),Rc(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Nc(f){if(!db(f.h)&&!f.s){f.s=!0;var m=f.Ga;Y||Z(),U||(Y(),U=!0),W.add(m,f),f.B=0}}function FM(f,m){return hb(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=m.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=sl(h(f.Ga,f,m),Lb(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const L=new ji(this,this.j,f);let V=this.o;if(this.S&&(V?(V=T(V),k(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=Rb(this,L,m),E=Wr(this.I),$e(E,"RID",f),$e(E,"CVER",22),this.D&&$e(E,"X-HTTP-Session-Id",this.D),ml(this,E),V&&(this.O?m="headers="+encodeURIComponent(String(Sb(V)))+"&"+m:this.m&&tm(E,this.m,V)),em(this.h,L),this.Ua&&$e(E,"TYPE","init"),this.P?($e(E,"$req",m),$e(E,"SID","null"),L.T=!0,Qp(L,E,null)):Qp(L,E,m),this.G=2}}else this.G==3&&(f?Nb(this,f):this.i.length==0||db(this.h)||Nb(this))};function Nb(f,m){var E;m?E=m.l:E=f.U++;const A=Wr(f.I);$e(A,"SID",f.K),$e(A,"RID",E),$e(A,"AID",f.T),ml(f,A),f.m&&f.o&&tm(A,f.m,f.o),E=new ji(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),m&&(f.i=m.D.concat(f.i)),m=Rb(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),em(f.h,E),Qp(E,A,m)}function ml(f,m){f.H&&j(f.H,function(E,A){$e(m,A,E)}),f.l&&gb({},function(E,A){$e(m,A,E)})}function Rb(f,m,E){E=Math.min(f.i.length,E);var A=f.l?h(f.l.Na,f.l,f):null;e:{var L=f.i;let V=-1;for(;;){const Q=["count="+E];V==-1?0<E?(V=L[0].g,Q.push("ofs="+V)):V=0:Q.push("ofs="+V);let je=!0;for(let Rt=0;Rt<E;Rt++){let Pe=L[Rt].g;const Wt=L[Rt].map;if(Pe-=V,0>Pe)V=Math.max(0,L[Rt].g-100),je=!1;else try{jM(Wt,Q,"req"+Pe+"_")}catch{A&&A(Wt)}}if(je){A=Q.join("&");break e}}}return f=f.i.splice(0,E),m.D=f,A}function Db(f){if(!f.g&&!f.u){f.Y=1;var m=f.Fa;Y||Z(),U||(Y(),U=!0),W.add(m,f),f.v=0}}function rm(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=sl(h(f.Fa,f),Lb(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,jb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=sl(h(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),Oc(this),jb(this))};function im(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function jb(f){f.g=new ji(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var m=Wr(f.qa);$e(m,"RID","rpc"),$e(m,"SID",f.K),$e(m,"AID",f.T),$e(m,"CI",f.F?"0":"1"),!f.F&&f.ja&&$e(m,"TO",f.ja),$e(m,"TYPE","xmlhttp"),ml(f,m),f.m&&f.o&&tm(m,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Ic(Wr(m)),E.m=null,E.P=!0,lb(E,f)}e.Za=function(){this.C!=null&&(this.C=null,Oc(this),rm(this),sn(19))};function Rc(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function Mb(f,m){var E=null;if(f.g==m){Rc(f),im(f),f.g=null;var A=2}else if(Zp(f.h,m))E=m.D,pb(f.h,m),A=1;else return;if(f.G!=0){if(m.o)if(A==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var L=f.B;A=bc(),St(A,new ib(A,E)),Nc(f)}else Db(f);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&FM(f,m)||A==2&&rm(f)))switch(E&&0<E.length&&(m=f.h,m.i=m.i.concat(E)),L){case 1:No(f,5);break;case 4:No(f,10);break;case 3:No(f,6);break;default:No(f,2)}}}function Lb(f,m){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*m}function No(f,m){if(f.j.info("Error code "+m),m==2){var E=h(f.fb,f),A=f.Xa;const L=!A;A=new Oo(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Tc(A,"https"),Ic(A),L?NM(A.toString(),E):RM(A.toString(),E)}else sn(2);f.G=0,f.l&&f.l.sa(m),Vb(f),Ob(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function Vb(f){if(f.G=0,f.ka=[],f.l){const m=mb(f.h);(m.length!=0||f.i.length!=0)&&(y(f.ka,m),y(f.ka,f.i),f.h.i.length=0,_(f.i),f.i.length=0),f.l.ra()}}function Fb(f,m,E){var A=E instanceof Oo?Wr(E):new Oo(E);if(A.g!="")m&&(A.g=m+"."+A.g),Pc(A,A.s);else{var L=a.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var V=new Oo(null);A&&Tc(V,A),m&&(V.g=m),L&&Pc(V,L),E&&(V.l=E),A=V}return E=f.D,m=f.ya,E&&m&&$e(A,E,m),$e(A,"VER",f.la),ml(f,A),A}function $b(f,m,E){if(m&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=f.Ca&&!f.pa?new tt(new Ac({eb:E})):new tt(f.pa),m.Ha(f.J),m}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ub(){}e=Ub.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Dc(){}Dc.prototype.g=function(f,m){return new Cn(f,m)};function Cn(f,m){dt.call(this),this.g=new kb(m),this.l=f,this.h=m&&m.messageUrlParams||null,f=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(f?f["X-WebChannel-Content-Type"]=m.messageContentType:f={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(f?f["X-WebChannel-Client-Profile"]=m.va:f={"X-WebChannel-Client-Profile":m.va}),this.g.S=f,(f=m&&m.Sb)&&!x(f)&&(this.g.m=f),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,f=this.h,f!==null&&m in f&&(f=this.h,m in f&&delete f[m])),this.j=new Ds(this)}v(Cn,dt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){nm(this.g)},Cn.prototype.o=function(f){var m=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=et(f),f=E);m.i.push(new EM(m.Ya++,f)),m.G==3&&Nc(m)},Cn.prototype.N=function(){this.g.l=null,delete this.j,nm(this.g),delete this.g,Cn.aa.N.call(this)};function zb(f){Hp.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var m=f.__sm__;if(m){e:{for(const E in m){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,m=m!==null&&f in m?m[f]:void 0),this.data=m}else this.data=f}v(zb,Hp);function Bb(){qp.call(this),this.status=1}v(Bb,qp);function Ds(f){this.g=f}v(Ds,Ub),Ds.prototype.ua=function(){St(this.g,"a")},Ds.prototype.ta=function(f){St(this.g,new zb(f))},Ds.prototype.sa=function(f){St(this.g,new Bb)},Ds.prototype.ra=function(){St(this.g,"b")},Dc.prototype.createWebChannel=Dc.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,DC=function(){return new Dc},RC=function(){return bc()},NC=Co,yv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ec.NO_ERROR=0,Ec.TIMEOUT=8,Ec.HTTP_ERROR=6,Lf=Ec,ob.COMPLETE="complete",OC=ob,eb.EventType=il,il.OPEN="a",il.CLOSE="b",il.ERROR="c",il.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Ml=eb,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,kC=tt}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});const Mx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Uh("@firebase/firestore");function Sl(){return cs.logLevel}function re(e,...t){if(cs.logLevel<=Ee.DEBUG){const n=t.map($0);cs.debug(`Firestore (${Ba}): ${e}`,...n)}}function vi(e,...t){if(cs.logLevel<=Ee.ERROR){const n=t.map($0);cs.error(`Firestore (${Ba}): ${e}`,...n)}}function xa(e,...t){if(cs.logLevel<=Ee.WARN){const n=t.map($0);cs.warn(`Firestore (${Ba}): ${e}`,...n)}}function $0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(e="Unexpected state"){const t=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: `+e;throw vi(t),new Error(t)}function Ne(e,t){e||fe()}function he(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends br{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class g3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class v3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class y3{constructor(t){this.t=t,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ne(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new uo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new uo,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new uo)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new jC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ne(t===null||typeof t=="string"),new Qt(t)}}class w3{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _3{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new w3(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E3{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Ne(this.o===void 0);const r=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new b3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=x3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function Ie(e,t){return e<t?-1:e>t?1:0}function Sa(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return yt.fromMillis(Date.now())}static fromDate(t){return yt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ie(this.nanoseconds,t.nanoseconds):Ie(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t){this.timestamp=t}static fromTimestamp(t){return new de(t)}static min(){return new de(new yt(0,0))}static max(){return new de(new yt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,n,r){n===void 0?n=0:n>t.length&&fe(),r===void 0?r=t.length-n:r>t.length-n&&fe(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Su.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Su?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class qe extends Su{construct(t,n,r){return new qe(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new se(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const S3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends Su{construct(t,n,r){return new Lt(t,n,r)}static isValidIdentifier(t){return S3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new se(H.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new se(H.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t){this.path=t}static fromPath(t){return new ae(qe.fromString(t))}static fromName(t){return new ae(qe.fromString(t).popFirst(5))}static empty(){return new ae(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return qe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ae(new qe(t.slice()))}}function T3(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new mo(i,ae.empty(),t)}function P3(e){return new mo(e.readTime,e.key,-1)}class mo{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new mo(de.min(),ae.empty(),-1)}static max(){return new mo(de.max(),ae.empty(),-1)}}function I3(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ae.comparator(e.documentKey,t.documentKey),n!==0?n:Ie(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(e){if(e.code!==H.FAILED_PRECONDITION||e.message!==A3)throw e;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new K((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):K.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):K.reject(n)}static resolve(t){return new K((n,r)=>{n(t)})}static reject(t){return new K((n,r)=>{r(t)})}static waitFor(t){return new K((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=K.resolve(!1);for(const r of t)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new K((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new K((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function k3(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}U0.oe=-1;function qh(e){return e==null}function Td(e){return e===0&&1/e==-1/0}function O3(e){return typeof e=="number"&&Number.isInteger(e)&&!Td(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function LC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,n){this.comparator=t,this.root=n||Mt.EMPTY}insert(t,n){return new Ze(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(t){return new Ze(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tf(this.root,t,this.comparator,!1)}getReverseIterator(){return new tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tf(this.root,t,this.comparator,!0)}}class tf{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Mt{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??Mt.RED,this.left=i??Mt.EMPTY,this.right=o??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new Mt(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const t=this.left.check();if(t!==this.right.check())throw fe();return t+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,n,r,i,o){return this}insert(t,n,r){return new Mt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.comparator=t,this.data=new Ze(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vx(this.data.getIterator())}getIteratorFrom(t){return new Vx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof $t)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new $t(this.comparator);return n.data=t,n}}class Vx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t){this.fields=t,t.sort(Lt.comparator)}static empty(){return new mr([])}unionWith(t){let n=new $t(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new mr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Sa(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VC("Invalid base64 string: "+o):o}}(t);return new zt(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new zt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ie(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const N3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(e){if(Ne(!!e),typeof e=="string"){let t=0;const n=N3.exec(e);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ot(e.seconds),nanos:ot(e.nanos)}}function ot(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function fs(e){return typeof e=="string"?zt.fromBase64String(e):zt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function B0(e){const t=e.mapValue.fields.__previous_value__;return z0(t)?B0(t):t}function Tu(e){const t=go(e.mapValue.fields.__local_write_time__.timestampValue);return new yt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Pu{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Pu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Pu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf={mapValue:{}};function ds(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?z0(e)?4:j3(e)?9007199254740991:D3(e)?10:11:fe()}function Lr(e,t){if(e===t)return!0;const n=ds(e);if(n!==ds(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tu(e).isEqual(Tu(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=go(i.timestampValue),a=go(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return fs(i.bytesValue).isEqual(fs(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return ot(i.geoPointValue.latitude)===ot(o.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ot(i.integerValue)===ot(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ot(i.doubleValue),a=ot(o.doubleValue);return s===a?Td(s)===Td(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Sa(e.arrayValue.values||[],t.arrayValue.values||[],Lr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Lx(s)!==Lx(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Lr(s[l],a[l])))return!1;return!0}(e,t);default:return fe()}}function Iu(e,t){return(e.values||[]).find(n=>Lr(n,t))!==void 0}function Ta(e,t){if(e===t)return 0;const n=ds(e),r=ds(t);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=ot(o.integerValue||o.doubleValue),l=ot(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Fx(e.timestampValue,t.timestampValue);case 4:return Fx(Tu(e),Tu(t));case 5:return Ie(e.stringValue,t.stringValue);case 6:return function(o,s){const a=fs(o),l=fs(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ie(a[u],l[u]);if(c!==0)return c}return Ie(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Ie(ot(o.latitude),ot(s.latitude));return a!==0?a:Ie(ot(o.longitude),ot(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return $x(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,_=Ie(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:$x(p,v)}(e.mapValue,t.mapValue);case 11:return function(o,s){if(o===nf.mapValue&&s===nf.mapValue)return 0;if(o===nf.mapValue)return 1;if(s===nf.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ie(l[d],c[d]);if(h!==0)return h;const p=Ta(a[l[d]],u[c[d]]);if(p!==0)return p}return Ie(l.length,c.length)}(e.mapValue,t.mapValue);default:throw fe()}}function Fx(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ie(e,t);const n=go(e),r=go(t),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function $x(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ta(n[i],r[i]);if(o)return o}return Ie(n.length,r.length)}function Pa(e){return wv(e)}function wv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=go(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return fs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ae.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=wv(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${wv(n.fields[s])}`;return i+"}"}(e.mapValue):fe()}function _v(e){return!!e&&"integerValue"in e}function W0(e){return!!e&&"arrayValue"in e}function Ux(e){return!!e&&"nullValue"in e}function zx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vf(e){return!!e&&"mapValue"in e}function D3(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Wa(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Zl(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function j3(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.value=t}static empty(){return new Yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Vf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zl(n)}setAll(t){let n=Lt.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Zl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Lr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Vf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Wa(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Yn(Zl(this.value))}}function FC(e){const t=[];return Wa(e.fields,(n,r)=>{const i=new Lt([n]);if(Vf(r)){const o=FC(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new mr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Jt(t,0,de.min(),de.min(),de.min(),Yn.empty(),0)}static newFoundDocument(t,n,r,i){return new Jt(t,1,n,de.min(),r,i,0)}static newNoDocument(t,n){return new Jt(t,2,n,de.min(),de.min(),Yn.empty(),0)}static newUnknownDocument(t,n){return new Jt(t,3,n,de.min(),de.min(),Yn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Jt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(t,n){this.position=t,this.inclusive=n}}function Bx(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=ae.comparator(ae.fromName(s.referenceValue),n.key):r=Ta(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wx(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Lr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t,n="asc"){this.field=t,this.dir=n}}function M3(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{}class gt extends $C{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new V3(t,n,r):n==="array-contains"?new U3(t,r):n==="in"?new z3(t,r):n==="not-in"?new B3(t,r):n==="array-contains-any"?new W3(t,r):new gt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new F3(t,r):new $3(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ta(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends $C{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Vr(t,n)}matches(t){return UC(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function UC(e){return e.op==="and"}function zC(e){return L3(e)&&UC(e)}function L3(e){for(const t of e.filters)if(t instanceof Vr)return!1;return!0}function bv(e){if(e instanceof gt)return e.field.canonicalString()+e.op.toString()+Pa(e.value);if(zC(e))return e.filters.map(t=>bv(t)).join(",");{const t=e.filters.map(n=>bv(n)).join(",");return`${e.op}(${t})`}}function BC(e,t){return e instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&Lr(r.value,i.value)}(e,t):e instanceof Vr?function(r,i){return i instanceof Vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&BC(s,i.filters[a]),!0):!1}(e,t):void fe()}function WC(e){return e instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Pa(n.value)}`}(e):e instanceof Vr?function(n){return n.op.toString()+" {"+n.getFilters().map(WC).join(" ,")+"}"}(e):"Filter"}class V3 extends gt{constructor(t,n,r){super(t,n,r),this.key=ae.fromName(r.referenceValue)}matches(t){const n=ae.comparator(t.key,this.key);return this.matchesComparison(n)}}class F3 extends gt{constructor(t,n){super(t,"in",n),this.keys=KC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class $3 extends gt{constructor(t,n){super(t,"not-in",n),this.keys=KC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function KC(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class U3 extends gt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return W0(n)&&Iu(n.arrayValue,this.value)}}class z3 extends gt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class B3 extends gt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Iu(this.value.arrayValue,n)}}class W3 extends gt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!W0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Kx(e,t=null,n=[],r=[],i=null,o=null,s=null){return new K3(e,t,n,r,i,o,s)}function K0(e){const t=he(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>bv(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),qh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Pa(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Pa(r)).join(",")),t.ue=n}return t.ue}function H0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!M3(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!BC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wx(e.startAt,t.startAt)&&Wx(e.endAt,t.endAt)}function Ev(e){return ae.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function H3(e,t,n,r,i,o,s,a){return new Gh(e,t,n,r,i,o,s,a)}function Yh(e){return new Gh(e)}function Hx(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function q3(e){return e.collectionGroup!==null}function eu(e){const t=he(e);if(t.ce===null){t.ce=[];const n=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $t(Lt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Id(o,r))}),n.has(Lt.keyField().canonicalString())||t.ce.push(new Id(Lt.keyField(),r))}return t.ce}function Or(e){const t=he(e);return t.le||(t.le=G3(t,eu(e))),t.le}function G3(e,t){if(e.limitType==="F")return Kx(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Id(i.field,o)});const n=e.endAt?new Pd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Pd(e.startAt.position,e.startAt.inclusive):null;return Kx(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function xv(e,t,n){return new Gh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qh(e,t){return H0(Or(e),Or(t))&&e.limitType===t.limitType}function HC(e){return`${K0(Or(e))}|lt:${e.limitType}`}function $s(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WC(i)).join(", ")}]`),qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Pa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Pa(i)).join(",")),`Target(${r})`}(Or(e))}; limitType=${e.limitType})`}function Xh(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of eu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Bx(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,eu(r),i)||r.endAt&&!function(s,a,l){const u=Bx(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,eu(r),i))}(e,t)}function Y3(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qC(e){return(t,n)=>{let r=!1;for(const i of eu(e)){const o=Q3(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Q3(e,t,n){const r=e.field.isKeyField()?ae.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ta(l,u):fe()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Wa(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return LC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=new Ze(ae.comparator);function yi(){return X3}const GC=new Ze(ae.comparator);function Ll(...e){let t=GC;for(const n of e)t=t.insert(n.key,n);return t}function YC(e){let t=GC;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Wo(){return tu()}function QC(){return tu()}function tu(){return new Ka(e=>e.toString(),(e,t)=>e.isEqual(t))}const J3=new Ze(ae.comparator),Z3=new $t(ae.comparator);function _e(...e){let t=Z3;for(const n of e)t=t.add(n);return t}const ez=new $t(Ie);function tz(){return ez}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(t)?"-0":t}}function XC(e){return{integerValue:""+e}}function nz(e,t){return O3(t)?XC(t):q0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function rz(e,t,n){return e instanceof Ad?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&z0(o)&&(o=B0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Au?ZC(e,t):e instanceof Cu?ek(e,t):function(i,o){const s=JC(i,o),a=qx(s)+qx(i.Pe);return _v(s)&&_v(i.Pe)?XC(a):q0(i.serializer,a)}(e,t)}function iz(e,t,n){return e instanceof Au?ZC(e,t):e instanceof Cu?ek(e,t):n}function JC(e,t){return e instanceof Cd?function(r){return _v(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class Ad extends Jh{}class Au extends Jh{constructor(t){super(),this.elements=t}}function ZC(e,t){const n=tk(t);for(const r of e.elements)n.some(i=>Lr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Cu extends Jh{constructor(t){super(),this.elements=t}}function ek(e,t){let n=tk(t);for(const r of e.elements)n=n.filter(i=>!Lr(i,r));return{arrayValue:{values:n}}}class Cd extends Jh{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function qx(e){return ot(e.integerValue||e.doubleValue)}function tk(e){return W0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function oz(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Au&&i instanceof Au||r instanceof Cu&&i instanceof Cu?Sa(r.elements,i.elements,Lr):r instanceof Cd&&i instanceof Cd?Lr(r.Pe,i.Pe):r instanceof Ad&&i instanceof Ad}(e.transform,t.transform)}class sz{constructor(t,n){this.version=t,this.transformResults=n}}class Nr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Nr}static exists(t){return new Nr(void 0,t)}static updateTime(t){return new Nr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ff(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Zh{}function nk(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new G0(e.key,Nr.none()):new ec(e.key,e.data,Nr.none());{const n=e.data,r=Yn.empty();let i=new $t(Lt.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new xs(e.key,r,new mr(i.toArray()),Nr.none())}}function az(e,t,n){e instanceof ec?function(i,o,s){const a=i.value.clone(),l=Yx(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof xs?function(i,o,s){if(!Ff(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Yx(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(rk(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function nu(e,t,n,r){return e instanceof ec?function(o,s,a,l){if(!Ff(o.precondition,s))return a;const u=o.value.clone(),c=Qx(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof xs?function(o,s,a,l){if(!Ff(o.precondition,s))return a;const u=Qx(o.fieldTransforms,l,s),c=s.data;return c.setAll(rk(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,s,a){return Ff(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function lz(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=JC(r.transform,i||null);o!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,o))}return n||null}function Gx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Sa(r,i,(o,s)=>oz(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ec extends Zh{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xs extends Zh{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rk(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Yx(e,t,n){const r=new Map;Ne(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,iz(s,a,n[i]))}return r}function Qx(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,rz(o,s,t))}return r}class G0 extends Zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uz extends Zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&az(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=nu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=nu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=QC();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=nk(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),_e())}isEqual(t){return this.batchId===t.batchId&&Sa(this.mutations,t.mutations,(n,r)=>Gx(n,r))&&Sa(this.baseMutations,t.baseMutations,(n,r)=>Gx(n,r))}}class Y0{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Ne(t.mutations.length===r.length);let i=function(){return J3}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Y0(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,xe;function hz(e){switch(e){default:return fe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function ik(e){if(e===void 0)return vi("GRPC error has no .code"),H.UNKNOWN;switch(e){case at.OK:return H.OK;case at.CANCELLED:return H.CANCELLED;case at.UNKNOWN:return H.UNKNOWN;case at.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case at.INTERNAL:return H.INTERNAL;case at.UNAVAILABLE:return H.UNAVAILABLE;case at.UNAUTHENTICATED:return H.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case at.NOT_FOUND:return H.NOT_FOUND;case at.ALREADY_EXISTS:return H.ALREADY_EXISTS;case at.PERMISSION_DENIED:return H.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case at.ABORTED:return H.ABORTED;case at.OUT_OF_RANGE:return H.OUT_OF_RANGE;case at.UNIMPLEMENTED:return H.UNIMPLEMENTED;case at.DATA_LOSS:return H.DATA_LOSS;default:return fe()}}(xe=at||(at={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=new Xo([4294967295,4294967295],0);function Xx(e){const t=pz().encode(e),n=new CC;return n.update(t),new Uint8Array(n.digest())}function Jx(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Xo([n,r],0),new Xo([i,o],0)]}class Q0{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(r<0)throw new Vl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Xo.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(Xo.fromNumber(r)));return i.compare(mz)===1&&(i=new Xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=Xx(t),[r,i]=Jx(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new Q0(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Ie===0)return;const n=Xx(t),[r,i]=Jx(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,tc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new ep(de.min(),i,new Ze(Ie),yi(),_e())}}class tc{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new tc(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class ok{constructor(t,n){this.targetId=t,this.me=n}}class sk{constructor(t,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Zx{constructor(){this.fe=0,this.ge=tS(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=_e(),n=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new tc(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=tS()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gz{constructor(t){this.Le=t,this.Be=new Map,this.ke=yi(),this.qe=eS(),this.Qe=new Ze(Ie)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:fe()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const o=i.target;if(Ev(o))if(r===0){const s=new ae(o.path);this.Ue(n,s,Jt.newNoDocument(s,de.min()))}else Ne(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(t),l=a?this.Xe(a,t,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=fs(r).toUint8Array()}catch(l){if(l instanceof VC)return xa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Q0(s,i,o)}catch(l){return xa(l instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Ev(a.target)){const l=new ae(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Jt.newNoDocument(l,t))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=_e();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const i=new ep(t,n,this.Qe,this.ke,r);return this.ke=yi(),this.qe=eS(),this.Qe=new Ze(Ie),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new Zx,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new $t(Ie),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||re("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Zx),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function eS(){return new Ze(ae.comparator)}function tS(){return new Ze(ae.comparator)}const vz={asc:"ASCENDING",desc:"DESCENDING"},yz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wz={and:"AND",or:"OR"};class _z{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Sv(e,t){return e.useProto3Json||qh(t)?t:{value:t}}function kd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ak(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function bz(e,t){return kd(e,t.toTimestamp())}function Rr(e){return Ne(!!e),de.fromTimestamp(function(n){const r=go(n);return new yt(r.seconds,r.nanos)}(e))}function X0(e,t){return Tv(e,t).canonicalString()}function Tv(e,t){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function lk(e){const t=qe.fromString(e);return Ne(hk(t)),t}function Pv(e,t){return X0(e.databaseId,t.path)}function Bm(e,t){const n=lk(t);if(n.get(1)!==e.databaseId.projectId)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ae(ck(n))}function uk(e,t){return X0(e.databaseId,t)}function Ez(e){const t=lk(e);return t.length===4?qe.emptyPath():ck(t)}function Iv(e){return new qe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ck(e){return Ne(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function nS(e,t,n){return{name:Pv(e,t),fields:n.value.mapValue.fields}}function xz(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ne(c===void 0||typeof c=="string"),zt.fromBase64String(c||"")):(Ne(c===void 0||c instanceof Buffer||c instanceof Uint8Array),zt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const c=u.code===void 0?H.UNKNOWN:ik(u.code);return new se(c,u.message||"")}(s);n=new sk(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bm(e,r.document.name),o=Rr(r.document.updateTime),s=r.document.createTime?Rr(r.document.createTime):de.min(),a=new Yn({mapValue:{fields:r.document.fields}}),l=Jt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new $f(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Bm(e,r.document),o=r.readTime?Rr(r.readTime):de.min(),s=Jt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new $f([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Bm(e,r.document),o=r.removedTargetIds||[];n=new $f([],o,i,null)}else{if(!("filter"in t))return fe();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new dz(i,o),a=r.targetId;n=new ok(a,s)}}return n}function Sz(e,t){let n;if(t instanceof ec)n={update:nS(e,t.key,t.value)};else if(t instanceof G0)n={delete:Pv(e,t.key)};else if(t instanceof xs)n={update:nS(e,t.key,t.data),updateMask:Rz(t.fieldMask)};else{if(!(t instanceof uz))return fe();n={verify:Pv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ad)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Au)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cd)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw fe()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:bz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:fe()}(e,t.precondition)),n}function Tz(e,t){return e&&e.length>0?(Ne(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?Rr(i.updateTime):Rr(o);return s.isEqual(de.min())&&(s=Rr(o)),new sz(s,i.transformResults||[])}(n,t))):[]}function Pz(e,t){return{documents:[uk(e,t.path)]}}function Iz(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uk(e,i);const o=function(u){if(u.length!==0)return dk(Vr.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Us(h.field),direction:kz(h.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Sv(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:i}}function Az(e){let t=Ez(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=fk(d);return h instanceof Vr&&zC(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(v){return new Id(zs(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,qh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Pd(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new Pd(p,h)}(n.endAt)),H3(t,i,s,o,a,"F",l,u)}function Cz(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function fk(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zs(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zs(n.unaryFilter.field);return gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zs(n.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(e):e.fieldFilter!==void 0?function(n){return gt.create(zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Vr.create(n.compositeFilter.filters.map(r=>fk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(e):fe()}function kz(e){return vz[e]}function Oz(e){return yz[e]}function Nz(e){return wz[e]}function Us(e){return{fieldPath:e.canonicalString()}}function zs(e){return Lt.fromServerFormat(e.fieldPath)}function dk(e){return e instanceof gt?function(n){if(n.op==="=="){if(zx(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NAN"}};if(Ux(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zx(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NAN"}};if(Ux(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(n.field),op:Oz(n.op),value:n.value}}}(e):e instanceof Vr?function(n){const r=n.getFilters().map(i=>dk(i));return r.length===1?r[0]:{compositeFilter:{op:Nz(n.op),filters:r}}}(e):fe()}function Rz(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function hk(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,n,r,i,o=de.min(),s=de.min(),a=zt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Ji(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(t){this.ct=t}}function jz(e){const t=Az({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?xv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(){this.un=new Lz}addToCollectionParentIndex(t,n){return this.un.add(n),K.resolve()}getCollectionParents(t,n){return K.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return K.resolve()}deleteFieldIndex(t,n){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,n){return K.resolve()}getDocumentsMatchingTarget(t,n){return K.resolve(null)}getIndexType(t,n){return K.resolve(0)}getFieldIndexes(t,n){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,n){return K.resolve(mo.min())}getMinOffsetFromCollectionGroup(t,n){return K.resolve(mo.min())}updateCollectionGroup(t,n,r){return K.resolve()}updateIndexEntries(t,n){return K.resolve()}}class Lz{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new $t(qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new $t(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ia(0)}static kn(){return new Ia(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(){this.changes=new Ka(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Jt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&nu(r.mutation,i,mr.empty(),yt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,_e()).next(()=>r))}getLocalViewOfDocuments(t,n,r=_e()){const i=Wo();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=Ll();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=Wo();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,_e()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=yi();const s=tu(),a=function(){return tu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof xs)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),nu(c.mutation,u,c.mutation.getFieldMask(),yt.now())):s.set(u.key,mr.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new Fz(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=tu();let i=new Ze((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||mr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=QC();c.forEach(h=>{if(!o.has(h)){const p=nk(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return K.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):q3(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):K.resolve(Wo());let a=-1,l=o;return s.next(u=>K.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?K.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,_e())).next(c=>({batchId:a,changes:YC(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ae(n)).next(r=>{let i=Ll();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=Ll();return this.indexManager.getCollectionParents(t,o).next(a=>K.forEach(a,l=>{const u=function(d,h){return new Gh(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Jt.newInvalidDocument(c)))});let a=Ll();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&nu(c.mutation,u,mr.empty(),yt.now()),Xh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return K.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rr(i.createTime)}}(n)),K.resolve()}getNamedQuery(t,n){return K.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:jz(i.bundledQuery),readTime:Rr(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(){this.overlays=new Ze(ae.comparator),this.Ir=new Map}getOverlay(t,n){return K.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Wo();return K.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.ht(t,n,o)}),K.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(t,n,r){const i=Wo(),o=n.length+1,s=new ae(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new Ze((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Wo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Wo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return K.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new fz(n,r));let o=this.Ir.get(n);o===void 0&&(o=_e(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.Tr=new $t(Pt.Er),this.dr=new $t(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new Pt(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new Pt(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new ae(new qe([])),r=new Pt(n,t),i=new Pt(n,t+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new ae(new qe([])),r=new Pt(n,t),i=new Pt(n,t+1);let o=_e();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new Pt(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Pt{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return ae.comparator(t.key,n.key)||Ie(t.wr,n.wr)}static Ar(t,n){return Ie(t.wr,n.wr)||ae.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new $t(Pt.Er)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new cz(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Pt(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return K.resolve(s)}lookupMutationBatch(t,n){return K.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new $t(Ie);return n.forEach(i=>{const o=new Pt(i,0),s=new Pt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;ae.isDocumentKey(o)||(o=o.child(""));const s=new Pt(new ae(o),0);let a=new $t(Ie);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),K.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Ne(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(n.mutations,i=>{const o=new Pt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new Pt(n,0),i=this.br.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(t){this.Mr=t,this.docs=function(){return new Ze(ae.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(t,n){let r=yi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Jt.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=yi();const s=n.path,a=new ae(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||I3(P3(c),r)<=0||(i.has(c.key)||Xh(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(t,n,r,i){fe()}Or(t,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Hz(this)}getSize(t){return K.resolve(this.size)}}class Hz extends Vz{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(t,i)):this.cr.removeEntry(r)}),K.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(t){this.persistence=t,this.Nr=new Ka(n=>K0(n),H0),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new J0,this.targetCount=0,this.kr=Ia.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),K.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new Ia(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,K.resolve()}updateTargetData(t,n){return this.Kn(n),K.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),K.waitFor(o).next(()=>i)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return K.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),K.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),K.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),K.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return K.resolve(r)}containsKey(t,n){return K.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(t,n){this.qr={},this.overlays={},this.Qr=new U0(0),this.Kr=!1,this.Kr=!0,this.$r=new Bz,this.referenceDelegate=t(this),this.Ur=new qz(this),this.indexManager=new Mz,this.remoteDocumentCache=function(i){return new Kz(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Dz(n),this.Gr=new Uz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new zz,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new Wz(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){re("MemoryPersistence","Starting transaction:",t);const i=new Yz(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(t,n){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class Yz extends C3{constructor(t){super(),this.currentSequenceNumber=t}}class Z0{constructor(t){this.persistence=t,this.Jr=new J0,this.Yr=null}static Zr(t){return new Z0(t)}get Xr(){if(this.Yr)return this.Yr;throw fe()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),K.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),K.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{const i=ae.fromPath(r);return this.ei(t,i).next(o=>{o||n.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return K.or([()=>K.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(t,n){let r=_e(),i=_e();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ew(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kV()?8:k3(tn())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.Yi(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Qz;return this.Xi(t,n,s).next(a=>{if(o.result=a,this.zi)return this.es(t,n,s,a.size)})}).next(()=>o.result)}es(t,n,r,i){return r.documentReadCount<this.ji?(Sl()<=Ee.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",$s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(Sl()<=Ee.DEBUG&&re("QueryEngine","Query:",$s(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Sl()<=Ee.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",$s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Or(n))):K.resolve())}Yi(t,n){if(Hx(n))return K.resolve(null);let r=Or(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xv(n,null,"F"),r=Or(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=_e(...o);return this.Ji.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(t,xv(n,null,"F")):this.rs(t,u,n,l)}))})))}Zi(t,n,r,i){return Hx(n)||i.isEqual(de.min())?K.resolve(null):this.Ji.getDocuments(t,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?K.resolve(null):(Sl()<=Ee.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$s(n)),this.rs(t,s,n,T3(i,-1)).next(a=>a))})}ts(t,n){let r=new $t(qC(t));return n.forEach((i,o)=>{Xh(t,o)&&(r=r.add(o))}),r}ns(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(t,n,r){return Sl()<=Ee.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",$s(n)),this.Ji.getDocumentsMatchingQuery(t,n,mo.min(),r)}rs(t,n,r,i){return this.Ji.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(t,n,r,i){this.persistence=t,this.ss=n,this.serializer=i,this.os=new Ze(Ie),this._s=new Ka(o=>K0(o),H0),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $z(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function Zz(e,t,n,r){return new Jz(e,t,n,r)}async function pk(e,t){const n=he(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=_e();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function eB(e,t){const n=he(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=K.resolve();return h.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(_=>{const y=u.docVersions.get(v);Ne(y!==null),_.version.compareTo(y)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function mk(e){const t=he(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function tB(e,t){const n=he(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(zt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(_,y,w){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&a.push(n.Ur.updateTargetData(o,p))});let l=yi(),u=_e();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(nB(o,s,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(de.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return K.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function nB(e,t,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=yi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function rB(e,t){const n=he(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function iB(e,t){const n=he(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,t).next(o=>o?(i=o,K.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Ji(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function Av(e,t,n){const r=he(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Zu(s))throw s;re("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function rS(e,t,n){const r=he(e);let i=de.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=he(l),h=d._s.get(c);return h!==void 0?K.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,s,Or(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,t,n?i:de.min(),n?o:_e())).next(a=>(oB(r,Y3(t),a),{documents:a,Ts:o})))}function oB(e,t,n){let r=e.us.get(t)||de.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.us.set(t,r)}class iS{constructor(){this.activeTargetIds=tz()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sB{constructor(){this.so=new iS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new iS,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf=null;function Wm(){return rf===null?rf=function(){return 268435456+Math.round(2147483648*Math.random())}():rf++,"0x"+rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class cB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Wm(),l=this.xo(n,r.toUriEncodedString());re("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(re("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw xa("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ba}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=lB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,i){const o=Wm();return new Promise((s,a)=>{const l=new kC;l.setWithCredentials(!0),l.listenOnce(OC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Lf.NO_ERROR:const c=l.getResponseJson();re(Gt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),s(c);break;case Lf.TIMEOUT:re(Gt,`RPC '${t}' ${o} timed out`),a(new se(H.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const d=l.getStatus();if(re(Gt,`RPC '${t}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const v=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(w)>=0?w:H.UNKNOWN}(p.status);a(new se(v,p.message))}else a(new se(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se(H.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{re(Gt,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);re(Gt,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(t,n,r){const i=Wm(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=DC(),a=RC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");re(Gt,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,p=!1;const v=new uB({Io:y=>{p?re(Gt,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(h||(re(Gt,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),re(Gt,`RPC '${t}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),_=(y,w,x)=>{y.listen(w,S=>{try{x(S)}catch(R){setTimeout(()=>{throw R},0)}})};return _(d,Ml.EventType.OPEN,()=>{p||(re(Gt,`RPC '${t}' stream ${i} transport opened.`),v.yo())}),_(d,Ml.EventType.CLOSE,()=>{p||(p=!0,re(Gt,`RPC '${t}' stream ${i} transport closed`),v.So())}),_(d,Ml.EventType.ERROR,y=>{p||(p=!0,xa(Gt,`RPC '${t}' stream ${i} transport errored:`,y),v.So(new se(H.UNAVAILABLE,"The operation could not be completed")))}),_(d,Ml.EventType.MESSAGE,y=>{var w;if(!p){const x=y.data[0];Ne(!!x);const S=x,R=S.error||((w=S[0])===null||w===void 0?void 0:w.error);if(R){re(Gt,`RPC '${t}' stream ${i} received error:`,R);const C=R.status;let j=function(P){const k=at[P];if(k!==void 0)return ik(k)}(C),I=R.message;j===void 0&&(j=H.INTERNAL,I="Unknown error status: "+C+" with message "+R.message),p=!0,v.So(new se(j,I)),d.close()}else re(Gt,`RPC '${t}' stream ${i} received:`,x),v.bo(x)}}),_(a,NC.STAT_EVENT,y=>{y.stat===yv.PROXY?re(Gt,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===yv.NOPROXY&&re(Gt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(e){return new _z(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(t,n,r=1e3,i=1.5,o=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(t,n,r,i,o,s,a,l){this.ui=t,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gk(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{t(()=>{const i=new se(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return re("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fB extends vk{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=xz(this.serializer,t),r=function(o){if(!("targetChange"in o))return de.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?Rr(s.readTime):de.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=Iv(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Ev(l)?{documents:Pz(o,l)}:{query:Iz(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ak(o,s.resumeToken);const u=Sv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(de.min())>0){a.readTime=kd(o,s.snapshotVersion.toTimestamp());const u=Sv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=Cz(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=Iv(this.serializer),n.removeTarget=t,this.a_(n)}}class dB extends vk{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Ne(!!t.streamToken),this.lastStreamToken=t.streamToken,Ne(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Ne(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=Tz(t.writeResults,t.commitTime),r=Rr(t.commitTime);return this.listener.g_(r,n)}p_(){const t={};t.database=Iv(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Sz(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(t,Tv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(H.UNKNOWN,o.toString())})}Lo(t,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(t,Tv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(H.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pB{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vi(n),this.D_=!1):re("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Ss(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=he(l);u.L_.add(4),await nc(u),u.q_.set("Unknown"),u.L_.delete(4),await np(u)}(this))})}),this.q_=new pB(r,i)}}async function np(e){if(Ss(e))for(const t of e.B_)await t(!0)}async function nc(e){for(const t of e.B_)await t(!1)}function yk(e,t){const n=he(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),iw(n)?rw(n):Ha(n).r_()&&nw(n,t))}function tw(e,t){const n=he(e),r=Ha(n);n.N_.delete(t),r.r_()&&wk(n,t),n.N_.size===0&&(r.r_()?r.o_():Ss(n)&&n.q_.set("Unknown"))}function nw(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(de.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ha(e).A_(t)}function wk(e,t){e.Q_.xe(t),Ha(e).R_(t)}function rw(e){e.Q_=new gz({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Ha(e).start(),e.q_.v_()}function iw(e){return Ss(e)&&!Ha(e).n_()&&e.N_.size>0}function Ss(e){return he(e).L_.size===0}function _k(e){e.Q_=void 0}async function gB(e){e.q_.set("Online")}async function vB(e){e.N_.forEach((t,n)=>{nw(e,t)})}async function yB(e,t){_k(e),iw(e)?(e.q_.M_(t),rw(e)):e.q_.set("Unknown")}async function wB(e,t,n){if(e.q_.set("Online"),t instanceof sk&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(e,t)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Od(e,r)}else if(t instanceof $f?e.Q_.Ke(t):t instanceof ok?e.Q_.He(t):e.Q_.We(t),!n.isEqual(de.min()))try{const r=await mk(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(zt.EMPTY_BYTE_STRING,c.snapshotVersion)),wk(o,l);const d=new Ji(c.target,l,u,c.sequenceNumber);nw(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Od(e,r)}}async function Od(e,t,n){if(!Zu(t))throw t;e.L_.add(1),await nc(e),e.q_.set("Offline"),n||(n=()=>mk(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await np(e)})}function bk(e,t){return t().catch(n=>Od(e,n,t))}async function rp(e){const t=he(e),n=vo(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;_B(t);)try{const i=await rB(t.localStore,r);if(i===null){t.O_.length===0&&n.o_();break}r=i.batchId,bB(t,i)}catch(i){await Od(t,i)}Ek(t)&&xk(t)}function _B(e){return Ss(e)&&e.O_.length<10}function bB(e,t){e.O_.push(t);const n=vo(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Ek(e){return Ss(e)&&!vo(e).n_()&&e.O_.length>0}function xk(e){vo(e).start()}async function EB(e){vo(e).p_()}async function xB(e){const t=vo(e);for(const n of e.O_)t.m_(n.mutations)}async function SB(e,t,n){const r=e.O_.shift(),i=Y0.from(r,t,n);await bk(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await rp(e)}async function TB(e,t){t&&vo(e).V_&&await async function(r,i){if(function(s){return hz(s)&&s!==H.ABORTED}(i.code)){const o=r.O_.shift();vo(r).s_(),await bk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await rp(r)}}(e,t),Ek(e)&&xk(e)}async function sS(e,t){const n=he(e);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=Ss(n);n.L_.add(3),await nc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await np(n)}async function PB(e,t){const n=he(e);t?(n.L_.delete(2),await np(n)):t||(n.L_.add(2),await nc(n),n.q_.set("Unknown"))}function Ha(e){return e.K_||(e.K_=function(n,r,i){const o=he(n);return o.w_(),new fB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Eo:gB.bind(null,e),Ro:vB.bind(null,e),mo:yB.bind(null,e),d_:wB.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),iw(e)?rw(e):e.q_.set("Unknown")):(await e.K_.stop(),_k(e))})),e.K_}function vo(e){return e.U_||(e.U_=function(n,r,i){const o=he(n);return o.w_(),new dB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:EB.bind(null,e),mo:TB.bind(null,e),f_:xB.bind(null,e),g_:SB.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await rp(e)):(await e.U_.stop(),e.O_.length>0&&(re("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new ow(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(H.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sw(e,t){if(vi("AsyncQueue",`${t}: ${e}`),Zu(e))return new se(H.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Ll(),this.sortedSet=new Ze(this.comparator)}static emptySet(t){return new da(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof da)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new da;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.W_=new Ze(ae.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):fe():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Aa{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Aa(t,n,da.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class AB{constructor(){this.queries=lS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=he(n),o=i.queries;i.queries=lS(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new se(H.ABORTED,"Firestore shutting down"))}}function lS(){return new Ka(e=>HC(e),Qh)}async function Sk(e,t){const n=he(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new IB,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=sw(s,`Initialization of query '${$s(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&aw(n)}async function Tk(e,t){const n=he(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(t);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CB(e,t){const n=he(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&aw(n)}function kB(e,t,n){const r=he(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function aw(e){e.Y_.forEach(t=>{t.next()})}var Cv,uS;(uS=Cv||(Cv={})).ea="default",uS.Cache="cache";class Pk{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Aa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Aa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Cv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t){this.key=t}}class Ak{constructor(t){this.key=t}}class OB{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=qC(t),this.Ra=new da(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new aS,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),p=Xh(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==_&&(r.track({type:3,doc:p}),y=!0):this.ga(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||u)&&(a=!0)),y&&(p?(s=s.add(p),o=_?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((c,d)=>function(p,v){const _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return _(p)-_(v)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Aa(this.query,t.Ra,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new aS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new Ak(r))}),this.da.forEach(r=>{t.has(r)||n.push(new Ik(r))}),n}ba(t){this.Ta=t.Ts,this.da=_e();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Aa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class NB{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class RB{constructor(t){this.key=t,this.va=!1}}class DB{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ka(a=>HC(a),Qh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(ae.comparator),this.Na=new Map,this.La=new J0,this.Ba={},this.ka=new Map,this.qa=Ia.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function jB(e,t,n=!0){const r=Dk(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Ck(r,t,n,!0),i}async function MB(e,t){const n=Dk(e);await Ck(n,t,!0,!1)}async function Ck(e,t,n,r){const i=await iB(e.localStore,Or(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await LB(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&yk(e.remoteStore,i),a}async function LB(e,t,n,r,i){e.Ka=(d,h,p)=>async function(_,y,w,x){let S=y.view.ma(w);S.ns&&(S=await rS(_.localStore,y.query,!1).then(({documents:I})=>y.view.ma(I,S)));const R=x&&x.targetChanges.get(y.targetId),C=x&&x.targetMismatches.get(y.targetId)!=null,j=y.view.applyChanges(S,_.isPrimaryClient,R,C);return fS(_,y.targetId,j.wa),j.snapshot}(e,d,h,p);const o=await rS(e.localStore,t,!0),s=new OB(t,o.Ts),a=s.ma(o.documents),l=tc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);fS(e,n,u.wa);const c=new NB(t,n,s);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function VB(e,t,n){const r=he(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Qh(s,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Av(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&tw(r.remoteStore,i.targetId),kv(r,i.targetId)}).catch(Ju)):(kv(r,i.targetId),await Av(r.localStore,i.targetId,!0))}async function FB(e,t){const n=he(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tw(n.remoteStore,r.targetId))}async function $B(e,t,n){const r=qB(e);try{const i=await function(s,a){const l=he(s),u=yt.now(),c=a.reduce((p,v)=>p.add(v.key),_e());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=yi(),_=_e();return l.cs.getEntries(p,c).next(y=>{v=y,v.forEach((w,x)=>{x.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(y=>{d=y;const w=[];for(const x of a){const S=lz(x,d.get(x.key).overlayedDocument);S!=null&&w.push(new xs(x.key,S,FC(S.value.mapValue),Nr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,a)}).next(y=>{h=y;const w=y.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:h.batchId,changes:YC(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Ze(Ie)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await rc(r,i.changes),await rp(r.remoteStore)}catch(i){const o=sw(i,"Failed to persist write");n.reject(o)}}async function kk(e,t){const n=he(e);try{const r=await tB(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ne(s.va):i.removedDocuments.size>0&&(Ne(s.va),s.va=!1))}),await rc(n,r,t)}catch(r){await Ju(r)}}function cS(e,t,n){const r=he(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=he(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&aw(l)}(r.eventManager,t),i.length&&r.Ca.d_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function UB(e,t,n){const r=he(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let s=new Ze(ae.comparator);s=s.insert(o,Jt.newNoDocument(o,de.min()));const a=_e().add(o),l=new ep(de.min(),new Map,new Ze(Ie),s,a);await kk(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(t),lw(r)}else await Av(r.localStore,t,!1).then(()=>kv(r,t,n)).catch(Ju)}async function zB(e,t){const n=he(e),r=t.batch.batchId;try{const i=await eB(n.localStore,t);Nk(n,r,null),Ok(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rc(n,i)}catch(i){await Ju(i)}}async function BB(e,t,n){const r=he(e);try{const i=await function(s,a){const l=he(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ne(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);Nk(r,t,n),Ok(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await rc(r,i)}catch(i){await Ju(i)}}function Ok(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function Nk(e,t,n){const r=he(e);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function kv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||Rk(e,r)})}function Rk(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(tw(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),lw(e))}function fS(e,t,n){for(const r of n)r instanceof Ik?(e.La.addReference(r.key,t),WB(e,r)):r instanceof Ak?(re("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Rk(e,r.key)):fe()}function WB(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(re("SyncEngine","New document in limbo: "+n),e.xa.add(r),lw(e))}function lw(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new ae(qe.fromString(t)),r=e.qa.next();e.Na.set(r,new RB(n)),e.Oa=e.Oa.insert(n,r),yk(e.remoteStore,new Ji(Or(Yh(n.path)),r,"TargetPurposeLimboResolution",U0.oe))}}async function rc(e,t,n){const r=he(e),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=ew.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=he(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(u,h=>K.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>K.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Zu(d))throw d;re("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.os.get(h),v=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(h,_)}}}(r.localStore,o))}async function KB(e,t){const n=he(e);if(!n.currentUser.isEqual(t)){re("SyncEngine","User change. New user:",t.toKey());const r=await pk(n.localStore,t);n.currentUser=t,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new se(H.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await rc(n,r.hs)}}function HB(e,t){const n=he(e),r=n.Na.get(t);if(r&&r.va)return _e().add(r.key);{let i=_e();const o=n.Ma.get(t);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function Dk(e){const t=he(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HB.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UB.bind(null,t),t.Ca.d_=CB.bind(null,t.eventManager),t.Ca.$a=kB.bind(null,t.eventManager),t}function qB(e){const t=he(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zB.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BB.bind(null,t),t}class Nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=tp(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return Zz(this.persistence,new Xz,t.initialUser,this.serializer)}Ga(t){return new Gz(Z0.Zr,this.serializer)}Wa(t){return new sB}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nd.provider={build:()=>new Nd};class Ov{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KB.bind(null,this.syncEngine),await PB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new AB}()}createDatastore(t){const n=tp(t.databaseInfo.databaseId),r=function(o){return new cB(o)}(t.databaseInfo);return function(o,s,a,l){return new hB(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new mB(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>cS(this.syncEngine,n,0),function(){return oS.D()?new oS:new aB}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,c){const d=new DB(i,o,s,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=he(i);re("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await nc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ov.provider={build:()=>new Ov};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):vi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=MC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=sw(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Hm(e,t){e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pk(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function dS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await YB(e);re("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>sS(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>sS(t.remoteStore,i)),e._onlineComponents=t}async function YB(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await Hm(e,new Nd)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Hm(e,new Nd);return e._offlineComponents}async function Mk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await dS(e,e._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await dS(e,new Ov))),e._onlineComponents}function QB(e){return Mk(e).then(t=>t.syncEngine)}async function Nv(e){const t=await Mk(e),n=t.eventManager;return n.onListen=jB.bind(null,t.syncEngine),n.onUnlisten=VB.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=MB.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=FB.bind(null,t.syncEngine),n}function XB(e,t,n={}){const r=new uo;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new jk({next:h=>{c.Za(),s.enqueueAndForget(()=>Tk(o,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new se(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new se(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Pk(Yh(a.path),c,{includeMetadataChanges:!0,_a:!0});return Sk(o,d)}(await Nv(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(e,t,n){if(!n)throw new se(H.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function JB(e,t,n,r){if(t===!0&&r===!0)throw new se(H.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function pS(e){if(!ae.isDocumentKey(e))throw new se(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function mS(e){if(ae.isDocumentKey(e))throw new se(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function uw(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":fe()}function li(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new se(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uw(e);throw new se(H.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new se(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new se(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lk((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ip{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new se(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gS(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new g3;switch(r.type){case"firstParty":return new _3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hS.get(n);r&&(re("ComponentProvider","Removing Datastore"),hS.delete(n),r.terminate())}(this),Promise.resolve()}}function ZB(e,t,n,r={}){var i;const o=(e=li(e,ip))._getSettings(),s=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Qt.MOCK_USER;else{a=SV(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new se(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Qt(u)}e._authCredentials=new v3(new jC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new op(this.firestore,t,this._query)}}class Pn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pn(this.firestore,t,this._key)}}class co extends op{constructor(t,n,r){super(t,n,Yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pn(this.firestore,null,new ae(t))}withConverter(t){return new co(this.firestore,t,this._path)}}function of(e,t,...n){if(e=nn(e),Vk("collection","path",t),e instanceof ip){const r=qe.fromString(t,...n);return mS(r),new co(e,null,r)}{if(!(e instanceof Pn||e instanceof co))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(qe.fromString(t,...n));return mS(r),new co(e.firestore,null,r)}}function gn(e,t,...n){if(e=nn(e),arguments.length===1&&(t=MC.newId()),Vk("doc","path",t),e instanceof ip){const r=qe.fromString(t,...n);return pS(r),new Pn(e,null,new ae(r))}{if(!(e instanceof Pn||e instanceof co))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(qe.fromString(t,...n));return pS(r),new Pn(e.firestore,e instanceof co?e.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new gk(this,"async_queue_retry"),this.Vu=()=>{const r=Km();r&&re("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new uo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Zu(t))throw t;re("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw vi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(t,n,r){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const i=ow.createAndSchedule(this,t,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&fe()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function yS(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(e,["next","error","complete"])}class Ca extends ip{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new vS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new vS(t),this._firestoreClient=void 0,await t}}}function e6(e,t){const n=typeof e=="object"?e:x0(),r=typeof e=="string"?e:"(default)",i=Es(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=EV("firestore");o&&ZB(i,...o)}return i}function cw(e){if(e._terminated)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||t6(e),e._firestoreClient}function t6(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,c){return new R3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Lk(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new GB(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ka(zt.fromBase64String(t))}catch(n){throw new se(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ka(zt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new se(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new se(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new se(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ie(this._lat,t._lat)||Ie(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=/^__.*__$/;class r6{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new xs(t,this.data,this.fieldMask,n,this.fieldTransforms):new ec(t,this.data,n,this.fieldTransforms)}}function $k(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class pw{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new pw(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.Ou(t),i}Nu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Rd(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if($k(this.Cu)&&n6.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class i6{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||tp(t)}Qu(t,n,r,i=!1){return new pw({Cu:t,methodName:n,qu:r,path:Lt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o6(e){const t=e._freezeSettings(),n=tp(e._databaseId);return new i6(e._databaseId,!!t.ignoreUndefinedProperties,n)}function s6(e,t,n,r,i,o={}){const s=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);Wk("Data must be an object, but it was:",s,r);const a=zk(r,s);let l,u;if(o.merge)l=new mr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=a6(t,d,n);if(!s.contains(h))throw new se(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);u6(c,h)||c.push(h)}l=new mr(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new r6(new Yn(a),l,u)}function Uk(e,t){if(Bk(e=nn(e)))return Wk("Unsupported field value:",t,e),zk(e,t);if(e instanceof Fk)return function(r,i){if(!$k(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Uk(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=yt.fromDate(r);return{timestampValue:kd(i.serializer,o)}}if(r instanceof yt){const o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kd(i.serializer,o)}}if(r instanceof dw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ka)return{bytesValue:ak(i.serializer,r._byteString)};if(r instanceof Pn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:X0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hw)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return q0(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${uw(r)}`)}(e,t)}function zk(e,t){const n={};return LC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wa(e,(r,i)=>{const o=Uk(i,t.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Bk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof yt||e instanceof dw||e instanceof ka||e instanceof Pn||e instanceof Fk||e instanceof hw)}function Wk(e,t,n){if(!Bk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=uw(n);throw r==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function a6(e,t,n){if((t=nn(t))instanceof fw)return t._internalPath;if(typeof t=="string")return Kk(e,t);throw Rd("Field path arguments must be of type string or ",e,!1,void 0,n)}const l6=new RegExp("[~\\*/\\[\\]]");function Kk(e,t,n){if(t.search(l6)>=0)throw Rd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new fw(...t.split("."))._internalPath}catch{throw Rd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Rd(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new se(H.INVALID_ARGUMENT,a+e+l)}function u6(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new c6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(qk("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c6 extends Hk{data(){return super.data()}}function qk(e,t){return typeof t=="string"?Kk(e,t):t instanceof fw?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new se(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d6{convertValue(t,n="none"){switch(ds(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ot(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw fe()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Wa(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var n,r,i;const o=(i=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ot(s.doubleValue));return new hw(o)}convertGeoPoint(t){return new dw(ot(t.latitude),ot(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=B0(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tu(t));default:return null}}convertTimestamp(t){const n=go(t);return new yt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=qe.fromString(t);Ne(hk(r));const i=new Pu(r.get(1),r.get(3)),o=new ae(r.popFirst(5));return i.isEqual(n)||vi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gk extends Hk{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(qk("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uf extends Gk{data(t={}){return super.data(t)}}class p6{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Uf(this._firestore,this._userDataWriter,r.key,r,new Fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Uf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Uf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:m6(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function m6(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(e){e=li(e,Pn);const t=li(e.firestore,Ca);return XB(cw(t),e._key).then(n=>Jk(t,e,n))}class Qk extends d6{constructor(t){super(),this.firestore=t}convertBytes(t){return new ka(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function qr(e,t,n){e=li(e,Pn);const r=li(e.firestore,Ca),i=h6(e.converter,t,n);return Xk(r,[s6(o6(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Nr.none())])}function zf(e){return Xk(li(e.firestore,Ca),[new G0(e._key,Nr.none())])}function sf(e,...t){var n,r,i;e=nn(e);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||yS(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(yS(t[s])){const d=t[s];t[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof Pn)u=li(e.firestore,Ca),c=Yh(e._key.path),l={next:d=>{t[s]&&t[s](Jk(u,e,d))},error:t[s+1],complete:t[s+2]};else{const d=li(e,op);u=li(d.firestore,Ca),c=d._query;const h=new Qk(u);l={next:p=>{t[s]&&t[s](new p6(u,h,d,p))},error:t[s+1],complete:t[s+2]},f6(e._query)}return function(h,p,v,_){const y=new jk(_),w=new Pk(p,y,v);return h.asyncQueue.enqueueAndForget(async()=>Sk(await Nv(h),w)),()=>{y.Za(),h.asyncQueue.enqueueAndForget(async()=>Tk(await Nv(h),w))}}(cw(u),c,a,l)}function Xk(e,t){return function(r,i){const o=new uo;return r.asyncQueue.enqueueAndForget(async()=>$B(await QB(r),i,o)),o.promise}(cw(e),t)}function Jk(e,t,n){const r=n.docs.get(t._key),i=new Qk(e);return new Gk(e,i,t._key,r,new Fl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){Ba=i})(Ua),jr(new _r("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ca(new y3(r.getProvider("auth-internal")),new E3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new se(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pu(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),er(Mx,"4.7.3",t),er(Mx,"4.7.3","esm2017")})();const g6={apiKey:"AIzaSyAnBy_07yoc3aTWyfVQmGYZtG6Wu9GXS9E",authDomain:"army-life-web.firebaseapp.com",projectId:"army-life-web",storageBucket:"army-life-web.firebasestorage.app",messagingSenderId:"565006567003",appId:"1:565006567003:web:28e5f359a05bb5bde9617e",measurementId:"G-5NVZZB87MB"},mw=IA(g6);typeof window<"u"&&h3().then(e=>{e&&navigator.onLine&&f3(mw)}).catch(()=>{});const Qr=e6(mw),qm=H$(mw),Zk=new Yr;Zk.setCustomParameters({prompt:"select_account"});const eO=b.createContext();function v6(){return b.useContext(eO)}function y6({children:e}){const[t,n]=b.useState(null),[r,i]=b.useState(!0),o=async()=>{try{return(await t$(qm,Zk)).user}catch(l){let u="";throw l.code==="auth/popup-blocked"?u="":l.code==="auth/popup-closed-by-user"?u="":l.code==="auth/unauthorized-domain"?u="":l.code==="auth/web-storage-unsupported"?u=" Storage":l.message&&l.message.includes("sessionStorage")&&(u=" Cookies"),l.userMessage=u,l}},s=async()=>{try{await j4(qm),n(null),window.location.reload()}catch(l){throw l}};b.useEffect(()=>D4(qm,u=>{n(u||null),i(!1)}),[]);const a={currentUser:t,signInWithGoogle:o,signOut:s,loading:r};return g.jsx(eO.Provider,{value:a,children:!r&&e})}function w6(e){const[t,n]=b.useState([]),[r,i]=b.useState([]),[o,s]=b.useState([]),[a,l]=b.useState([]),[u,c]=b.useState(""),[d,h]=b.useState(365),[p,v]=b.useState(!0);b.useEffect(()=>{n([]),i([]),s([]),l([]),c(""),h(365),v(!0)},[e]);const _=e?gn(Qr,"users",e):null,y=e?of(Qr,"users",e,"diaries"):null,w=e?of(Qr,"users",e,"timeline"):null,x=e?of(Qr,"users",e,"moods"):null,S=e?of(Qr,"users",e,"notes"):null;return b.useEffect(()=>{if(!e){v(!1);return}(async()=>{try{const B=await Yk(_);if(B.exists()){const J=B.data();c(J.enlistDate||""),h(J.serviceDuration||365)}else c(""),h(365)}catch(B){console.error(":",B),c(""),h(365)}})()},[e]),b.useEffect(()=>{if(!e){v(!1);return}const $=sf(y,B=>{const J=[];B.forEach(Y=>{J.push({id:Y.id,...Y.data()})}),J.sort((Y,U)=>new Date(U.date)-new Date(Y.date)),n(J),v(!1)},B=>{console.error(":",B),v(!1)});return()=>$()},[e]),b.useEffect(()=>{if(!e)return;const $=sf(w,B=>{const J=[];B.forEach(Y=>{J.push({id:Y.id,...Y.data()})}),J.sort((Y,U)=>new Date(Y.date)-new Date(U.date)),i(J)},B=>{console.error(":",B)});return()=>$()},[e]),b.useEffect(()=>{if(!e)return;const $=sf(x,B=>{const J=[];B.forEach(Y=>{J.push({id:Y.id,...Y.data()})}),J.sort((Y,U)=>new Date(U.date)-new Date(Y.date)),s(J)},B=>{console.error(":",B)});return()=>$()},[e]),b.useEffect(()=>{if(!e)return;const $=sf(S,B=>{const J=[];B.forEach(Y=>{J.push({id:Y.id,...Y.data()})}),J.sort((Y,U)=>{if(Y.completed!==U.completed)return Y.completed?1:-1;const W={high:0,medium:1,low:2},Z=W[Y.priority||"medium"]-W[U.priority||"medium"];return Z!==0?Z:new Date(U.createdAt)-new Date(Y.createdAt)}),l(J)},B=>{console.error(":",B)});return()=>$()},[e]),{diaries:t,timelineEvents:r,moods:o,notes:a,enlistDate:u,serviceDuration:d,loading:p,addDiary:async $=>{if(e)try{await qr(gn(y,String($.id)),$)}catch(B){throw console.error(":",B),B}},updateDiary:async($,B)=>{if(e)try{await qr(gn(y,String($)),B,{merge:!0})}catch(J){throw console.error(":",J),J}},deleteDiary:async $=>{if(e)try{await zf(gn(y,String($)))}catch(B){throw console.error(":",B),B}},addTimelineEvent:async $=>{if(e)try{await qr(gn(w,String($.id)),$)}catch(B){throw console.error(":",B),B}},deleteTimelineEvent:async $=>{if(e)try{await zf(gn(w,String($)))}catch(B){throw console.error(":",B),B}},addMood:async $=>{if(e)try{await qr(gn(x,String($.id)),$)}catch(B){throw console.error(":",B),B}},updateEnlistDate:async($,B=365)=>{if(e)try{await qr(_,{enlistDate:$,serviceDuration:B},{merge:!0}),c($),h(B)}catch(J){throw console.error(":",J),J}},addNote:async $=>{if(e)try{await qr(gn(S,String($.id)),$)}catch(B){throw console.error(":",B),B}},updateNote:async($,B)=>{if(e)try{await qr(gn(S,String($)),B,{merge:!0})}catch(J){throw console.error(":",J),J}},deleteNote:async $=>{if(e)try{await zf(gn(S,String($)))}catch(B){throw console.error(":",B),B}}}}function _6({onGoogleLogin:e}){return g.jsx("div",{className:"login-container",children:g.jsxs("div",{className:"login-card",children:[g.jsxs("div",{className:"login-header",children:[g.jsx("h1",{children:""}),g.jsx("p",{children:""})]}),g.jsxs("div",{className:"login-content",children:[g.jsxs("div",{className:"welcome-text",children:[g.jsx("h2",{children:""}),g.jsx("p",{children:" Google "})]}),g.jsxs("button",{className:"google-login-btn",onClick:e,children:[g.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",width:"24",height:"24",children:[g.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),g.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),g.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),g.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})," Google "]}),g.jsxs("div",{className:"login-features",children:[g.jsxs("div",{className:"feature-item",children:[g.jsx("span",{className:"feature-icon",children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx("span",{className:"feature-icon",children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx("span",{className:"feature-icon",children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx("span",{className:"feature-icon",children:""}),g.jsx("span",{children:""})]})]})]}),g.jsx("div",{className:"login-footer",children:g.jsx("p",{children:""})})]})})}function b6({enlistDate:e,serviceDuration:t=365,setEnlistDate:n,onClose:r}){const i=s=>{s.preventDefault();const a=s.target.enlistDate.value,l=parseInt(s.target.serviceDuration.value);a&&n(a,l)},o=()=>{r&&r()};return g.jsx("div",{className:"settings-modal-overlay",onClick:o,children:g.jsx("div",{className:"settings-modal",onClick:s=>s.stopPropagation(),children:g.jsxs("form",{onSubmit:i,className:"settings-form",children:[g.jsx("h2",{children:" "}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"enlistDate",children:""}),g.jsx("input",{type:"date",id:"enlistDate",name:"enlistDate",defaultValue:e,required:!0,onClick:s=>s.target.showPicker&&s.target.showPicker()})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:""}),g.jsxs("select",{name:"serviceDuration",defaultValue:t,children:[g.jsx("option",{value:"120",children:" (4 - 120)"}),g.jsx("option",{value:"365",children:" (365)"}),g.jsx("option",{value:"730",children:" (730)"}),g.jsx("option",{value:"1095",children:" (1095)"}),g.jsx("option",{value:"1460",children:" (1460)"})]})]}),g.jsxs("div",{className:"form-buttons",children:[g.jsx("button",{type:"submit",className:"submit-btn",children:""}),e&&r&&g.jsx("button",{type:"button",onClick:r,className:"cancel-btn",children:""})]})]})})})}function E6({enlistDate:e,serviceDuration:t=365,diaries:n,onOpenSettings:r,onDateSelect:i}){const[o,s]=b.useState(new Date),[a,l]=b.useState(new Date),u=P=>{P&&(l(P),i&&i(P))},c=P=>new Date(P.getFullYear(),P.getMonth()+1,0).getDate(),d=P=>new Date(P.getFullYear(),P.getMonth(),1).getDay(),h=()=>{const P=o.getFullYear(),k=o.getMonth(),N=[],D=c(o),O=d(o);for(let $=0;$<O;$++)N.push(null);for(let $=1;$<=D;$++)N.push(new Date(P,k,$));return N},p=P=>{if(!P)return!1;const k=new Date;return P.getDate()===k.getDate()&&P.getMonth()===k.getMonth()&&P.getFullYear()===k.getFullYear()},v=P=>{if(!P||!e)return!1;const k=new Date(e);return P.getDate()===k.getDate()&&P.getMonth()===k.getMonth()&&P.getFullYear()===k.getFullYear()},_=P=>P?P.getDate()===a.getDate()&&P.getMonth()===a.getMonth()&&P.getFullYear()===a.getFullYear():!1,y=P=>{if(!P||!e)return null;const k=new Date(e);k.setHours(0,0,0,0);const N=new Date(P);N.setHours(0,0,0,0);const D=N-k,O=Math.floor(D/(1e3*60*60*24));return O>=0?O:null},w=()=>{if(!e)return null;const P=y(new Date);if(P===null)return null;const k=t-(P+1);return k>0?k:0},x=P=>{if(!P||!n)return!1;const k=P.getFullYear(),N=P.getMonth(),D=P.getDate();return n.some(O=>{const $=new Date(O.date);return $.getFullYear()===k&&$.getMonth()===N&&$.getDate()===D})},S=P=>{if(!P||!n)return null;const k=P.getFullYear(),N=P.getMonth(),D=P.getDate(),O=n.find($=>{const B=new Date($.date);return B.getFullYear()===k&&B.getMonth()===N&&B.getDate()===D});return O?O.mood:null},R=()=>{s(new Date(o.getFullYear(),o.getMonth()-1))},C=()=>{s(new Date(o.getFullYear(),o.getMonth()+1))},j=()=>{const P=new Date;s(P),l(P)},I=["","","","","","","","","","","",""],T=["","","","","","",""];return g.jsxs("div",{className:"container calendar-container",children:[g.jsxs("div",{className:"calendar-header-controls",children:[g.jsx("button",{onClick:R,className:"nav-btn",children:""}),g.jsxs("div",{className:"calendar-title",children:[g.jsxs("h2",{children:[o.getFullYear()," ",I[o.getMonth()]]}),g.jsx("button",{onClick:j,className:"today-btn",children:" "})]}),g.jsx("button",{onClick:C,className:"nav-btn",children:""})]}),e?g.jsxs("div",{className:"calendar-info",children:[g.jsxs("div",{className:"info-items",children:[g.jsxs("div",{className:"info-item",children:[g.jsx("span",{className:"info-icon",children:""}),g.jsxs("span",{children:[": ",new Date(e).toLocaleDateString("zh-TW")]})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("span",{className:"info-icon",children:""}),g.jsxs("span",{children:[": ",y(new Date)!==null?y(new Date)+1:0," "]})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("span",{className:"info-icon",children:""}),g.jsxs("span",{children:[": ",w()," "]})]})]}),g.jsx("button",{onClick:r,className:"settings-btn",children:" "})]}):g.jsxs("div",{className:"calendar-info no-enlist",children:[g.jsx("p",{children:""}),g.jsx("button",{onClick:r,className:"settings-btn-large",children:" "})]}),g.jsxs("div",{className:"calendar-grid",children:[T.map(P=>g.jsx("div",{className:"calendar-day-name",children:P},P)),h().map((P,k)=>{const N=P?y(P):null,D=P?S(P):null;return g.jsx("div",{className:`calendar-day ${P?"":"empty"}
                         ${p(P)?"today":""}
                         ${v(P)?"enlist-day":""}
                         ${_(P)?"selected":""}
                         ${N!==null?"service-day":""}
                         ${x(P)?"has-diary":""}
                         ${D?`mood-${D}`:""}`,onClick:()=>u(P),children:P&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"day-number",children:P.getDate()}),p(P)&&g.jsx("div",{className:"day-badge today-badge",children:""}),v(P)&&g.jsx("div",{className:"day-badge enlist-badge",children:""}),N!==null&&N>0&&g.jsxs("div",{className:"day-count",children:["D+",N]})]})},k)})]}),a&&g.jsxs("div",{className:"selected-date-info",children:[g.jsx("h3",{children:""}),g.jsx("p",{className:"selected-date-text",children:a.toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}),y(a)!==null&&g.jsxs("p",{className:"service-info",children:[" ",y(a)+1," "]})]})]})}const x6=[{emoji:"",label:"",value:"happy"},{emoji:"",label:"",value:"irritated"},{emoji:"",label:"",value:"crying"},{emoji:"",label:"",value:"neutral"},{emoji:"",label:"",value:"angry"},{emoji:"",label:"",value:"tired"}];function S6({addDiary:e,selectedDate:t}){const[n,r]=b.useState(""),[i,o]=b.useState(""),[s,a]=b.useState(""),[l,u]=b.useState([]),[c,d]=b.useState(""),h=w=>{if(w.preventDefault(),!s){alert("");return}if(!n.trim()||!i.trim())return;const x=t||new Date,S={id:Date.now(),title:n.trim(),content:i.trim(),mood:s,tags:l,date:x.toISOString()};e(S),r(""),o(""),a(""),u([]),d("")},p=()=>{const w=c.trim();w&&!l.includes(w)&&(u([...l,w]),d(""))},v=w=>{u(l.filter(x=>x!==w))},_=w=>{w.key==="Enter"&&(w.preventDefault(),p())},y=()=>t?new Date(t).toLocaleDateString("zh-TW",{month:"long",day:"numeric",weekday:"long"}):"";return g.jsxs("div",{className:"container diary-form",children:[g.jsxs("h2",{children:[" - ",y()]}),g.jsxs("form",{onSubmit:h,children:[g.jsxs("div",{className:"mood-selector",children:[g.jsxs("label",{children:["",g.jsx("span",{className:"required-mark",children:"*"})]}),g.jsx("div",{className:"mood-options",children:x6.map(w=>g.jsxs("button",{type:"button",className:`mood-btn ${s===w.value?"selected":""}`,onClick:()=>a(w.value),title:w.label,children:[g.jsx("span",{className:"mood-emoji",children:w.emoji}),g.jsx("span",{className:"mood-label",children:w.label})]},w.value))})]}),g.jsx("input",{type:"text",placeholder:"",value:n,onChange:w=>r(w.target.value),required:!0}),g.jsx("textarea",{placeholder:"...",value:i,onChange:w=>o(w.target.value),required:!0}),g.jsxs("div",{className:"tag-input-section",children:[g.jsx("label",{children:""}),g.jsxs("div",{className:"tag-input-container",children:[g.jsx("input",{type:"text",value:c,onChange:w=>d(w.target.value),onKeyPress:_,placeholder:" Enter"}),g.jsx("button",{type:"button",onClick:p,className:"add-tag-btn",children:"+ "})]}),l.length>0&&g.jsx("div",{className:"tags-display",children:l.map((w,x)=>g.jsxs("span",{className:"tag-item",children:[w,g.jsx("button",{type:"button",onClick:()=>v(w),className:"remove-tag-btn",children:""})]},x))})]}),g.jsx("div",{className:"form-buttons",children:g.jsx("button",{type:"submit",children:""})})]})]})}const T6=[{emoji:"",label:"",value:"happy"},{emoji:"",label:"",value:"sad"},{emoji:"",label:"",value:"irritated"},{emoji:"",label:"",value:"crying"},{emoji:"",label:"",value:"neutral"},{emoji:"",label:"",value:"angry"},{emoji:"",label:"",value:"tired"}];function P6({diaries:e,deleteDiary:t,onEditDiary:n}){const[r,i]=b.useState(null),[o,s]=b.useState(null),a=d=>new Date(d).toLocaleString("zh-TW",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),l=d=>{var h;return((h=T6.find(p=>p.value===d))==null?void 0:h.emoji)||""},u=d=>{t(d),s(null),i(null)},c=d=>{r===d?(i(null),s(null)):(i(d),s(null))};return g.jsxs("div",{className:"container diary-list",children:[g.jsx("h2",{children:""}),e.length===0?g.jsx("p",{className:"empty-message",children:""}):g.jsx("div",{className:"diaries",children:e.map(d=>g.jsxs("div",{className:`diary-item ${r===d.id?"expanded":"collapsed"}`,children:[g.jsxs("div",{className:"diary-header",onClick:()=>c(d.id),children:[g.jsxs("div",{className:"diary-title-row",children:[d.mood&&g.jsx("span",{className:"diary-mood",children:l(d.mood)}),g.jsx("h3",{children:d.title})]}),g.jsx("span",{className:"diary-date-inline",children:a(d.date)}),g.jsx("button",{type:"button",className:"expand-toggle",onClick:h=>{h.stopPropagation(),c(d.id)},children:r===d.id?"":""})]}),r===d.id&&g.jsxs(g.Fragment,{children:[d.tags&&d.tags.length>0&&g.jsx("div",{className:"diary-tags",children:d.tags.map((h,p)=>g.jsxs("span",{className:"diary-tag",children:[" ",h]},p))}),g.jsx("p",{className:"diary-content",children:d.content}),g.jsx("div",{className:"diary-actions",children:o===d.id?g.jsxs("div",{className:"delete-confirm",children:[g.jsx("p",{children:""}),g.jsxs("div",{className:"confirm-buttons",children:[g.jsx("button",{onClick:()=>u(d.id),className:"confirm-delete-btn",children:""}),g.jsx("button",{onClick:()=>s(null),className:"cancel-delete-btn",children:""})]})]}):g.jsxs("div",{className:"action-buttons",children:[g.jsx("button",{onClick:()=>n(d),className:"edit-btn",children:" "}),g.jsx("button",{onClick:()=>s(d.id),className:"delete-btn",children:" "})]})})]})]},d.id))})]})}const I6=[{emoji:"",label:"",value:"happy"},{emoji:"",label:"",value:"irritated"},{emoji:"",label:"",value:"crying"},{emoji:"",label:"",value:"neutral"},{emoji:"",label:"",value:"angry"},{emoji:"",label:"",value:"tired"}];function A6({selectedDate:e,onClose:t,addDiary:n,updateDiary:r,existingDiary:i}){const[o,s]=b.useState(""),[a,l]=b.useState(""),[u,c]=b.useState(""),[d,h]=b.useState([]),[p,v]=b.useState("");b.useEffect(()=>{i&&(s(i.title),l(i.content),c(i.mood),h(i.tags||[]))},[i]);const _=()=>e?new Date(e).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",weekday:"long"}):"",y=()=>{const C=p.trim();C&&!d.includes(C)&&(h([...d,C]),v(""))},w=C=>{h(d.filter(j=>j!==C))},x=C=>{C.key==="Enter"&&(C.preventDefault(),y())},S=async C=>{if(C.preventDefault(),!u){alert("");return}if(!o.trim()||!a.trim())return;const j={id:(i==null?void 0:i.id)||Date.now(),title:o.trim(),content:a.trim(),mood:u,tags:d,date:e.toISOString()};try{i&&r?await r(i.id,j):await n(j),t()}catch{alert("")}},R=()=>{t()};return g.jsx("div",{className:"quick-modal-overlay",onClick:R,children:g.jsxs("div",{className:"quick-modal",onClick:C=>C.stopPropagation(),children:[g.jsxs("div",{className:"quick-modal-header",children:[g.jsx("h2",{children:i?"":""}),g.jsx("p",{className:"quick-modal-date",children:_()}),g.jsx("button",{onClick:t,className:"close-modal-btn",children:""})]}),g.jsxs("form",{onSubmit:S,className:"quick-diary-form",children:[g.jsxs("div",{className:"mood-selector",children:[g.jsxs("label",{children:["",g.jsx("span",{className:"required-mark",children:"*"})]}),g.jsx("div",{className:"mood-options",children:I6.map(C=>g.jsxs("button",{type:"button",className:`mood-btn ${u===C.value?"selected":""}`,onClick:()=>c(C.value),title:C.label,children:[g.jsx("span",{className:"mood-emoji",children:C.emoji}),g.jsx("span",{className:"mood-label",children:C.label})]},C.value))})]}),g.jsx("input",{type:"text",placeholder:"",value:o,onChange:C=>s(C.target.value),required:!0,autoFocus:!0}),g.jsx("textarea",{placeholder:"...",value:a,onChange:C=>l(C.target.value),required:!0,rows:"8"}),g.jsxs("div",{className:"tag-input-section",children:[g.jsx("label",{children:""}),g.jsxs("div",{className:"tag-input-container",children:[g.jsx("input",{type:"text",value:p,onChange:C=>v(C.target.value),onKeyPress:x,placeholder:" Enter"}),g.jsx("button",{type:"button",onClick:y,className:"add-tag-btn",children:"+ "})]}),d.length>0&&g.jsx("div",{className:"tags-display",children:d.map((C,j)=>g.jsxs("span",{className:"tag-item",children:[C,g.jsx("button",{type:"button",onClick:()=>w(C),className:"remove-tag-btn",children:""})]},j))})]}),g.jsxs("div",{className:"quick-modal-buttons",children:[g.jsx("button",{type:"submit",className:"submit-btn",children:i?"":""}),g.jsx("button",{type:"button",onClick:t,className:"cancel-btn",children:""})]})]})]})})}function C6({diaries:e,enlistDate:t}){const n=()=>{if(!t)return null;const u=new Date(t);u.setHours(0,0,0,0);const c=new Date;c.setHours(0,0,0,0);const d=c-u,h=Math.floor(d/(1e3*60*60*24));return h>=0?h+1:0},r={happy:"",sad:"",irritated:"",crying:"",neutral:"",angry:"",tired:""},i={happy:"",sad:"",irritated:"",crying:"",neutral:"",angry:"",tired:""},o={};e.forEach(u=>{u.mood&&(o[u.mood]=(o[u.mood]||0)+1)});const s=Object.keys(o).reduce((u,c)=>o[u]>o[c]?u:c,Object.keys(o)[0]),a=e.length,l=u=>a===0?0:((o[u]||0)/a*100).toFixed(1);return g.jsxs("div",{className:"mood-stats-container",children:[g.jsx("h3",{className:"stats-title",children:""}),g.jsxs("div",{className:"stats-summary",children:[t&&n()!==null&&g.jsxs("div",{className:"summary-item",children:[g.jsx("span",{className:"summary-label",children:""}),g.jsxs("span",{className:"summary-value",children:[n()," "]})]}),g.jsxs("div",{className:"summary-item",children:[g.jsx("span",{className:"summary-label",children:""}),g.jsx("span",{className:"summary-value",children:a})]}),s&&g.jsxs("div",{className:"summary-item",children:[g.jsx("span",{className:"summary-label",children:""}),g.jsxs("span",{className:"summary-value",children:[r[s]," ",i[s]]})]})]}),g.jsx("div",{className:"mood-breakdown",children:Object.keys(r).map(u=>{const c=o[u]||0,d=l(u);return c===0?null:g.jsxs("div",{className:"mood-item",children:[g.jsxs("div",{className:"mood-header",children:[g.jsx("span",{className:"mood-emoji",children:r[u]}),g.jsx("span",{className:"mood-name",children:i[u]}),g.jsxs("span",{className:"mood-count",children:[c," "]})]}),g.jsx("div",{className:"mood-bar-container",children:g.jsx("div",{className:"mood-bar",style:{width:`${d}%`},"data-mood":u})}),g.jsxs("div",{className:"mood-percentage",children:[d,"%"]})]},u)})}),a===0&&g.jsxs("div",{className:"no-data",children:[g.jsx("p",{children:""}),g.jsx("p",{className:"no-data-hint",children:""})]})]})}function k6({activeTab:e,onTabChange:t}){const n=[{id:"home",label:"",icon:""},{id:"page2",label:"",icon:""},{id:"page3",label:"",icon:""},{id:"page4",label:"",icon:""}];return g.jsx("div",{className:"tab-navigation",children:n.map(r=>g.jsxs("button",{className:`tab-btn ${e===r.id?"active":""}`,onClick:()=>t(r.id),children:[g.jsx("span",{className:"tab-icon",children:r.icon}),g.jsx("span",{className:"tab-label",children:r.label})]},r.id))})}function O6({diaries:e,enlistDate:t}){var _;const[n,r]=b.useState(""),[i,o]=b.useState("all"),[s,a]=b.useState("all"),l=e.filter(y=>{var R,C;const w=((R=y.content)==null?void 0:R.toLowerCase().includes(n.toLowerCase()))||((C=y.title)==null?void 0:C.toLowerCase().includes(n.toLowerCase())),x=i==="all"||y.mood===i;let S=!0;if(s!=="all"){const j=new Date(y.date),T=Math.floor((new Date-j)/(1e3*60*60*24));s==="week"?S=T<=7:s==="month"?S=T<=30:s==="3months"&&(S=T<=90)}return w&&x&&S}),u=y=>{const w=new Date;return e.filter(x=>{const S=new Date(x.date);return Math.floor((w-S)/(1e3*60*60*24))<=y})},c=u(7),d=u(30),h={total:e.length,filtered:l.length,weekCount:c.length,monthCount:d.length,weekAvg:(c.length/7).toFixed(1),monthAvg:(d.length/30).toFixed(1),moodCounts:{happy:e.filter(y=>y.mood==="happy").length,sad:e.filter(y=>y.mood==="sad").length,irritated:e.filter(y=>y.mood==="irritated").length,crying:e.filter(y=>y.mood==="crying").length,neutral:e.filter(y=>y.mood==="neutral").length,angry:e.filter(y=>y.mood==="angry").length,tired:e.filter(y=>y.mood==="tired").length}},p={happy:"",sad:"",irritated:"",crying:"",neutral:"",angry:"",tired:""},v={happy:"",sad:"",irritated:"",crying:"",neutral:"",angry:"",tired:""};return g.jsx("div",{className:"content-wrapper",children:g.jsxs("div",{className:"page2-container",children:[g.jsxs("div",{className:"container search-section",children:[g.jsx("h2",{children:" "}),g.jsxs("div",{className:"search-controls",children:[g.jsx("div",{className:"search-input-wrapper",children:g.jsx("input",{type:"text",placeholder:"...",value:n,onChange:y=>r(y.target.value),className:"search-input"})}),g.jsxs("div",{className:"filter-group",children:[g.jsx("label",{children:":"}),g.jsxs("select",{value:i,onChange:y=>o(y.target.value),children:[g.jsx("option",{value:"all",children:""}),Object.entries(v).map(([y,w])=>g.jsxs("option",{value:y,children:[p[y]," ",w]},y))]})]}),g.jsxs("div",{className:"filter-group",children:[g.jsx("label",{children:":"}),g.jsxs("select",{value:s,onChange:y=>a(y.target.value),children:[g.jsx("option",{value:"all",children:""}),g.jsx("option",{value:"week",children:""}),g.jsx("option",{value:"month",children:""}),g.jsx("option",{value:"3months",children:""})]})]})]}),g.jsxs("div",{className:"search-results-info",children:[" ",g.jsx("strong",{children:h.filtered}),"  ( ",h.total," )"]})]}),g.jsxs("div",{className:"container stats-section",children:[g.jsx("h2",{children:" "}),g.jsxs("div",{className:"stats-grid",children:[g.jsxs("div",{className:"stat-box",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsx("div",{className:"stat-number",children:h.total}),g.jsx("div",{className:"stat-label",children:""})]}),g.jsxs("div",{className:"stat-box",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsx("div",{className:"stat-number",children:h.weekCount}),g.jsx("div",{className:"stat-label",children:""}),g.jsxs("div",{className:"stat-sub",children:[" ",h.weekAvg," /"]})]}),g.jsxs("div",{className:"stat-box",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsx("div",{className:"stat-number",children:h.monthCount}),g.jsx("div",{className:"stat-label",children:""}),g.jsxs("div",{className:"stat-sub",children:[" ",h.monthAvg," /"]})]}),g.jsxs("div",{className:"stat-box",children:[g.jsx("div",{className:"stat-icon",children:h.total>0&&Object.entries(h.moodCounts).sort((y,w)=>w[1]-y[1])[0]&&p[Object.entries(h.moodCounts).sort((y,w)=>w[1]-y[1])[0][0]]}),g.jsx("div",{className:"stat-number",children:h.total>0&&((_=Object.entries(h.moodCounts).sort((y,w)=>w[1]-y[1])[0])==null?void 0:_[1])||0}),g.jsx("div",{className:"stat-label",children:""})]})]}),g.jsxs("div",{className:"mood-breakdown",children:[g.jsx("h3",{children:""}),g.jsx("div",{className:"mood-bars",children:Object.entries(v).map(([y,w])=>{const x=h.moodCounts[y],S=h.total>0?(x/h.total*100).toFixed(1):0;return g.jsxs("div",{className:"mood-bar-item",children:[g.jsxs("div",{className:"mood-bar-label",children:[g.jsxs("span",{children:[p[y]," ",w]}),g.jsxs("span",{children:[x,"  (",S,"%)"]})]}),g.jsx("div",{className:"mood-bar-track",children:g.jsx("div",{className:"mood-bar-fill",style:{width:`${S}%`}})})]},y)})})]})]}),g.jsxs("div",{className:"container results-section",children:[g.jsx("h2",{children:""}),l.length===0?g.jsx("div",{className:"empty-results",children:g.jsx("p",{children:""})}):g.jsx("div",{className:"results-list",children:l.map(y=>g.jsxs("div",{className:"result-item",children:[g.jsxs("div",{className:"result-header",children:[g.jsx("span",{className:"result-mood",children:p[y.mood]}),g.jsx("span",{className:"result-date",children:new Date(y.date).toLocaleDateString("zh-TW")})]}),g.jsx("div",{className:"result-content",children:y.content||"()"})]},y.id))})]})]})})}function N6({notes:e,addNote:t,updateNote:n,deleteNote:r}){const[i,o]=b.useState(!1),[s,a]=b.useState(null),[l,u]=b.useState(""),[c,d]=b.useState(""),[h,p]=b.useState([]),[v,_]=b.useState(""),[y,w]=b.useState("general"),[x,S]=b.useState([]),[R,C]=b.useState(""),[j,I]=b.useState(null),[T,P]=b.useState(""),[k,N]=b.useState(()=>new Set);b.useEffect(()=>{const M=G=>{G.key==="Escape"&&i&&$()};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[i]);const D={general:"",howto:"",tutorial:"",reference:"",tips:""},O=async M=>{if(M.preventDefault(),!l.trim())return;const G={id:(s==null?void 0:s.id)||Date.now(),title:l.trim(),content:c.trim(),steps:h,category:y,tags:x,createdAt:(s==null?void 0:s.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};try{s?await n(s.id,G):await t(G),$()}catch{alert("")}},$=()=>{u(""),d(""),p([]),_(""),w("general"),S([]),C(""),a(null),o(!1)},B=M=>{a(M),u(M.title),d(M.content||""),p(M.steps||[]),w(M.category),S(M.tags||[]),o(!0)},J=()=>{const M=v.trim();M&&(p([...h,M]),_(""))},Y=(M,G)=>{p(ee=>ee.map((z,Re)=>Re===M?G:z))},U=M=>{p(h.filter((G,ee)=>ee!==M))},W=(M,G)=>{p(ee=>{const z=M+G;if(z<0||z>=ee.length)return ee;const Re=[...ee],be=Re[M];return Re[M]=Re[z],Re[z]=be,Re})},Z=M=>{M.key==="Enter"&&(M.preventDefault(),J())},pe=()=>{const M=R.trim();M&&!x.includes(M)&&(S([...x,M]),C(""))},me=M=>{S(x.filter(G=>G!==M))},we=M=>{M.key==="Enter"&&(M.preventDefault(),pe())},Le=()=>{const M=new Set;return e.forEach(G=>{G.tags&&G.tags.forEach(ee=>M.add(ee))}),Array.from(M)},Ke=async M=>{if(confirm(""))try{await r(M)}catch{alert("")}},Ye=e.filter(M=>{const G=!j||M.tags&&M.tags.includes(j),ee=!T||M.title.toLowerCase().includes(T.toLowerCase())||M.content&&M.content.toLowerCase().includes(T.toLowerCase());return G&&ee}),Ce=Le(),sr=M=>{N(G=>{const ee=new Set(G);return ee.has(M)?ee.delete(M):ee.add(M),ee})};return g.jsx("div",{className:"content-wrapper",children:g.jsxs("div",{className:"page3-container",children:[g.jsxs("div",{className:"notes-header",children:[g.jsx("h2",{children:" "}),g.jsx("button",{className:"add-note-btn",onClick:()=>{$(),o(!0)},children:"+ "})]}),g.jsx("div",{className:"search-bar",children:g.jsx("input",{type:"text",placeholder:"...",value:T,onChange:M=>P(M.target.value),className:"search-input"})}),i&&g.jsx("div",{className:"note-form-overlay",children:g.jsxs("div",{className:"note-form-modal",onClick:M=>M.stopPropagation(),children:[g.jsxs("div",{className:"note-form-header",children:[g.jsx("h3",{children:s?"":""}),g.jsx("button",{onClick:$,className:"close-btn",children:""})]}),g.jsxs("form",{onSubmit:O,className:"note-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:" *"}),g.jsx("input",{type:"text",value:l,onChange:M=>u(M.target.value),placeholder:"GitPython",required:!0,autoFocus:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:""}),g.jsx("select",{value:y,onChange:M=>w(M.target.value),children:Object.entries(D).map(([M,G])=>g.jsx("option",{value:M,children:G},M))})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:""}),g.jsxs("div",{className:"step-input-container",children:[g.jsx("input",{type:"text",value:v,onChange:M=>_(M.target.value),onKeyPress:Z,placeholder:" Enter"}),g.jsx("button",{type:"button",onClick:J,className:"add-step-btn",children:"+ "})]}),h.length>0&&g.jsx("div",{className:"steps-display",children:h.map((M,G)=>g.jsxs("div",{className:"step-item",children:[g.jsxs("span",{className:"step-number",children:[G+1,"."]}),g.jsx("input",{className:"step-text-input",value:M,onChange:ee=>Y(G,ee.target.value),placeholder:""}),g.jsx("button",{type:"button",onClick:()=>U(G),className:"remove-step-btn",children:""}),g.jsxs("div",{className:"step-move-buttons",children:[g.jsx("button",{type:"button",onClick:()=>W(G,-1),className:"move-step-btn",title:"",disabled:G===0,children:""}),g.jsx("button",{type:"button",onClick:()=>W(G,1),className:"move-step-btn",title:"",disabled:G===h.length-1,children:""})]})]},G))})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:""}),g.jsxs("div",{className:"tag-input-container",children:[g.jsx("input",{type:"text",value:R,onChange:M=>C(M.target.value),onKeyPress:we,placeholder:" EnterGit"}),g.jsx("button",{type:"button",onClick:pe,className:"add-tag-btn",children:"+ "})]}),x.length>0&&g.jsx("div",{className:"tags-display",children:x.map((M,G)=>g.jsxs("span",{className:"tag-item",children:[M,g.jsx("button",{type:"button",onClick:()=>me(M),className:"remove-tag-btn",children:""})]},G))})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:""}),g.jsx("textarea",{value:c,onChange:M=>d(M.target.value),placeholder:"",rows:"4"})]}),g.jsxs("div",{className:"form-buttons",children:[g.jsx("button",{type:"submit",className:"submit-btn",children:s?"":""}),g.jsx("button",{type:"button",onClick:$,className:"cancel-btn",children:""})]})]})]})}),g.jsxs("div",{className:"notes-stats",children:[g.jsxs("div",{className:"stat-item",children:[g.jsx("span",{className:"stat-number",children:Ye.length}),g.jsx("span",{className:"stat-label",children:T||j?"":""})]}),g.jsxs("div",{className:"stat-item",children:[g.jsx("span",{className:"stat-number",children:Ce.length}),g.jsx("span",{className:"stat-label",children:""})]}),g.jsxs("div",{className:"stat-item",children:[g.jsx("span",{className:"stat-number",children:Object.values(Ye.reduce((M,G)=>(M[G.category]=(M[G.category]||0)+1,M),{})).sort((M,G)=>G-M)[0]||0}),g.jsx("span",{className:"stat-label",children:""})]})]}),Ce.length>0&&g.jsxs("div",{className:"tags-filter",children:[g.jsx("div",{className:"filter-label",children:""}),g.jsxs("div",{className:"tags-filter-list",children:[g.jsx("button",{className:`filter-tag ${j?"":"active"}`,onClick:()=>I(null),children:""}),Ce.map(M=>g.jsx("button",{className:`filter-tag ${j===M?"active":""}`,onClick:()=>I(M),children:M},M))]})]}),g.jsx("div",{className:"notes-section",children:Ye.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx("p",{children:T||j?"":""}),!T&&!j&&g.jsx("button",{onClick:()=>o(!0),className:"empty-add-btn",children:""})]}):g.jsx("div",{className:"notes-list",children:Ye.map(M=>g.jsxs("div",{className:"note-item",onClick:()=>sr(M.id),role:"button",tabIndex:0,onKeyDown:G=>{(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),sr(M.id))},children:[g.jsxs("div",{className:"note-header",children:[g.jsx("div",{className:"note-title-row",children:g.jsx("h4",{className:"note-title",children:M.title})}),g.jsxs("div",{className:"note-actions",children:[g.jsx("button",{onClick:()=>B(M),className:"edit-btn",title:"",children:""}),g.jsx("button",{onClick:()=>Ke(M.id),className:"delete-btn",title:"",children:""})]})]}),g.jsxs("div",{className:"note-meta",children:[g.jsx("span",{className:"category-badge",children:D[M.category]}),g.jsxs("span",{className:"note-date",children:["",new Date(M.createdAt).toLocaleDateString("zh-TW")]}),M.updatedAt&&M.updatedAt!==M.createdAt&&g.jsxs("span",{className:"note-date",children:["",new Date(M.updatedAt).toLocaleDateString("zh-TW")]})]}),k.has(M.id)&&g.jsxs(g.Fragment,{children:[M.tags&&M.tags.length>0&&g.jsx("div",{className:"note-tags",children:M.tags.map((G,ee)=>g.jsxs("span",{className:"note-tag",children:[" ",G]},ee))}),M.steps&&M.steps.length>0&&g.jsxs("div",{className:"note-steps",children:[g.jsx("div",{className:"steps-label",children:""}),M.steps.map((G,ee)=>g.jsxs("div",{className:"step-display-item",children:[g.jsxs("span",{className:"step-display-number",children:[ee+1,"."]}),g.jsx("span",{className:"step-display-text",children:G})]},ee))]}),M.content&&g.jsxs("div",{className:"note-content-section",children:[g.jsx("div",{className:"content-label",children:""}),g.jsx("p",{className:"note-content",children:M.content})]})]})]},M.id))})})]})})}async function R6(e,t){var i;const n=e||void 0,r=t||void 0;if(!n||!r)throw new Error(" API Key  Spreadsheet ID");try{const o=`https://sheets.googleapis.com/v4/spreadsheets/${r}?key=${n}`,s=await fetch(o);if(!s.ok){const l=await s.json().catch(()=>({}));throw new Error(((i=l.error)==null?void 0:i.message)||`API : ${s.status}`)}return{success:!0,sheets:(await s.json()).sheets.map(l=>({name:l.properties.title,id:l.properties.sheetId}))}}catch(o){return console.error(":",o),{success:!1,error:o.message}}}async function D6(e,t,n,r="A:Z"){var s;const i=t||void 0,o=n||void 0;if(!i||!o)throw new Error(" API Key  Spreadsheet ID");try{const a=`${e}!${r}`,l=`https://sheets.googleapis.com/v4/spreadsheets/${o}/values/${encodeURIComponent(a)}?key=${i}`,u=await fetch(l);if(!u.ok){const v=await u.json().catch(()=>({}));throw new Error(((s=v.error)==null?void 0:s.message)||`API : ${u.status}`)}const d=(await u.json()).values||[];if(d.length===0)return{success:!0,data:[],headers:[]};const h=d[0];return{success:!0,data:d.slice(1).map(v=>{const _={};return h.forEach((y,w)=>{_[y]=v[w]||""}),_}),headers:h}}catch(a){return console.error(":",a),{success:!1,error:a.message}}}function tO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=tO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function De(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=tO(e))&&(r&&(r+=" "),r+=t);return r}var j6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gw(e){if(typeof e!="string")return!1;var t=j6;return t.includes(e)}var M6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function nO(e){if(typeof e!="string")return!1;var t=M6;return t.includes(e)}function rO(e){return typeof e=="string"&&e.startsWith("data-")}function Fr(e){var t=Object.entries(e).filter(n=>{var[r]=n;return nO(r)||rO(r)});return Object.fromEntries(t)}function sp(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Fr(t)}return typeof e=="object"&&!Array.isArray(e)?Fr(e):null}function dn(e){var t=Object.entries(e).filter(n=>{var[r]=n;return nO(r)||rO(r)||gw(r)});return Object.fromEntries(t)}function L6(e){return e==null?null:b.isValidElement(e)?dn(e.props):typeof e=="object"&&!Array.isArray(e)?dn(e):null}var V6=["children","width","height","viewBox","className","style","title","desc"];function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rv.apply(null,arguments)}function F6(e,t){if(e==null)return{};var n,r,i=$6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vw=b.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:a,title:l,desc:u}=e,c=F6(e,V6),d=o||{width:r,height:i,x:0,y:0},h=De("recharts-surface",s);return b.createElement("svg",Rv({},dn(c),{className:h,width:r,height:i,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),b.createElement("title",null,l),b.createElement("desc",null,u),n)}),U6=["children","className"];function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dv.apply(null,arguments)}function z6(e,t){if(e==null)return{};var n,r,i=B6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yo=b.forwardRef((e,t)=>{var{children:n,className:r}=e,i=z6(e,U6),o=De("recharts-layer",r);return b.createElement("g",Dv({className:o},dn(i),{ref:t}),n)}),iO=b.createContext(null),W6=()=>b.useContext(iO);function Ve(e){return function(){return e}}const oO=Math.cos,Dd=Math.sin,Er=Math.sqrt,jd=Math.PI,ap=2*jd,jv=Math.PI,Mv=2*jv,Mo=1e-6,K6=Mv-Mo;function sO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function H6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sO;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class q6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sO:H6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,d=a-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Mo)if(!(Math.abs(d*l-u*c)>Mo)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,v=i-a,_=l*l+u*u,y=p*p+v*v,w=Math.sqrt(_),x=Math.sqrt(h),S=o*Math.tan((jv-Math.acos((_+h-y)/(2*w*x)))/2),R=S/x,C=S/w;Math.abs(R-1)>Mo&&this._append`L${t+R*c},${n+R*d}`,this._append`A${o},${o},0,0,${+(d*p>c*v)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Mo||Math.abs(this._y1-c)>Mo)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Mv+Mv),h>K6?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Mo&&this._append`A${r},${r},0,${+(h>=jv)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function yw(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new q6(t)}function ww(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aO(e){this._context=e}aO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lp(e){return new aO(e)}function lO(e){return e[0]}function uO(e){return e[1]}function cO(e,t){var n=Ve(!0),r=null,i=lp,o=null,s=yw(a);e=typeof e=="function"?e:e===void 0?lO:Ve(e),t=typeof t=="function"?t:t===void 0?uO:Ve(t);function a(l){var u,c=(l=ww(l)).length,d,h=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,u,l),+t(d,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ve(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ve(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ve(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function af(e,t,n){var r=null,i=Ve(!0),o=null,s=lp,a=null,l=yw(u);e=typeof e=="function"?e:e===void 0?lO:Ve(+e),t=typeof t=="function"?t:Ve(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?uO:Ve(+n);function u(d){var h,p,v,_=(d=ww(d)).length,y,w=!1,x,S=new Array(_),R=new Array(_);for(o==null&&(a=s(x=l())),h=0;h<=_;++h){if(!(h<_&&i(y=d[h],h,d))===w)if(w=!w)p=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=p;--v)a.point(S[v],R[v]);a.lineEnd(),a.areaEnd()}w&&(S[h]=+e(y,h,d),R[h]=+t(y,h,d),a.point(r?+r(y,h,d):S[h],n?+n(y,h,d):R[h]))}if(x)return a=null,x+""||null}function c(){return cO().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ve(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ve(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ve(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ve(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ve(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ve(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ve(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}class fO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function G6(e){return new fO(e,!0)}function Y6(e){return new fO(e,!1)}const _w={draw(e,t){const n=Er(t/jd);e.moveTo(n,0),e.arc(0,0,n,0,ap)}},Q6={draw(e,t){const n=Er(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},dO=Er(1/3),X6=dO*2,J6={draw(e,t){const n=Er(t/X6),r=n*dO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Z6={draw(e,t){const n=Er(t),r=-n/2;e.rect(r,r,n,n)}},e9=.8908130915292852,hO=Dd(jd/10)/Dd(7*jd/10),t9=Dd(ap/10)*hO,n9=-oO(ap/10)*hO,r9={draw(e,t){const n=Er(t*e9),r=t9*n,i=n9*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=ap*o/5,a=oO(s),l=Dd(s);e.lineTo(l*n,-a*n),e.lineTo(a*r-l*i,l*r+a*i)}e.closePath()}},Gm=Er(3),i9={draw(e,t){const n=-Er(t/(Gm*3));e.moveTo(0,n*2),e.lineTo(-Gm*n,-n),e.lineTo(Gm*n,-n),e.closePath()}},Bn=-.5,Wn=Er(3)/2,Lv=1/Er(12),o9=(Lv/2+1)*3,s9={draw(e,t){const n=Er(t/o9),r=n/2,i=n*Lv,o=r,s=n*Lv+n,a=-o,l=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(Bn*r-Wn*i,Wn*r+Bn*i),e.lineTo(Bn*o-Wn*s,Wn*o+Bn*s),e.lineTo(Bn*a-Wn*l,Wn*a+Bn*l),e.lineTo(Bn*r+Wn*i,Bn*i-Wn*r),e.lineTo(Bn*o+Wn*s,Bn*s-Wn*o),e.lineTo(Bn*a+Wn*l,Bn*l-Wn*a),e.closePath()}};function a9(e,t){let n=null,r=yw(i);e=typeof e=="function"?e:Ve(e||_w),t=typeof t=="function"?t:Ve(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ve(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ve(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Md(){}function Ld(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function pO(e){this._context=e}pO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ld(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l9(e){return new pO(e)}function mO(e){this._context=e}mO.prototype={areaStart:Md,areaEnd:Md,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u9(e){return new mO(e)}function gO(e){this._context=e}gO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c9(e){return new gO(e)}function vO(e){this._context=e}vO.prototype={areaStart:Md,areaEnd:Md,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function f9(e){return new vO(e)}function wS(e){return e<0?-1:1}function _S(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(wS(o)+wS(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function bS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ym(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function Vd(e){this._context=e}Vd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ym(this,this._t0,bS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ym(this,bS(this,n=_S(this,e,t)),n);break;default:Ym(this,this._t0,n=_S(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function yO(e){this._context=new wO(e)}(yO.prototype=Object.create(Vd.prototype)).point=function(e,t){Vd.prototype.point.call(this,t,e)};function wO(e){this._context=e}wO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function d9(e){return new Vd(e)}function h9(e){return new yO(e)}function _O(e){this._context=e}_O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=ES(e),i=ES(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ES(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function p9(e){return new _O(e)}function up(e,t){this._context=e,this._t=t}up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function m9(e){return new up(e,.5)}function g9(e){return new up(e,0)}function v9(e){return new up(e,1)}function Oa(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Vv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function y9(e,t){return e[t]}function w9(e){const t=[];return t.key=e,t}function _9(){var e=Ve([]),t=Vv,n=Oa,r=y9;function i(o){var s=Array.from(e.apply(this,arguments),w9),a,l=s.length,u=-1,c;for(const d of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(d,s[a].key,u,o)]).data=d;for(a=0,c=ww(t(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ve(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ve(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Vv:typeof o=="function"?o:Ve(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Oa,i):n},i}function b9(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Oa(e,t)}}function E9(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Oa(e,t)}}function x9(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=e[t[a]],d=c[r][1]||0,h=c[r-1][1]||0,p=(d-h)/2,v=0;v<a;++v){var _=e[t[v]],y=_[r][1]||0,w=_[r-1][1]||0;p+=y-w}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Oa(e,t)}}var cp={},bO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(bO);var bw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(bw);var fp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(fp);var dp={},EO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(EO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EO,n=fp;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],s=i.length;if(s===0)return o;let a=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(o.push(""),a++);a<s;){const d=i[a];u?d==="\\"&&a+1<s?(a++,l+=i[a]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,o.push(l),l=""):l+=d:d==="["?(c=!0,l&&(o.push(l),l="")):d==="."?l&&(o.push(l),l=""):l+=d,a++}return l&&o.push(l),o}e.toPath=r})(dp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bO,n=bw,r=fp,i=dp;function o(a,l,u){if(a==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?n.isDeepKey(l)?o(a,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=a[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(a,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?u:c}}}function s(a,l,u){if(l.length===0)return u;let c=a;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=o})(cp);var S9=cp.get;const hp=Ti(S9);var Xn=e=>e===0?0:e>0?1:-1,$r=e=>typeof e=="number"&&e!=+e,wi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,oe=e=>(typeof e=="number"||e instanceof Number)&&!$r(e),Ur=e=>oe(e)||typeof e=="string",T9=0,ku=e=>{var t=++T9;return"".concat(e||"").concat(t)},wo=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(t)&&typeof t!="string")return r;var o;if(wi(t)){if(n==null)return r;var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return $r(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},xO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function wn(e,t,n){return oe(e)&&oe(t)?e+n*(t-e):t}function SO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):hp(r,t))===n)}var kt=e=>e===null||typeof e>"u",ic=e=>kt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function P9(e){return e!=null}function qa(){}var I9=["type","size","sizeType"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fv.apply(null,arguments)}function xS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(n),!0).forEach(function(r){A9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A9(e,t,n){return(t=C9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C9(e){var t=k9(e,"string");return typeof t=="symbol"?t:t+""}function k9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O9(e,t){if(e==null)return{};var n,r,i=N9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function N9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TO={symbolCircle:_w,symbolCross:Q6,symbolDiamond:J6,symbolSquare:Z6,symbolStar:r9,symbolTriangle:i9,symbolWye:s9},R9=Math.PI/180,D9=e=>{var t="symbol".concat(ic(e));return TO[t]||_w},j9=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*R9;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},M9=(e,t)=>{TO["symbol".concat(ic(e))]=t},Ew=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=O9(e,I9),o=SS(SS({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var a=()=>{var h=D9(s),p=a9().type(h).size(j9(n,r,s)),v=p();if(v!==null)return v},{className:l,cx:u,cy:c}=o,d=dn(o);return oe(u)&&oe(c)&&oe(n)?b.createElement("path",Fv({},d,{className:De("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:a()})):null};Ew.registerSymbol=M9;var PO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,xw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{gw(i)&&(r[i]=o=>n[i](n,o))}),r},L9=(e,t,n)=>r=>(e(t,n,r),null),IO=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];gw(i)&&typeof o=="function"&&(r||(r={}),r[i]=L9(o,t,n))}),r};function TS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(n),!0).forEach(function(r){F9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F9(e,t,n){return(t=$9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $9(e){var t=U9(e,"string");return typeof t=="symbol"?t:t+""}function U9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rn(e,t){var n=V9({},e),r=t,i=Object.keys(t),o=i.reduce((s,a)=>(s[a]===void 0&&r[a]!==void 0&&(s[a]=r[a]),s),n);return o}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fd.apply(null,arguments)}function PS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(n),!0).forEach(function(r){B9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B9(e,t,n){return(t=W9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W9(e){var t=K9(e,"string");return typeof t=="symbol"?t:t+""}function K9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hn=32,H9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function q9(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Hn/2,o=Hn/6,s=Hn/3,a=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Hn,y2:i,className:"recharts-legend-icon"})}if(l==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Hn,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return b.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(Hn/8,"h").concat(Hn,"v").concat(Hn*3/4,"h").concat(-Hn,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var c=z9({},t);return delete c.legendIcon,b.cloneElement(t.legendIcon,c)}return b.createElement(Ew,{fill:a,cx:i,cy:i,size:Hn,sizeType:"diameter",type:l})}function G9(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:s}=e,a={x:0,y:0,width:Hn,height:Hn},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var h=c.formatter||i,p=De({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var v=c.inactive?o:c.color,_=h?h(c.value,c,d):c.value;return b.createElement("li",Fd({className:p,style:l,key:"legend-item-".concat(d)},IO(e,c,d)),b.createElement(vw,{width:n,height:n,viewBox:a,style:u,"aria-label":"".concat(_," legend icon")},b.createElement(q9,{data:c,iconType:s,inactiveColor:o})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},_))})}var Y9=e=>{var t=rn(e,H9),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:o},b.createElement(G9,Fd({},t,{payload:n})))},AO={},CO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],a=r(s);i.has(a)||i.set(a,s)}return Array.from(i.values())}e.uniqBy=t})(CO);var Sw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Sw);var kO={},pp={},OO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(OO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OO;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(pp);var NO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(NO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pp,n=NO;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(kO);var RO={},DO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cp;function n(r){return function(i){return t.get(i,r)}}e.property=n})(DO);var jO={},Tw={},MO={},Pw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Pw);var Iw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Iw);var Aw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Aw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pw,n=Iw,r=Aw;function i(c,d,h){return typeof h!="function"?i(c,d,()=>{}):o(c,d,function p(v,_,y,w,x,S){const R=h(v,_,y,w,x,S);return R!==void 0?!!R:o(v,_,p,S)},new Map)}function o(c,d,h,p){if(d===c)return!0;switch(typeof d){case"object":return s(c,d,h,p);case"function":return Object.keys(d).length>0?o(c,{...d},h,p):r.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:r.eq(c,d)}}function s(c,d,h,p){if(d==null)return!0;if(Array.isArray(d))return l(c,d,h,p);if(d instanceof Map)return a(c,d,h,p);if(d instanceof Set)return u(c,d,h,p);const v=Object.keys(d);if(c==null)return v.length===0;if(v.length===0)return!0;if(p!=null&&p.has(d))return p.get(d)===c;p==null||p.set(d,c);try{for(let _=0;_<v.length;_++){const y=v[_];if(!n.isPrimitive(c)&&!(y in c)||d[y]===void 0&&c[y]!==void 0||d[y]===null&&c[y]!==null||!h(c[y],d[y],y,c,d,p))return!1}return!0}finally{p==null||p.delete(d)}}function a(c,d,h,p){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[v,_]of d.entries()){const y=c.get(v);if(h(y,_,v,c,d,p)===!1)return!1}return!0}function l(c,d,h,p){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const v=new Set;for(let _=0;_<d.length;_++){const y=d[_];let w=!1;for(let x=0;x<c.length;x++){if(v.has(x))continue;const S=c[x];let R=!1;if(h(S,y,_,c,d,p)&&(R=!0),R){v.add(x),w=!0;break}}if(!w)return!1}return!0}function u(c,d,h,p){return d.size===0?!0:c instanceof Set?l([...c],[...d],h,p):!1}e.isMatchWith=i,e.isSetMatch=u})(MO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MO;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Tw);var LO={},Cw={},VO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(VO);var kw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(kw);var Ow={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",a="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",v="[object Error]",_="[object DataView]",y="[object Uint8Array]",w="[object Uint8ClampedArray]",x="[object Uint16Array]",S="[object Uint32Array]",R="[object BigUint64Array]",C="[object Int8Array]",j="[object Int16Array]",I="[object Int32Array]",T="[object BigInt64Array]",P="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=R,e.booleanTag=i,e.dataViewTag=_,e.dateTag=a,e.errorTag=v,e.float32ArrayTag=P,e.float64ArrayTag=k,e.functionTag=d,e.int16ArrayTag=j,e.int32ArrayTag=I,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=x,e.uint32ArrayTag=S,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=w})(Ow);var FO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(FO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO,n=kw,r=Ow,i=Iw,o=FO;function s(c,d){return a(c,void 0,c,new Map,d)}function a(c,d,h,p=new Map,v=void 0){const _=v==null?void 0:v(c,d,h,p);if(_!==void 0)return _;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const y=new Array(c.length);p.set(c,y);for(let w=0;w<c.length;w++)y[w]=a(c[w],w,h,p,v);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;p.set(c,y);for(const[w,x]of c)y.set(w,a(x,w,h,p,v));return y}if(c instanceof Set){const y=new Set;p.set(c,y);for(const w of c)y.add(a(w,void 0,h,p,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,y);for(let w=0;w<c.length;w++)y[w]=a(c[w],w,h,p,v);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,y),l(y,c,h,p,v),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return p.set(c,y),l(y,c,h,p,v),y}if(typeof Blob<"u"&&c instanceof Blob){const y=new Blob([c],{type:c.type});return p.set(c,y),l(y,c,h,p,v),y}if(c instanceof Error){const y=new c.constructor;return p.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,l(y,c,h,p,v),y}if(c instanceof Boolean){const y=new Boolean(c.valueOf());return p.set(c,y),l(y,c,h,p,v),y}if(c instanceof Number){const y=new Number(c.valueOf());return p.set(c,y),l(y,c,h,p,v),y}if(c instanceof String){const y=new String(c.valueOf());return p.set(c,y),l(y,c,h,p,v),y}if(typeof c=="object"&&u(c)){const y=Object.create(Object.getPrototypeOf(c));return p.set(c,y),l(y,c,h,p,v),y}return c}function l(c,d,h=c,p,v){const _=[...Object.keys(d),...t.getSymbols(d)];for(let y=0;y<_.length;y++){const w=_[y],x=Object.getOwnPropertyDescriptor(c,w);(x==null||x.writable)&&(c[w]=a(d[w],w,h,p,v))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=a,e.copyProperties=l})(Cw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cw;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(LO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tw,n=LO;function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(jO);var $O={},UO={},zO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cw,n=Ow;function r(i,o){return t.cloneDeepWith(i,(s,a,l,u)=>{const c=o==null?void 0:o(s,a,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case n.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=r})(zO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zO;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(UO);var BO={},Nw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Nw);var WO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kw;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(WO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bw,n=Nw,r=WO,i=dp;function o(s,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&t.isDeepKey(a)&&(s==null?void 0:s[a])==null?l=i.toPath(a):l=[a],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=o})(BO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tw,n=fp,r=UO,i=cp,o=BO;function s(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,a);return c===void 0?o.has(u,a):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})($O);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sw,n=DO,r=jO,i=$O;function o(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=o})(RO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CO,n=Sw,r=kO,i=RO;function o(s,a=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(a)):[]}e.uniqBy=o})(AO);var Q9=AO.uniqBy;const IS=Ti(Q9);function KO(e,t,n){return t===!0?IS(e,n):typeof t=="function"?IS(e,t):e}var HO={exports:{}},qO={},GO={exports:{}},YO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na=b;function X9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var J9=typeof Object.is=="function"?Object.is:X9,Z9=Na.useState,e5=Na.useEffect,t5=Na.useLayoutEffect,n5=Na.useDebugValue;function r5(e,t){var n=t(),r=Z9({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return t5(function(){i.value=n,i.getSnapshot=t,Qm(i)&&o({inst:i})},[e,n,t]),e5(function(){return Qm(i)&&o({inst:i}),e(function(){Qm(i)&&o({inst:i})})},[e]),n5(n),n}function Qm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!J9(e,n)}catch{return!0}}function i5(e,t){return t()}var o5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?i5:r5;YO.useSyncExternalStore=Na.useSyncExternalStore!==void 0?Na.useSyncExternalStore:o5;GO.exports=YO;var s5=GO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp=b,a5=s5;function l5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var u5=typeof Object.is=="function"?Object.is:l5,c5=a5.useSyncExternalStore,f5=mp.useRef,d5=mp.useEffect,h5=mp.useMemo,p5=mp.useDebugValue;qO.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=f5(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=h5(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return d=v}return d=p}if(v=d,u5(c,p))return v;var _=r(p);return i!==void 0&&i(v,_)?(c=p,v):(c=p,d=_)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=c5(e,o[0],o[1]);return d5(function(){s.hasValue=!0,s.value=a},[a]),p5(a),a};HO.exports=qO;var m5=HO.exports,Rw=b.createContext(null),g5=e=>e,ft=()=>{var e=b.useContext(Rw);return e?e.store.dispatch:g5},Bf=()=>{},v5=()=>Bf,y5=(e,t)=>e===t;function ie(e){var t=b.useContext(Rw);return m5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:v5,t?t.store.getState:Bf,t?t.store.getState:Bf,t?e:Bf,y5)}function w5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function _5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function b5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var AS=e=>Array.isArray(e)?e:[e];function E5(e){const t=Array.isArray(e[0])?e[0]:e;return b5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function x5(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var S5=class{constructor(e){this.value=e}deref(){return this.value}},T5=typeof WeakRef<"u"?WeakRef:S5,P5=0,CS=1;function lf(){return{s:P5,v:void 0,o:null,p:null}}function QO(e,t={}){let n=lf();const{resultEqualityCheck:r}=t;let i,o=0;function s(){var d;let a=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let _=a.o;_===null&&(a.o=_=new WeakMap);const y=_.get(v);y===void 0?(a=lf(),_.set(v,a)):a=y}else{let _=a.p;_===null&&(a.p=_=new Map);const y=_.get(v);y===void 0?(a=lf(),_.set(v,a)):a=y}}const u=a;let c;if(a.s===CS)c=a.v;else if(c=e.apply(null,arguments),o++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new T5(c):c}return u.s=CS,u.v=c,c}return s.clearCache=()=>{n=lf(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function I5(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),w5(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=QO,argsMemoizeOptions:v=[]}=c,_=AS(h),y=AS(v),w=E5(i),x=d(function(){return o++,u.apply(null,arguments)},..._),S=p(function(){s++;const C=x5(w,arguments);return a=x.apply(null,C),a},...y);return Object.assign(S,{resultFunc:u,memoizedResultFunc:x,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var F=I5(QO),A5=Object.assign((e,t=F)=>{_5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>A5}),XO={},JO={},ZO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=t(r),a=t(i);if(s===a&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?a-s:s-a}return 0};e.compareValues=n})(ZO);var eN={},Dw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Dw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dw,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}e.isKey=i})(eN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO,n=eN,r=dp;function i(o,s,a,l){if(o==null)return[];a=l?void 0:a,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(p=>String(p));const u=(p,v)=>{let _=p;for(let y=0;y<v.length&&_!=null;++y)_=_[v[y]];return _},c=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:u(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?u(v,p):typeof v=="object"?v[p]:v,d=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:d.map(v=>c(v,p))})).slice().sort((p,v)=>{for(let _=0;_<d.length;_++){const y=t.compareValues(p.criteria[_],v.criteria[_],a[_]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(JO);var tN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),s=(a,l)=>{for(let u=0;u<a.length;u++){const c=a[u];Array.isArray(c)&&l<o?s(c,l+1):i.push(c)}};return s(n,0),i}e.flatten=t})(tN);var jw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nw,n=pp,r=Pw,i=Aw;function o(s,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&t.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],s):!1}e.isIterateeCall=o})(jw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JO,n=tN,r=jw;function i(o,...s){const a=s.length;return a>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:a>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(o,n.flatten(s),["asc"])}e.sortBy=i})(XO);var C5=XO.sortBy;const gp=Ti(C5);var nN=e=>e.legend.settings,k5=e=>e.legend.size,O5=e=>e.legend.payload,N5=F([O5,nN],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?gp(r,n):r});function R5(){return ie(N5)}var uf=1;function rN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-t.height)>uf||Math.abs(s.left-t.left)>uf||Math.abs(s.top-t.top)>uf||Math.abs(s.width-t.width)>uf)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Dt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var D5=typeof Symbol=="function"&&Symbol.observable||"@@observable",kS=D5,Xm=()=>Math.random().toString(36).substring(7).split("").join("."),j5={INIT:`@@redux/INIT${Xm()}`,REPLACE:`@@redux/REPLACE${Xm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xm()}`},$d=j5;function Mw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function iN(e,t,n){if(typeof e!="function")throw new Error(Dt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Dt(1));return n(iN)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((y,w)=>{s.set(w,y)}))}function c(){if(l)throw new Error(Dt(3));return i}function d(y){if(typeof y!="function")throw new Error(Dt(4));if(l)throw new Error(Dt(5));let w=!0;u();const x=a++;return s.set(x,y),function(){if(w){if(l)throw new Error(Dt(6));w=!1,u(),s.delete(x),o=null}}}function h(y){if(!Mw(y))throw new Error(Dt(7));if(typeof y.type>"u")throw new Error(Dt(8));if(typeof y.type!="string")throw new Error(Dt(17));if(l)throw new Error(Dt(9));try{l=!0,i=r(i,y)}finally{l=!1}return(o=s).forEach(x=>{x()}),y}function p(y){if(typeof y!="function")throw new Error(Dt(10));r=y,h({type:$d.REPLACE})}function v(){const y=d;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Dt(11));function x(){const R=w;R.next&&R.next(c())}return x(),{unsubscribe:y(x)}},[kS](){return this}}}return h({type:$d.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:p,[kS]:v}}function M5(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:$d.INIT})>"u")throw new Error(Dt(12));if(typeof n(void 0,{type:$d.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dt(13))})}function oN(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{M5(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],p=s[d],v=h(p,a);if(typeof v>"u")throw a&&a.type,new Error(Dt(14));u[d]=v,l=l||v!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function Ud(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function L5(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Dt(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=e.map(l=>l(s));return o=Ud(...a)(i.dispatch),{...i,dispatch:o}}}function sN(e){return Mw(e)&&"type"in e&&typeof e.type=="string"}var aN=Symbol.for("immer-nothing"),OS=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function hr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ou=Object.getPrototypeOf;function hs(e){return!!e&&!!e[$n]}function _i(e){var t;return e?lN(e)||Array.isArray(e)||!!e[OS]||!!((t=e.constructor)!=null&&t[OS])||oc(e)||yp(e):!1}var V5=Object.prototype.constructor.toString(),NS=new WeakMap;function lN(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=NS.get(n);return r===void 0&&(r=Function.toString.call(n),NS.set(n,r)),r===V5}function zd(e,t,n=!0){vp(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function vp(e){const t=e[$n];return t?t.type_:Array.isArray(e)?1:oc(e)?2:yp(e)?3:0}function $v(e,t){return vp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uN(e,t,n){const r=vp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function F5(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function oc(e){return e instanceof Map}function yp(e){return e instanceof Set}function Lo(e){return e.copy_||e.base_}function Uv(e,t){if(oc(e))return new Map(e);if(yp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=lN(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[$n];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(Ou(e),r)}else{const r=Ou(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Lw(e,t=!1){return wp(e)||hs(e)||!_i(e)||(vp(e)>1&&Object.defineProperties(e,{set:cf,add:cf,clear:cf,delete:cf}),Object.freeze(e),t&&Object.values(e).forEach(n=>Lw(n,!0))),e}function $5(){hr(2)}var cf={value:$5};function wp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var U5={};function ps(e){const t=U5[e];return t||hr(0,e),t}var Nu;function cN(){return Nu}function z5(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function RS(e,t){t&&(ps("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function zv(e){Bv(e),e.drafts_.forEach(B5),e.drafts_=null}function Bv(e){e===Nu&&(Nu=e.parent_)}function DS(e){return Nu=z5(Nu,e)}function B5(e){const t=e[$n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function jS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[$n].modified_&&(zv(t),hr(4)),_i(e)&&(e=Bd(t,e),t.parent_||Wd(t,e)),t.patches_&&ps("Patches").generateReplacementPatches_(n[$n].base_,e,t.patches_,t.inversePatches_)):e=Bd(t,n,[]),zv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==aN?e:void 0}function Bd(e,t,n){if(wp(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[$n];if(!i)return zd(t,(o,s)=>MS(e,i,t,o,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Wd(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,a=!1;i.type_===3&&(s=new Set(o),o.clear(),a=!0),zd(s,(l,u)=>MS(e,i,o,l,u,n,a),r),Wd(e,o,!1),n&&e.patches_&&ps("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function MS(e,t,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const a=wp(i);if(!(a&&!s)){if(hs(i)){const l=o&&t&&t.type_!==3&&!$v(t.assigned_,r)?o.concat(r):void 0,u=Bd(e,i,l);if(uN(n,r,u),hs(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(_i(i)&&!a){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&a)return;Bd(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(oc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Wd(e,i)}}}function Wd(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Lw(t,n)}function W5(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:cN(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Vw;n&&(i=[r],o=Ru);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var Vw={get(e,t){if(t===$n)return e;const n=Lo(e);if(!$v(n,t))return K5(e,n,t);const r=n[t];return e.finalized_||!_i(r)?r:r===Jm(e.base_,t)?(Zm(e),e.copy_[t]=Kv(r,e)):r},has(e,t){return t in Lo(e)},ownKeys(e){return Reflect.ownKeys(Lo(e))},set(e,t,n){const r=fN(Lo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Jm(Lo(e),t),o=i==null?void 0:i[$n];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(F5(n,i)&&(n!==void 0||$v(e.base_,t)))return!0;Zm(e),Wv(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Jm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Zm(e),Wv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Lo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){hr(11)},getPrototypeOf(e){return Ou(e.base_)},setPrototypeOf(){hr(12)}},Ru={};zd(Vw,(e,t)=>{Ru[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ru.deleteProperty=function(e,t){return Ru.set.call(this,e,t,void 0)};Ru.set=function(e,t,n){return Vw.set.call(this,e[0],t,n,e[0])};function Jm(e,t){const n=e[$n];return(n?Lo(n):e)[t]}function K5(e,t,n){var i;const r=fN(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function fN(e,t){if(!(t in e))return;let n=Ou(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ou(n)}}function Wv(e){e.modified_||(e.modified_=!0,e.parent_&&Wv(e.parent_))}function Zm(e){e.copy_||(e.copy_=Uv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var H5=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&hr(6),r!==void 0&&typeof r!="function"&&hr(7);let i;if(_i(t)){const o=DS(this),s=Kv(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?zv(o):Bv(o)}return RS(o,r),jS(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===aN&&(i=void 0),this.autoFreeze_&&Lw(i,!0),r){const o=[],s=[];ps("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else hr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){_i(e)||hr(8),hs(e)&&(e=ui(e));const t=DS(this),n=Kv(e,void 0);return n[$n].isManual_=!0,Bv(t),n}finishDraft(e,t){const n=e&&e[$n];(!n||!n.isManual_)&&hr(9);const{scope_:r}=n;return RS(r,t),jS(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ps("Patches").applyPatches_;return hs(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Kv(e,t){const n=oc(e)?ps("MapSet").proxyMap_(e,t):yp(e)?ps("MapSet").proxySet_(e,t):W5(e,t);return(t?t.scope_:cN()).drafts_.push(n),n}function ui(e){return hs(e)||hr(10,e),dN(e)}function dN(e){if(!_i(e)||wp(e))return e;const t=e[$n];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Uv(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Uv(e,!0);return zd(n,(i,o)=>{uN(n,i,dN(o))},r),t&&(t.finalized_=!1),n}var Hv=new H5,hN=Hv.produce,q5=Hv.setUseStrictIteration.bind(Hv);function pN(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var G5=pN(),Y5=pN,Q5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ud:Ud.apply(null,arguments)};function rr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Vn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>sN(r)&&r.type===e,n}var mN=class $l extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,$l.prototype)}static get[Symbol.species](){return $l}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new $l(...t[0].concat(this)):new $l(...t.concat(this))}};function LS(e){return _i(e)?hN(e,()=>{}):e}function ff(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function X5(e){return typeof e=="boolean"}var J5=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new mN;return n&&(X5(n)?s.push(G5):s.push(Y5(n.extraArgument))),s},gN="RTK_autoBatch",mt=()=>e=>({payload:e,meta:{[gN]:!0}}),VS=e=>t=>{setTimeout(t,e)},vN=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VS(10):e.type==="callback"?e.queueNotification:VS(e.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[gN]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},Z5=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new mN(e);return r&&i.push(vN(typeof r=="object"?r:void 0)),i};function eW(e){const t=J5(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(Mw(n))a=oN(n);else throw new Error(Vn(1));let l;typeof r=="function"?l=r(t):l=t();let u=Ud;i&&(u=Q5({trace:!1,...typeof i=="object"&&i}));const c=L5(...l),d=Z5(c);let h=typeof s=="function"?s(d):d();const p=u(...h);return iN(a,o,p)}function yN(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Vn(28));if(a in t)throw new Error(Vn(29));return t[a]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}q5(!1);function tW(e){return typeof e=="function"}function nW(e,t){let[n,r,i]=yN(t),o;if(tW(e))o=()=>LS(e());else{const a=LS(e);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(hs(c)){const p=d(c,l);return p===void 0?c:p}else{if(_i(c))return hN(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},a)}return s.getInitialState=o,s}var rW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iW=(e=21)=>{let t="",n=e;for(;n--;)t+=rW[Math.random()*64|0];return t},oW=Symbol.for("rtk-slice-createasyncthunk");function sW(e,t){return`${e}/${t}`}function aW({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[oW];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Vn(11));const a=(typeof i.reducers=="function"?i.reducers(uW()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(R,C){const j=typeof R=="string"?R:R.type;if(!j)throw new Error(Vn(12));if(j in u.sliceCaseReducersByType)throw new Error(Vn(13));return u.sliceCaseReducersByType[j]=C,c},addMatcher(R,C){return u.sliceMatchers.push({matcher:R,reducer:C}),c},exposeAction(R,C){return u.actionCreators[R]=C,c},exposeCaseReducer(R,C){return u.sliceCaseReducersByName[R]=C,c}};l.forEach(R=>{const C=a[R],j={reducerName:R,type:sW(o,R),createNotation:typeof i.reducers=="function"};fW(C)?hW(j,C,c,t):cW(j,C,c)});function d(){const[R={},C=[],j=void 0]=typeof i.extraReducers=="function"?yN(i.extraReducers):[i.extraReducers],I={...R,...u.sliceCaseReducersByType};return nW(i.initialState,T=>{for(let P in I)T.addCase(P,I[P]);for(let P of u.sliceMatchers)T.addMatcher(P.matcher,P.reducer);for(let P of C)T.addMatcher(P.matcher,P.reducer);j&&T.addDefaultCase(j)})}const h=R=>R,p=new Map,v=new WeakMap;let _;function y(R,C){return _||(_=d()),_(R,C)}function w(){return _||(_=d()),_.getInitialState()}function x(R,C=!1){function j(T){let P=T[R];return typeof P>"u"&&C&&(P=ff(v,j,w)),P}function I(T=h){const P=ff(p,C,()=>new WeakMap);return ff(P,T,()=>{const k={};for(const[N,D]of Object.entries(i.selectors??{}))k[N]=lW(D,T,()=>ff(v,T,w),C);return k})}return{reducerPath:R,getSelectors:I,get selectors(){return I(j)},selectSlice:j}}const S={name:o,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...x(s),injectInto(R,{reducerPath:C,...j}={}){const I=C??s;return R.inject({reducerPath:I,reducer:y},j),{...S,...x(I,!0)}}};return S}}function lW(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var In=aW();function uW(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function cW({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!dW(r))throw new Error(Vn(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?rr(e,s):rr(e))}function fW(e){return e._reducerDefinitionType==="asyncThunk"}function dW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function hW({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Vn(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:s||df,pending:a||df,rejected:l||df,settled:u||df})}function df(){}var pW="task",wN="listener",_N="completed",Fw="cancelled",mW=`task-${Fw}`,gW=`task-${_N}`,qv=`${wN}-${Fw}`,vW=`${wN}-${_N}`,_p=class{constructor(e){sm(this,"name","TaskAbortError");sm(this,"message");this.code=e,this.message=`${pW} ${Fw} (reason: ${e})`}},$w=(e,t)=>{if(typeof e!="function")throw new TypeError(Vn(32))},Kd=()=>{},bN=(e,t=Kd)=>(e.catch(t),e),EN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Jo=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Zo=e=>{if(e.aborted){const{reason:t}=e;throw new _p(t)}};function xN(e,t){let n=Kd;return new Promise((r,i)=>{const o=()=>i(new _p(e.reason));if(e.aborted){o();return}n=EN(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Kd})}var yW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof _p?"cancelled":"rejected",error:n}}finally{t==null||t()}},Hd=e=>t=>bN(xN(e,t).then(n=>(Zo(e),n))),SN=e=>{const t=Hd(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:ha}=Object,FS={},bp="listenerMiddleware",wW=(e,t)=>{const n=r=>EN(e,()=>Jo(r,e.reason));return(r,i)=>{$w(r);const o=new AbortController;n(o);const s=yW(async()=>{Zo(e),Zo(o.signal);const a=await r({pause:Hd(o.signal),delay:SN(o.signal),signal:o.signal});return Zo(o.signal),a},()=>Jo(o,gW));return i!=null&&i.autoJoin&&t.push(s.catch(Kd)),{result:Hd(e)(s),cancel(){Jo(o,mW)}}}},_W=(e,t)=>{const n=async(r,i)=>{Zo(t);let o=()=>{};const a=[new Promise((l,u)=>{let c=e({predicate:r,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await xN(t,Promise.race(a));return Zo(t),l}finally{o()}};return(r,i)=>bN(n(r,i))},TN=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=rr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Vn(21));return $w(o),{predicate:i,type:t,effect:o}},PN=ha(e=>{const{type:t,predicate:n,effect:r}=TN(e);return{id:iW(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Vn(22))}}},{withTypes:()=>PN}),$S=(e,t)=>{const{type:n,effect:r,predicate:i}=TN(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Gv=e=>{e.pending.forEach(t=>{Jo(t,qv)})},bW=(e,t)=>()=>{for(const n of t.keys())Gv(n);e.clear()},US=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},IN=ha(rr(`${bp}/add`),{withTypes:()=>IN}),EW=rr(`${bp}/removeAll`),AN=ha(rr(`${bp}/remove`),{withTypes:()=>AN}),xW=(...e)=>{console.error(`${bp}/error`,...e)},sc=(e={})=>{const t=new Map,n=new Map,r=p=>{const v=n.get(p)??0;n.set(p,v+1)},i=p=>{const v=n.get(p)??1;v===1?n.delete(p):n.set(p,v-1)},{extra:o,onError:s=xW}=e;$w(s);const a=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),v=>{p.unsubscribe(),v!=null&&v.cancelActive&&Gv(p)}),l=p=>{const v=$S(t,p)??PN(p);return a(v)};ha(l,{withTypes:()=>l});const u=p=>{const v=$S(t,p);return v&&(v.unsubscribe(),p.cancelActive&&Gv(v)),!!v};ha(u,{withTypes:()=>u});const c=async(p,v,_,y)=>{const w=new AbortController,x=_W(l,w.signal),S=[];try{p.pending.add(w),r(p),await Promise.resolve(p.effect(v,ha({},_,{getOriginalState:y,condition:(R,C)=>x(R,C).then(Boolean),take:x,delay:SN(w.signal),pause:Hd(w.signal),extra:o,signal:w.signal,fork:wW(w.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((R,C,j)=>{R!==w&&(Jo(R,qv),j.delete(R))})},cancel:()=>{Jo(w,qv),p.pending.delete(w)},throwIfCancelled:()=>{Zo(w.signal)}})))}catch(R){R instanceof _p||US(s,R,{raisedBy:"effect"})}finally{await Promise.all(S),Jo(w,vW),i(p),p.pending.delete(w)}},d=bW(t,n);return{middleware:p=>v=>_=>{if(!sN(_))return v(_);if(IN.match(_))return l(_.payload);if(EW.match(_)){d();return}if(AN.match(_))return u(_.payload);let y=p.getState();const w=()=>{if(y===FS)throw new Error(Vn(23));return y};let x;try{if(x=v(_),t.size>0){const S=p.getState(),R=Array.from(t.values());for(const C of R){let j=!1;try{j=C.predicate(_,S,y)}catch(I){j=!1,US(s,I,{raisedBy:"predicate"})}j&&c(C,_,p,w)}}}finally{y=FS}return x},startListening:l,stopListening:u,clearListeners:d}};function Vn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var SW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},CN=In({name:"chartLayout",initialState:SW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:TW,setLayout:PW,setChartSize:IW,setScale:AW}=CN.actions,CW=CN.reducer;function kN(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function zS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(n),!0).forEach(function(r){kW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kW(e,t,n){return(t=OW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OW(e){var t=NW(e,"string");return typeof t=="symbol"?t:t+""}function NW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fn(e,t,n){return kt(e)||kt(t)?n:Ur(t)?hp(e,t,n):typeof t=="function"?t(e):n}var RW=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:a}=t;if((a==="vertical"||a==="horizontal"&&s==="middle")&&o!=="center"&&oe(e[o]))return ta(ta({},e),{},{[o]:e[o]+(r||0)});if((a==="horizontal"||a==="vertical"&&o==="center")&&s!=="middle"&&oe(e[s]))return ta(ta({},e),{},{[s]:e[s]+(i||0)})}return e},xo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ON=(e,t,n,r)=>{if(r)return e.map(a=>a.coordinate);var i,o,s=e.map(a=>(a.coordinate===t&&(i=!0),a.coordinate===n&&(o=!0),a.coordinate));return i||s.push(t),o||s.push(n),s},NN=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:a,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:h,axisType:p}=e;if(!s)return null;var v=a==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,_=i==="category"&&s.bandwidth?s.bandwidth()/v:0;if(_=p==="angleAxis"&&o&&o.length>=2?Xn(o[0]-o[1])*2*_:_,d||h){var y=(d||h||[]).map((w,x)=>{var S=r?r.indexOf(w):w;return{coordinate:s(S)+_,value:w,offset:_,index:x}});return y.filter(w=>!$r(w.coordinate))}return l&&u?u.map((w,x)=>({coordinate:s(w)+_,value:w,index:x,offset:_})):s.ticks&&c!=null?s.ticks(c).map((w,x)=>({coordinate:s(w)+_,value:w,offset:_,index:x})):s.domain().map((w,x)=>({coordinate:s(w)+_,value:r?r[w]:w,index:x,offset:_}))},BS=1e-4,DW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-BS,o=Math.max(r[0],r[1])+BS,s=e(t[0]),a=e(t[n-1]);(s<i||s>o||a<i||a>o)&&e.domain([t[0],t[n-1]])}},jW=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,s=0;s<t;++s){var a=$r(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=i,e[s][n][1]=i+a,i=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+a,o=e[s][n][1])}},MW=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var s=$r(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},LW={sign:jW,expand:b9,none:Oa,silhouette:E9,wiggle:x9,positive:MW},VW=(e,t,n)=>{var r=LW[n],i=_9().keys(t).value((o,s)=>Number(fn(o,s,0))).order(Vv).offset(r);return i(e)};function WS(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!kt(i[t.dataKey])){var a=SO(n,"value",i[t.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=fn(i,kt(s)?t.dataKey:s);return kt(l)?null:t.scale(l)}var FW=e=>{var t=e.flat(2).filter(oe);return[Math.min(...t),Math.max(...t)]},$W=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],UW=(e,t,n)=>{if(e!=null)return $W(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:s}=o,a=s.reduce((l,u)=>{var c=kN(u,t,n),d=FW(c);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},KS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qd=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=gp(t,c=>c.coordinate),o=1/0,s=1,a=i.length;s<a;s++){var l=i[s],u=i[s-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function qS(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return ta(ta({},t),{},{dataKey:n,payload:r,value:i,name:o})}function RN(e,t){if(e)return String(e);if(typeof t=="string")return t}var zW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},BW=(e,t)=>t==="centric"?e.angle:e.radius,Ii=e=>e.layout.width,Ai=e=>e.layout.height,WW=e=>e.layout.scale,DN=e=>e.layout.margin,Ep=F(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),xp=F(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),KW="data-recharts-item-index",HW="data-recharts-item-data-key",ac=60;function GS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(n),!0).forEach(function(r){qW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qW(e,t,n){return(t=GW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=YW(e,"string");return typeof t=="symbol"?t:t+""}function YW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QW=e=>e.brush.height;function XW(e){var t=xp(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ac;return n+i}return n},0)}function JW(e){var t=xp(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ac;return n+i}return n},0)}function ZW(e){var t=Ep(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function e8(e){var t=Ep(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Bt=F([Ii,Ai,DN,QW,XW,JW,ZW,e8,nN,k5],(e,t,n,r,i,o,s,a,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+o},d={top:(n.top||0)+s,bottom:(n.bottom||0)+a},h=hf(hf({},d),c),p=h.bottom;h.bottom+=r,h=RW(h,l,u);var v=e-h.left-h.right,_=t-h.top-h.bottom;return hf(hf({brushBottom:p},h),{},{width:Math.max(v,0),height:Math.max(_,0)})}),t8=F(Bt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),jN=F(Ii,Ai,(e,t)=>({x:0,y:0,width:e,height:t})),n8=b.createContext(null),An=()=>b.useContext(n8)!=null,Sp=e=>e.brush,Tp=F([Sp,Bt,DN],(e,t,n)=>({height:e.height,x:oe(e.x)?e.x:t.left,y:oe(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:oe(e.width)?e.width:t.width})),MN={},LN={},VN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let s,a=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{a!==null&&(n.apply(s,a),s=void 0,a=null)},d=()=>{u&&c(),_()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},r)},v=()=>{h!==null&&(clearTimeout(h),h=null)},_=()=>{v(),s=void 0,a=null},y=()=>{c()},w=function(...x){if(i!=null&&i.aborted)return;s=this,a=x;const S=h==null;p(),l&&S&&c()};return w.schedule=p,w.cancel=_,w.flush=y,i==null||i.addEventListener("abort",_,{once:!0}),w}e.debounce=t})(VN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VN;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:a=!0,maxWait:l}=o,u=Array(2);s&&(u[0]="leading"),a&&(u[1]="trailing");let c,d=null;const h=t.debounce(function(..._){c=r.apply(this,_),d=null},i,{edges:u}),p=function(..._){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=r.apply(this,_),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,_),c)},v=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=v,p}e.debounce=n})(LN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LN;function n(r,i=0,o={}){const{leading:s=!0,trailing:a=!0}=o;return t.debounce(r,i,{leading:s,maxWait:i,trailing:a})}e.throttle=n})(MN);var r8=MN.throttle;const i8=Ti(r8);var Gd=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},FN=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:s}=n,a=wi(r)?e:Number(r),l=wi(i)?t:Number(i);return o&&o>0&&(a?l=a/o:l&&(a=l*o),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:a,calculatedHeight:l}},o8={width:0,height:0,overflow:"visible"},s8={width:0,overflowX:"visible"},a8={height:0,overflowY:"visible"},l8={},u8=e=>{var{width:t,height:n}=e,r=wi(t),i=wi(n);return r&&i?o8:r?s8:i?a8:l8};function c8(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Ot(e){return Number.isFinite(e)}function zr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yv.apply(null,arguments)}function YS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(n),!0).forEach(function(r){f8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f8(e,t,n){return(t=d8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d8(e){var t=h8(e,"string");return typeof t=="symbol"?t:t+""}function h8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $N=b.createContext({width:-1,height:-1});function p8(e){return zr(e.width)&&zr(e.height)}function UN(e){var{children:t,width:n,height:r}=e,i=b.useMemo(()=>({width:n,height:r}),[n,r]);return p8(i)?b.createElement($N.Provider,{value:i},t):null}var Uw=()=>b.useContext($N),m8=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:s=0,minHeight:a,maxHeight:l,children:u,debounce:c=0,id:d,className:h,onResize:p,style:v={}}=e,_=b.useRef(null),y=b.useRef();y.current=p,b.useImperativeHandle(t,()=>_.current);var[w,x]=b.useState({containerWidth:r.width,containerHeight:r.height}),S=b.useCallback((T,P)=>{x(k=>{var N=Math.round(T),D=Math.round(P);return k.containerWidth===N&&k.containerHeight===D?k:{containerWidth:N,containerHeight:D}})},[]);b.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return qa;var T=D=>{var O,{width:$,height:B}=D[0].contentRect;S($,B),(O=y.current)===null||O===void 0||O.call(y,$,B)};c>0&&(T=i8(T,c,{trailing:!0,leading:!1}));var P=new ResizeObserver(T),{width:k,height:N}=_.current.getBoundingClientRect();return S(k,N),P.observe(_.current),()=>{P.disconnect()}},[S,c]);var{containerWidth:R,containerHeight:C}=w;Gd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:I}=FN(R,C,{width:i,height:o,aspect:n,maxHeight:l});return Gd(j!=null&&j>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,I,i,o,s,a,n),b.createElement("div",{id:d?"".concat(d):void 0,className:De("recharts-responsive-container",h),style:QS(QS({},v),{},{width:i,height:o,minWidth:s,minHeight:a,maxHeight:l}),ref:_},b.createElement("div",{style:u8({width:i,height:o})},b.createElement(UN,{width:j,height:I},u)))}),g8=b.forwardRef((e,t)=>{var n=Uw();if(zr(n.width)&&zr(n.height))return e.children;var{width:r,height:i}=c8({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:s}=FN(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return oe(o)&&oe(s)?b.createElement(UN,{width:o,height:s},e.children):b.createElement(m8,Yv({},e,{width:r,height:i,ref:t}))});function zN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Pp=()=>{var e,t=An(),n=ie(t8),r=ie(Tp),i=(e=ie(Sp))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},v8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BN=()=>{var e;return(e=ie(Bt))!==null&&e!==void 0?e:v8},zw=()=>ie(Ii),Bw=()=>ie(Ai),y8=()=>ie(e=>e.layout.margin),We=e=>e.layout.layoutType,Ip=()=>ie(We),w8=()=>{var e=Ip();return e!==void 0},Ap=e=>{var t=ft(),n=An(),{width:r,height:i}=e,o=Uw(),s=r,a=i;return o&&(s=o.width>0?o.width:r,a=o.height>0?o.height:i),b.useEffect(()=>{!n&&zr(s)&&zr(a)&&t(IW({width:s,height:a}))},[t,n,s,a]),null},_8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},WN=In({name:"legend",initialState:_8,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:mt()},removeLegendPayload:{reducer(e,t){var n=ui(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:mt()}}}),{setLegendSize:XS,setLegendSettings:b8,addLegendPayload:E8,removeLegendPayload:x8}=WN.actions,S8=WN.reducer,T8=["contextPayload"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qv.apply(null,arguments)}function JS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(n),!0).forEach(function(r){P8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P8(e,t,n){return(t=I8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I8(e){var t=A8(e,"string");return typeof t=="symbol"?t:t+""}function A8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C8(e,t){if(e==null)return{};var n,r,i=k8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function O8(e){return e.value}function N8(e){var{contextPayload:t}=e,n=C8(e,T8),r=KO(t,e.payloadUniqBy,O8),i=Ra(Ra({},n),{},{payload:r});return b.isValidElement(e.content)?b.cloneElement(e.content,i):typeof e.content=="function"?b.createElement(e.content,i):b.createElement(Y9,i)}function R8(e,t,n,r,i,o){var{layout:s,align:a,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(a==="center"&&s==="vertical"?u={left:((r||0)-o.width)/2}:u=a==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-o.height)/2}:c=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ra(Ra({},u),c)}function D8(e){var t=ft();return b.useEffect(()=>{t(b8(e))},[t,e]),null}function j8(e){var t=ft();return b.useEffect(()=>(t(XS(e)),()=>{t(XS({width:0,height:0}))}),[t,e]),null}function M8(e,t,n,r){return e==="vertical"&&oe(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var L8={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function KN(e){var t=rn(e,L8),n=R5(),r=W6(),i=y8(),{width:o,height:s,wrapperStyle:a,portal:l}=t,[u,c]=rN([n]),d=zw(),h=Bw();if(d==null||h==null)return null;var p=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),v=M8(t.layout,s,o,p),_=l?a:Ra(Ra({position:"absolute",width:(v==null?void 0:v.width)||o||"auto",height:(v==null?void 0:v.height)||s||"auto"},R8(a,t,i,d,h,u)),a),y=l??r;if(y==null||n==null)return null;var w=b.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:c},b.createElement(D8,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),b.createElement(j8,{width:u.width,height:u.height}),b.createElement(N8,Qv({},t,v,{margin:i,chartWidth:d,chartHeight:h,contextPayload:n})));return Fh.createPortal(w,y)}KN.displayName="Legend";function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(null,arguments)}function ZS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(n),!0).forEach(function(r){V8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V8(e,t,n){return(t=F8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F8(e){var t=$8(e,"string");return typeof t=="symbol"?t:t+""}function $8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U8(e){return Array.isArray(e)&&Ur(e[0])&&Ur(e[1])?e.join(" ~ "):e}var z8=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:a,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:h=!1}=e,p=()=>{if(o&&o.length){var C={padding:0,margin:0},j=(a?gp(o,a):o).map((I,T)=>{if(I.type==="none")return null;var P=I.formatter||s||U8,{value:k,name:N}=I,D=k,O=N;if(P){var $=P(k,N,I,T,o);if(Array.isArray($))[D,O]=$;else if($!=null)D=$;else return null}var B=eg({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:B},Ur(O)?b.createElement("span",{className:"recharts-tooltip-item-name"},O):null,Ur(O)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},D),b.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:C},j)}return null},v=eg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=eg({margin:0},i),y=!kt(c),w=y?c:"",x=De("recharts-default-tooltip",l),S=De("recharts-tooltip-label",u);y&&d&&o!==void 0&&o!==null&&(w=d(c,o));var R=h?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Xv({className:x,style:v},R),b.createElement("p",{className:S,style:_},b.isValidElement(w)?w:"".concat(w)),p())},Tl="recharts-tooltip-wrapper",B8={visibility:"hidden"};function W8(e){var{coordinate:t,translateX:n,translateY:r}=e;return De(Tl,{["".concat(Tl,"-right")]:oe(n)&&t&&oe(t.x)&&n>=t.x,["".concat(Tl,"-left")]:oe(n)&&t&&oe(t.x)&&n<t.x,["".concat(Tl,"-bottom")]:oe(r)&&t&&oe(t.y)&&r>=t.y,["".concat(Tl,"-top")]:oe(r)&&t&&oe(t.y)&&r<t.y})}function eT(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:a,viewBox:l,viewBoxDimension:u}=e;if(o&&oe(o[r]))return o[r];var c=n[r]-a-(i>0?i:0),d=n[r]+i;if(t[r])return s[r]?c:d;var h=l[r];if(h==null)return 0;if(s[r]){var p=c,v=h;return p<v?Math.max(d,h):Math.max(c,h)}if(u==null)return 0;var _=d+a,y=h+u;return _>y?Math.max(c,h):Math.max(d,h)}function K8(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function H8(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:a,viewBox:l}=e,u,c,d;return s.height>0&&s.width>0&&n?(c=eT({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=eT({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=K8({translateX:c,translateY:d,useTranslate3d:a})):u=B8,{cssProperties:u,cssClasses:W8({translateX:c,translateY:d,coordinate:n})}}function tT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(n),!0).forEach(function(r){Jv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jv(e,t,n){return(t=q8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q8(e){var t=G8(e,"string");return typeof t=="symbol"?t:t+""}function G8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Y8 extends b.PureComponent{constructor(){super(...arguments),Jv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Jv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:a,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:v,lastBoundingBox:_,innerRef:y,hasPortalFromProps:w}=this.props,{cssClasses:x,cssProperties:S}=H8({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:_.height,width:_.width},useTranslate3d:h,viewBox:p}),R=w?{}:pf(pf({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&a?"visible":"hidden",position:"absolute",top:0,left:0}),C=pf(pf({},R),{},{visibility:!this.state.dismissed&&t&&a?"visible":"hidden"},v);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:C,ref:y},o)}}var Q8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ga={devToolsEnabled:!1,isSsr:Q8()},HN=()=>{var e;return(e=ie(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zv.apply(null,arguments)}function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(n),!0).forEach(function(r){X8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X8(e,t,n){return(t=J8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J8(e){var t=Z8(e,"string");return typeof t=="symbol"?t:t+""}function Z8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iT={curveBasisClosed:u9,curveBasisOpen:c9,curveBasis:l9,curveBumpX:G6,curveBumpY:Y6,curveLinearClosed:f9,curveLinear:lp,curveMonotoneX:d9,curveMonotoneY:h9,curveNatural:p9,curveStep:m9,curveStepAfter:v9,curveStepBefore:g9},Yd=e=>Ot(e.x)&&Ot(e.y),oT=e=>e.base!=null&&Yd(e.base)&&Yd(e),Pl=e=>e.x,Il=e=>e.y,eK=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(ic(e));return(n==="curveMonotone"||n==="curveBump")&&t?iT["".concat(n).concat(t==="vertical"?"Y":"X")]:iT[n]||lp},tK=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,s=eK(t,i),a=o?n.filter(Yd):n,l;if(Array.isArray(r)){var u=n.map((p,v)=>rT(rT({},p),{},{base:r[v]}));i==="vertical"?l=af().y(Il).x1(Pl).x0(p=>p.base.x):l=af().x(Pl).y1(Il).y0(p=>p.base.y);var c=l.defined(oT).curve(s),d=o?u.filter(oT):u;return c(d)}i==="vertical"&&oe(r)?l=af().y(Il).x1(Pl).x0(r):oe(r)?l=af().x(Pl).y1(Il).y0(r):l=cO().x(Pl).y(Il);var h=l.defined(Yd).curve(s);return h(a)},qN=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?tK(e):r;return b.createElement("path",Zv({},Fr(e),xw(e),{className:De("recharts-curve",t),d:o===null?void 0:o,ref:i}))},nK=["x","y","top","left","width","height","className"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(null,arguments)}function sT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(n),!0).forEach(function(r){iK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iK(e,t,n){return(t=oK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oK(e){var t=sK(e,"string");return typeof t=="symbol"?t:t+""}function sK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aK(e,t){if(e==null)return{};var n,r,i=lK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uK=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),cK=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:a}=e,l=aK(e,nK),u=rK({x:t,y:n,top:r,left:i,width:o,height:s},l);return!oe(t)||!oe(n)||!oe(o)||!oe(s)||!oe(r)||!oe(i)?null:b.createElement("path",ey({},dn(u),{className:De("recharts-cross",a),d:uK(t,n,o,s,r,i)}))};function fK(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(r){dK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dK(e,t,n){return(t=hK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hK(e){var t=pK(e,"string");return typeof t=="symbol"?t:t+""}function pK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mK=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),GN=(e,t,n)=>e.map(r=>"".concat(mK(r)," ").concat(t,"ms ").concat(n)).join(","),gK=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Du=(e,t)=>Object.keys(t).reduce((n,r)=>lT(lT({},n),{},{[r]:e(r,t[r])}),{});function uT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(n),!0).forEach(function(r){vK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vK(e,t,n){return(t=yK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yK(e){var t=wK(e,"string");return typeof t=="symbol"?t:t+""}function wK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd=(e,t,n)=>e+(t-e)*n,ty=e=>{var{from:t,to:n}=e;return t!==n},YN=(e,t,n)=>{var r=Du((i,o)=>{if(ty(o)){var[s,a]=e(o.from,o.to,o.velocity);return pt(pt({},o),{},{from:s,velocity:a})}return o},t);return n<1?Du((i,o)=>ty(o)?pt(pt({},o),{},{velocity:Qd(o.velocity,r[i].velocity,n),from:Qd(o.from,r[i].from,n)}):o,t):YN(e,r,n-1)};function _K(e,t,n,r,i,o){var s,a=r.reduce((h,p)=>pt(pt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>Du((h,p)=>p.from,a),u=()=>!Object.values(a).filter(ty).length,c=null,d=h=>{s||(s=h);var p=h-s,v=p/n.dt;a=YN(n,a,v),i(pt(pt(pt({},e),t),l())),s=h,u()||(c=o.setTimeout(d))};return()=>(c=o.setTimeout(d),()=>{var h;(h=c)===null||h===void 0||h()})}function bK(e,t,n,r,i,o,s){var a=null,l=i.reduce((d,h)=>pt(pt({},d),{},{[h]:[e[h],t[h]]}),{}),u,c=d=>{u||(u=d);var h=(d-u)/r,p=Du((_,y)=>Qd(...y,n(h)),l);if(o(pt(pt(pt({},e),t),p)),h<1)a=s.setTimeout(c);else{var v=Du((_,y)=>Qd(...y,n(1)),l);o(pt(pt(pt({},e),t),v))}};return()=>(a=s.setTimeout(c),()=>{var d;(d=a)===null||d===void 0||d()})}const EK=(e,t,n,r,i,o)=>{var s=gK(e,t);return n==null?()=>(i(pt(pt({},e),t)),()=>{}):n.isStepper===!0?_K(e,t,n,s,i,o):bK(e,t,n,r,s,i,o)};var Xd=1e-4,QN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],XN=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),cT=(e,t)=>n=>{var r=QN(e,t);return XN(r,n)},xK=(e,t)=>n=>{var r=QN(e,t),i=[...r.map((o,s)=>o*s).slice(1),0];return XN(i,n)},SK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=o[1].split(")")[0].split(",").map(a=>parseFloat(a));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},TK=(e,t,n,r)=>{var i=cT(e,n),o=cT(t,r),s=xK(e,n),a=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,h=0;h<8;++h){var p=i(d)-c,v=s(d);if(Math.abs(p-c)<Xd||v<Xd)return o(d);d=a(d-p/v)}return o(d)};return l.isStepper=!1,l},fT=function(){return TK(...SK(...arguments))},PK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(s,a,l)=>{var u=-(s-a)*n,c=l*r,d=l+(u-c)*i/1e3,h=l*i/1e3+s;return Math.abs(h-a)<Xd&&Math.abs(d)<Xd?[a,0]:[h,d]};return o.isStepper=!0,o.dt=i,o},IK=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fT(e);case"spring":return PK();default:if(e.split("(")[0]==="cubic-bezier")return fT(e)}return typeof e=="function"?e:null};function AK(e){var t,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,[l,...u]=a;if(typeof l=="number"){i=e.setTimeout(o.bind(null,u),l);return}o(l),i=e.setTimeout(o.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class CK{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function kK(){return AK(new CK)}var OK=b.createContext(kK);function NK(e,t){var n=b.useContext(OK);return b.useMemo(()=>t??n(e),[e,t,n])}var RK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},dT={t:0},tg={t:1};function Ww(e){var t=rn(e,RK),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:a,onAnimationStart:l,children:u}=t,c=NK(t.animationId,t.animationManager),[d,h]=b.useState(n?dT:tg),p=b.useRef(null);return b.useEffect(()=>{n||h(tg)},[n]),b.useEffect(()=>{if(!n||!r)return qa;var v=EK(dT,tg,IK(o),i,h,c.getTimeoutController()),_=()=>{p.current=v()};return c.start([l,s,_,i,a]),()=>{c.stop(),p.current&&p.current(),a()}},[n,r,i,o,s,l,a,c]),u(d.t)}function Kw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(ku(t)),r=b.useRef(e);return r.current!==e&&(n.current=ku(t),r.current=e),n.current}var DK=["radius"],jK=["radius"];function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(r){MK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MK(e,t,n){return(t=LK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd.apply(null,arguments)}function mT(e,t){if(e==null)return{};var n,r,i=FK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gT=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,a=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,h=4;d<h;d++)c[d]=i[d]>o?o:i[d];u="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+a*c[0],",").concat(t)),u+="L ".concat(e+n-a*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+s*c[1])),u+="L ".concat(e+n,",").concat(t+r-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+n-a*c[2],",").concat(t+r)),u+="L ".concat(e+a*c[3],",").concat(t+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-s*c[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+a*p,",").concat(t,`
            L `).concat(e+n-a*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n,",").concat(t+s*p,`
            L `).concat(e+n,",").concat(t+r-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n-a*p,",").concat(t+r,`
            L `).concat(e+a*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+r-s*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},vT={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JN=e=>{var t=rn(e,vT),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&i(Y)}catch{}},[]);var{x:o,y:s,width:a,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:_}=t,y=b.useRef(a),w=b.useRef(l),x=b.useRef(o),S=b.useRef(s),R=b.useMemo(()=>({x:o,y:s,width:a,height:l,radius:u}),[o,s,a,l,u]),C=Kw(R,"rectangle-");if(o!==+o||s!==+s||a!==+a||l!==+l||a===0||l===0)return null;var j=De("recharts-rectangle",c);if(!_){var I=dn(t),{radius:T}=I,P=mT(I,DK);return b.createElement("path",Jd({},P,{radius:typeof u=="number"?u:void 0,className:j,d:gT(o,s,a,l,u)}))}var k=y.current,N=w.current,D=x.current,O=S.current,$="0px ".concat(r===-1?1:r,"px"),B="".concat(r,"px 0px"),J=GN(["strokeDasharray"],h,typeof d=="string"?d:vT.animationEasing);return b.createElement(Ww,{animationId:C,key:C,canBegin:r>0,duration:h,easing:d,isActive:_,begin:p},Y=>{var U=wn(k,a,Y),W=wn(N,l,Y),Z=wn(D,o,Y),pe=wn(O,s,Y);n.current&&(y.current=U,w.current=W,x.current=Z,S.current=pe);var me;v?Y>0?me={transition:J,strokeDasharray:B}:me={strokeDasharray:$}:me={strokeDasharray:B};var we=dn(t),{radius:Le}=we,Ke=mT(we,jK);return b.createElement("path",Jd({},Ke,{radius:typeof u=="number"?u:void 0,className:j,d:gT(Z,pe,U,W,u),ref:n,style:pT(pT({},me),t.style)}))})};function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(r){$K(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $K(e,t,n){return(t=UK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UK(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zd=Math.PI/180,BK=e=>e*180/Math.PI,Vt=(e,t,n,r)=>({x:e+Math.cos(-Zd*r)*n,y:t+Math.sin(-Zd*r)*n}),WK=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},KK=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},HK=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,s=KK({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var a=(n-i)/s,l=Math.acos(a);return r>o&&(l=2*Math.PI-l),{radius:s,angle:BK(l),angleInRadian:l}},qK=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},GK=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return e+s*360},YK=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=HK({x:n,y:r},t),{innerRadius:s,outerRadius:a}=t;if(i<s||i>a||i===0)return null;var{startAngle:l,endAngle:u}=qK(t),c=o,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?wT(wT({},t),{},{radius:i,angle:GK(c,t)}):null};function ZN(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,s=Vt(t,n,r,i),a=Vt(t,n,r,o);return{points:[s,a],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(null,arguments)}var QK=(e,t)=>{var n=Xn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},mf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:a,cornerIsExternal:l}=e,u=a*(s?1:-1)+r,c=Math.asin(a/u)/Zd,d=l?i:i+o*c,h=Vt(t,n,u,d),p=Vt(t,n,r,d),v=l?i-o*c:i,_=Vt(t,n,u*Math.cos(c*Zd),v);return{center:h,circleTangency:p,lineTangency:_,theta:c}},eR=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=e,a=QK(o,s),l=o+a,u=Vt(t,n,i,o),c=Vt(t,n,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(o>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var h=Vt(t,n,r,o),p=Vt(t,n,r,l);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(o<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},XK=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:a,startAngle:l,endAngle:u}=e,c=Xn(u-l),{circleTangency:d,lineTangency:h,theta:p}=mf({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:a}),{circleTangency:v,lineTangency:_,theta:y}=mf({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:a}),w=a?Math.abs(l-u):Math.abs(l-u)-p-y;if(w<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):eR({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(c<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:S,lineTangency:R,theta:C}=mf({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),{circleTangency:j,lineTangency:I,theta:T}=mf({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),P=a?Math.abs(l-u):Math.abs(l-u)-C-T;if(P<0&&o===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(c>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(R.x,",").concat(R.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x},JK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tR=e=>{var t=rn(e,JK),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(o<i||u===c)return null;var h=De("recharts-sector",d),p=o-i,v=wo(s,p,0,!0),_;return v>0&&Math.abs(u-c)<360?_=XK({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,p/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c}):_=eR({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),b.createElement("path",ny({},dn(t),{className:h,d:_}))};function ZK(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(PO(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:s,angle:a}=t,l=Vt(r,i,o,a),u=Vt(r,i,s,a);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return ZN(t)}}var nR={},rR={},iR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dw;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(iR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iR;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(rR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jw,n=rR;function r(i,o,s){s&&typeof s!="number"&&t.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const a=Math.max(Math.ceil((o-i)/(s||1)),0),l=new Array(a);for(let u=0;u<a;u++)l[u]=i,i+=s;return l}e.range=r})(nR);var eH=nR.range;const oR=Ti(eH);function fo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hw(e){let t,n,r;e.length!==2?(t=fo,n=(a,l)=>fo(e(a),l),r=(a,l)=>e(a)-l):(t=e===fo||e===tH?e:nH,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function nH(){return 0}function sR(e){return e===null?NaN:+e}function*rH(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const iH=Hw(fo),lc=iH.right;Hw(sR).center;class _T extends Map{constructor(t,n=aH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(bT(this,t))}has(t){return super.has(bT(this,t))}set(t,n){return super.set(oH(this,t),n)}delete(t){return super.delete(sH(this,t))}}function bT({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function oH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function sH({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function aH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function lH(e=fo){if(e===fo)return aR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function aR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const uH=Math.sqrt(50),cH=Math.sqrt(10),fH=Math.sqrt(2);function eh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=uH?10:o>=cH?5:o>=fH?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?eh(e,t,n*2):[a,l,u]}function ry(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?eh(t,e,n):eh(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function iy(e,t,n){return t=+t,e=+e,n=+n,eh(e,t,n)[2]}function oy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?iy(t,e,n):iy(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ET(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function xT(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lR(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?aR:lH(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*d/l+h)),v=Math.min(r,Math.floor(t+(l-u)*d/l+h));lR(e,t,p,v,i)}const o=e[t];let s=n,a=r;for(Al(e,n,t),i(e[r],o)>0&&Al(e,n,r);s<a;){for(Al(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?Al(e,n,a):(++a,Al(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Al(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function dH(e,t,n){if(e=Float64Array.from(rH(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return xT(e);if(t>=1)return ET(e);var r,i=(r-1)*t,o=Math.floor(i),s=ET(lR(e,o).subarray(0,o+1)),a=xT(e.subarray(o+1));return s+(a-s)*(i-o)}}function hH(e,t,n=sR){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function pH(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function or(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ci(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sy=Symbol("implicit");function qw(){var e=new _T,t=[],n=[],r=sy;function i(o){let s=e.get(o);if(s===void 0){if(r!==sy)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new _T;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qw(t,n).unknown(r)},or.apply(i,arguments),i}function Gw(){var e=qw().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var h=t().length,p=i<r,v=p?i:r,_=p?r:i;o=(_-v)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),v+=(_-v-o*(h-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var y=pH(h).map(function(w){return v+o*w});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(h){return arguments.length?(a=!!h,d()):a},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return Gw(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},or.apply(d(),arguments)}function uR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return uR(t())},e}function mH(){return uR(Gw.apply(null,arguments).paddingInner(1))}function Yw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function cR(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function uc(){}var ju=.7,th=1/ju,pa="\\s*([+-]?\\d+)\\s*",Mu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gH=/^#([0-9a-f]{3,8})$/,vH=new RegExp(`^rgb\\(${pa},${pa},${pa}\\)$`),yH=new RegExp(`^rgb\\(${Dr},${Dr},${Dr}\\)$`),wH=new RegExp(`^rgba\\(${pa},${pa},${pa},${Mu}\\)$`),_H=new RegExp(`^rgba\\(${Dr},${Dr},${Dr},${Mu}\\)$`),bH=new RegExp(`^hsl\\(${Mu},${Dr},${Dr}\\)$`),EH=new RegExp(`^hsla\\(${Mu},${Dr},${Dr},${Mu}\\)$`),ST={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yw(uc,Lu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TT,formatHex:TT,formatHex8:xH,formatHsl:SH,formatRgb:PT,toString:PT});function TT(){return this.rgb().formatHex()}function xH(){return this.rgb().formatHex8()}function SH(){return fR(this).formatHsl()}function PT(){return this.rgb().formatRgb()}function Lu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?IT(t):n===3?new bn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?gf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?gf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vH.exec(e))?new bn(t[1],t[2],t[3],1):(t=yH.exec(e))?new bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wH.exec(e))?gf(t[1],t[2],t[3],t[4]):(t=_H.exec(e))?gf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bH.exec(e))?kT(t[1],t[2]/100,t[3]/100,1):(t=EH.exec(e))?kT(t[1],t[2]/100,t[3]/100,t[4]):ST.hasOwnProperty(e)?IT(ST[e]):e==="transparent"?new bn(NaN,NaN,NaN,0):null}function IT(e){return new bn(e>>16&255,e>>8&255,e&255,1)}function gf(e,t,n,r){return r<=0&&(e=t=n=NaN),new bn(e,t,n,r)}function TH(e){return e instanceof uc||(e=Lu(e)),e?(e=e.rgb(),new bn(e.r,e.g,e.b,e.opacity)):new bn}function ay(e,t,n,r){return arguments.length===1?TH(e):new bn(e,t,n,r??1)}function bn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Yw(bn,ay,cR(uc,{brighter(e){return e=e==null?th:Math.pow(th,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ju:Math.pow(ju,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bn(es(this.r),es(this.g),es(this.b),nh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AT,formatHex:AT,formatHex8:PH,formatRgb:CT,toString:CT}));function AT(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}`}function PH(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}${Ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function CT(){const e=nh(this.opacity);return`${e===1?"rgb(":"rgba("}${es(this.r)}, ${es(this.g)}, ${es(this.b)}${e===1?")":`, ${e})`}`}function nh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function es(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ko(e){return e=es(e),(e<16?"0":"")+e.toString(16)}function kT(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pr(e,t,n,r)}function fR(e){if(e instanceof pr)return new pr(e.h,e.s,e.l,e.opacity);if(e instanceof uc||(e=Lu(e)),!e)return new pr;if(e instanceof pr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new pr(s,a,l,e.opacity)}function IH(e,t,n,r){return arguments.length===1?fR(e):new pr(e,t,n,r??1)}function pr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Yw(pr,IH,cR(uc,{brighter(e){return e=e==null?th:Math.pow(th,e),new pr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ju:Math.pow(ju,e),new pr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new bn(ng(e>=240?e-240:e+120,i,r),ng(e,i,r),ng(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new pr(OT(this.h),vf(this.s),vf(this.l),nh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nh(this.opacity);return`${e===1?"hsl(":"hsla("}${OT(this.h)}, ${vf(this.s)*100}%, ${vf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OT(e){return e=(e||0)%360,e<0?e+360:e}function vf(e){return Math.max(0,Math.min(1,e||0))}function ng(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Qw=e=>()=>e;function AH(e,t){return function(n){return e+n*t}}function CH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function kH(e){return(e=+e)==1?dR:function(t,n){return n-t?CH(t,n,e):Qw(isNaN(t)?n:t)}}function dR(e,t){var n=t-e;return n?AH(e,n):Qw(isNaN(e)?t:e)}const NT=function e(t){var n=kH(t);function r(i,o){var s=n((i=ay(i)).r,(o=ay(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=dR(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function OH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function NH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ya(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function DH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function rh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function jH(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ya(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ly=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rg=new RegExp(ly.source,"g");function MH(e){return function(){return e}}function LH(e){return function(t){return e(t)+""}}function VH(e,t){var n=ly.lastIndex=rg.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=ly.exec(e))&&(i=rg.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:rh(r,i)})),n=rg.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?LH(l[0].x):MH(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Ya(e,t){var n=typeof t,r;return t==null||n==="boolean"?Qw(t):(n==="number"?rh:n==="string"?(r=Lu(t))?(t=r,NT):VH:t instanceof Lu?NT:t instanceof Date?DH:NH(t)?OH:Array.isArray(t)?RH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jH:rh)(e,t)}function Xw(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function FH(e,t){t===void 0&&(t=e,e=Ya);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function $H(e){return function(){return e}}function ih(e){return+e}var RT=[0,1];function ln(e){return e}function uy(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$H(isNaN(t)?NaN:.5)}function UH(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function zH(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=uy(i,r),o=n(s,o)):(r=uy(r,i),o=n(o,s)),function(a){return o(r(a))}}function BH(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=uy(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=lc(e,a,1,r)-1;return o[l](i[l](a))}}function cc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Cp(){var e=RT,t=RT,n=Ya,r,i,o,s=ln,a,l,u;function c(){var h=Math.min(e.length,t.length);return s!==ln&&(s=UH(e[0],e[h-1])),a=h>2?BH:zH,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(e.map(r),t,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=a(t,e.map(r),rh)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,ih),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=Xw,c()},d.clamp=function(h){return arguments.length?(s=h?!0:ln,c()):s!==ln},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return r=h,i=p,c()}}function Jw(){return Cp()(ln,ln)}function WH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function oh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Da(e){return e=oh(Math.abs(e)),e?e[1]:NaN}function KH(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function HH(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var qH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vu(e){if(!(t=qH.exec(e)))throw new Error("invalid format: "+e);var t;return new Zw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vu.prototype=Zw.prototype;function Zw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Zw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GH(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var hR;function YH(e,t){var n=oh(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(hR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+oh(e,Math.max(0,t+o-1))[0]}function DT(e,t){var n=oh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:WH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>DT(e*100,t),r:DT,s:YH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function MT(e){return e}var LT=Array.prototype.map,VT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function QH(e){var t=e.grouping===void 0||e.thousands===void 0?MT:KH(LT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?MT:HH(LT.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Vu(d);var h=d.fill,p=d.align,v=d.sign,_=d.symbol,y=d.zero,w=d.width,x=d.comma,S=d.precision,R=d.trim,C=d.type;C==="n"?(x=!0,C="g"):jT[C]||(S===void 0&&(S=12),R=!0,C="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var j=_==="$"?n:_==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",I=_==="$"?r:/[%p]/.test(C)?s:"",T=jT[C],P=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function k(N){var D=j,O=I,$,B,J;if(C==="c")O=T(N)+O,N="";else{N=+N;var Y=N<0||1/N<0;if(N=isNaN(N)?l:T(Math.abs(N),S),R&&(N=GH(N)),Y&&+N==0&&v!=="+"&&(Y=!1),D=(Y?v==="("?v:a:v==="-"||v==="("?"":v)+D,O=(C==="s"?VT[8+hR/3]:"")+O+(Y&&v==="("?")":""),P){for($=-1,B=N.length;++$<B;)if(J=N.charCodeAt($),48>J||J>57){O=(J===46?i+N.slice($+1):N.slice($))+O,N=N.slice(0,$);break}}}x&&!y&&(N=t(N,1/0));var U=D.length+N.length+O.length,W=U<w?new Array(w-U+1).join(h):"";switch(x&&y&&(N=t(W+N,W.length?w-O.length:1/0),W=""),p){case"<":N=D+N+O+W;break;case"=":N=D+W+N+O;break;case"^":N=W.slice(0,U=W.length>>1)+D+N+O+W.slice(U);break;default:N=W+D+N+O;break}return o(N)}return k.toString=function(){return d+""},k}function c(d,h){var p=u((d=Vu(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Da(h)/3)))*3,_=Math.pow(10,-v),y=VT[8+v/3];return function(w){return p(_*w)+y}}return{format:u,formatPrefix:c}}var yf,e_,pR;XH({thousands:",",grouping:[3],currency:["$",""]});function XH(e){return yf=QH(e),e_=yf.format,pR=yf.formatPrefix,yf}function JH(e){return Math.max(0,-Da(Math.abs(e)))}function ZH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Da(t)/3)))*3-Da(Math.abs(e)))}function e7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Da(t)-Da(e))+1}function mR(e,t,n,r){var i=oy(e,t,n),o;switch(r=Vu(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=ZH(i,s))&&(r.precision=o),pR(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=e7(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=JH(i))&&(r.precision=o-(r.type==="%")*2);break}}return e_(r)}function So(e){var t=e.domain;return e.ticks=function(n){var r=t();return ry(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return mR(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=iy(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function gR(){var e=Jw();return e.copy=function(){return cc(e,gR())},or.apply(e,arguments),So(e)}function vR(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ih),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return vR(e).unknown(t)},e=arguments.length?Array.from(e,ih):[0,1],So(n)}function yR(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function FT(e){return Math.log(e)}function $T(e){return Math.exp(e)}function t7(e){return-Math.log(-e)}function n7(e){return-Math.exp(-e)}function r7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function i7(e){return e===10?r7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function o7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function UT(e){return(t,n)=>-e(-t,n)}function t_(e){const t=e(FT,$T),n=t.domain;let r=10,i,o;function s(){return i=o7(r),o=i7(r),n()[0]<0?(i=UT(i),o=UT(o),e(t7,n7)):e(FT,$T),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),p=i(c),v,_;const y=a==null?10:+a;let w=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<r;++v)if(_=h<0?v/o(-h):v*o(h),!(_<u)){if(_>c)break;w.push(_)}}else for(;h<=p;++h)for(v=r-1;v>=1;--v)if(_=h>0?v/o(-h):v*o(h),!(_<u)){if(_>c)break;w.push(_)}w.length*2<y&&(w=ry(u,c,y))}else w=ry(h,p,Math.min(p-h,y)).map(o);return d?w.reverse():w},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Vu(l)).precision==null&&(l.trim=!0),l=e_(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(yR(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function wR(){const e=t_(Cp()).domain([1,10]);return e.copy=()=>cc(e,wR()).base(e.base()),or.apply(e,arguments),e}function zT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function n_(e){var t=1,n=e(zT(t),BT(t));return n.constant=function(r){return arguments.length?e(zT(t=+r),BT(t)):t},So(n)}function _R(){var e=n_(Cp());return e.copy=function(){return cc(e,_R()).constant(e.constant())},or.apply(e,arguments)}function WT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function s7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function a7(e){return e<0?-e*e:e*e}function r_(e){var t=e(ln,ln),n=1;function r(){return n===1?e(ln,ln):n===.5?e(s7,a7):e(WT(n),WT(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},So(t)}function i_(){var e=r_(Cp());return e.copy=function(){return cc(e,i_()).exponent(e.exponent())},or.apply(e,arguments),e}function l7(){return i_.apply(null,arguments).exponent(.5)}function KT(e){return Math.sign(e)*e*e}function u7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function bR(){var e=Jw(),t=[0,1],n=!1,r;function i(o){var s=u7(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(KT(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,ih)).map(KT)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bR(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},or.apply(i,arguments),So(i)}function ER(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=hH(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[lc(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(fo),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return ER().domain(e).range(t).unknown(r)},or.apply(o,arguments)}function xR(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[lc(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return xR().domain([e,t]).range(i).unknown(o)},or.apply(So(s),arguments)}function SR(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[lc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return SR().domain(e).range(t).unknown(n)},or.apply(i,arguments)}const ig=new Date,og=new Date;function wt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>wt(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(ig.setTime(+o),og.setTime(+s),e(ig),e(og),Math.floor(n(ig,og))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const sh=wt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):sh);sh.range;const oi=1e3,Jn=oi*60,si=Jn*60,bi=si*24,o_=bi*7,HT=bi*30,sg=bi*365,Ho=wt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*oi)},(e,t)=>(t-e)/oi,e=>e.getUTCSeconds());Ho.range;const s_=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oi)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getMinutes());s_.range;const a_=wt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getUTCMinutes());a_.range;const l_=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oi-e.getMinutes()*Jn)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getHours());l_.range;const u_=wt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getUTCHours());u_.range;const fc=wt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/bi,e=>e.getDate()-1);fc.range;const kp=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bi,e=>e.getUTCDate()-1);kp.range;const TR=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bi,e=>Math.floor(e/bi));TR.range;function Ts(e){return wt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Jn)/o_)}const Op=Ts(0),ah=Ts(1),c7=Ts(2),f7=Ts(3),ja=Ts(4),d7=Ts(5),h7=Ts(6);Op.range;ah.range;c7.range;f7.range;ja.range;d7.range;h7.range;function Ps(e){return wt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/o_)}const Np=Ps(0),lh=Ps(1),p7=Ps(2),m7=Ps(3),Ma=Ps(4),g7=Ps(5),v7=Ps(6);Np.range;lh.range;p7.range;m7.range;Ma.range;g7.range;v7.range;const c_=wt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());c_.range;const f_=wt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());f_.range;const Ei=wt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ei.range;const xi=wt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});xi.range;function PR(e,t,n,r,i,o){const s=[[Ho,1,oi],[Ho,5,5*oi],[Ho,15,15*oi],[Ho,30,30*oi],[o,1,Jn],[o,5,5*Jn],[o,15,15*Jn],[o,30,30*Jn],[i,1,si],[i,3,3*si],[i,6,6*si],[i,12,12*si],[r,1,bi],[r,2,2*bi],[n,1,o_],[t,1,HT],[t,3,3*HT],[e,1,sg]];function a(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),v=p?p.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,p=Hw(([,,y])=>y).right(s,h);if(p===s.length)return e.every(oy(u/sg,c/sg,d));if(p===0)return sh.every(Math.max(oy(u,c,d),1));const[v,_]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return v.every(_)}return[a,l]}const[y7,w7]=PR(xi,f_,Np,TR,u_,a_),[_7,b7]=PR(Ei,c_,Op,fc,l_,s_);function ag(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function E7(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=kl(i),c=Ol(i),d=kl(o),h=Ol(o),p=kl(s),v=Ol(s),_=kl(a),y=Ol(a),w=kl(l),x=Ol(l),S={a:Y,A:U,b:W,B:Z,c:null,d:JT,e:JT,f:K7,g:tq,G:rq,H:z7,I:B7,j:W7,L:IR,m:H7,M:q7,p:pe,q:me,Q:tP,s:nP,S:G7,u:Y7,U:Q7,V:X7,w:J7,W:Z7,x:null,X:null,y:eq,Y:nq,Z:iq,"%":eP},R={a:we,A:Le,b:Ke,B:Ye,c:null,d:ZT,e:ZT,f:lq,g:yq,G:_q,H:oq,I:sq,j:aq,L:CR,m:uq,M:cq,p:Ce,q:sr,Q:tP,s:nP,S:fq,u:dq,U:hq,V:pq,w:mq,W:gq,x:null,X:null,y:vq,Y:wq,Z:bq,"%":eP},C={a:k,A:N,b:D,B:O,c:$,d:QT,e:QT,f:V7,g:YT,G:GT,H:XT,I:XT,j:D7,L:L7,m:R7,M:j7,p:P,q:N7,Q:$7,s:U7,S:M7,u:I7,U:A7,V:C7,w:P7,W:k7,x:B,X:J,y:YT,Y:GT,Z:O7,"%":F7};S.x=j(n,S),S.X=j(r,S),S.c=j(t,S),R.x=j(n,R),R.X=j(r,R),R.c=j(t,R);function j(M,G){return function(ee){var z=[],Re=-1,be=0,rt=M.length,xt,ar,on;for(ee instanceof Date||(ee=new Date(+ee));++Re<rt;)M.charCodeAt(Re)===37&&(z.push(M.slice(be,Re)),(ar=qT[xt=M.charAt(++Re)])!=null?xt=M.charAt(++Re):ar=xt==="e"?" ":"0",(on=G[xt])&&(xt=on(ee,ar)),z.push(xt),be=Re+1);return z.push(M.slice(be,Re)),z.join("")}}function I(M,G){return function(ee){var z=Cl(1900,void 0,1),Re=T(z,M,ee+="",0),be,rt;if(Re!=ee.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(G&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(be=lg(Cl(z.y,0,1)),rt=be.getUTCDay(),be=rt>4||rt===0?lh.ceil(be):lh(be),be=kp.offset(be,(z.V-1)*7),z.y=be.getUTCFullYear(),z.m=be.getUTCMonth(),z.d=be.getUTCDate()+(z.w+6)%7):(be=ag(Cl(z.y,0,1)),rt=be.getDay(),be=rt>4||rt===0?ah.ceil(be):ah(be),be=fc.offset(be,(z.V-1)*7),z.y=be.getFullYear(),z.m=be.getMonth(),z.d=be.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),rt="Z"in z?lg(Cl(z.y,0,1)).getUTCDay():ag(Cl(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(rt+5)%7:z.w+z.U*7-(rt+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,lg(z)):ag(z)}}function T(M,G,ee,z){for(var Re=0,be=G.length,rt=ee.length,xt,ar;Re<be;){if(z>=rt)return-1;if(xt=G.charCodeAt(Re++),xt===37){if(xt=G.charAt(Re++),ar=C[xt in qT?G.charAt(Re++):xt],!ar||(z=ar(M,ee,z))<0)return-1}else if(xt!=ee.charCodeAt(z++))return-1}return z}function P(M,G,ee){var z=u.exec(G.slice(ee));return z?(M.p=c.get(z[0].toLowerCase()),ee+z[0].length):-1}function k(M,G,ee){var z=p.exec(G.slice(ee));return z?(M.w=v.get(z[0].toLowerCase()),ee+z[0].length):-1}function N(M,G,ee){var z=d.exec(G.slice(ee));return z?(M.w=h.get(z[0].toLowerCase()),ee+z[0].length):-1}function D(M,G,ee){var z=w.exec(G.slice(ee));return z?(M.m=x.get(z[0].toLowerCase()),ee+z[0].length):-1}function O(M,G,ee){var z=_.exec(G.slice(ee));return z?(M.m=y.get(z[0].toLowerCase()),ee+z[0].length):-1}function $(M,G,ee){return T(M,t,G,ee)}function B(M,G,ee){return T(M,n,G,ee)}function J(M,G,ee){return T(M,r,G,ee)}function Y(M){return s[M.getDay()]}function U(M){return o[M.getDay()]}function W(M){return l[M.getMonth()]}function Z(M){return a[M.getMonth()]}function pe(M){return i[+(M.getHours()>=12)]}function me(M){return 1+~~(M.getMonth()/3)}function we(M){return s[M.getUTCDay()]}function Le(M){return o[M.getUTCDay()]}function Ke(M){return l[M.getUTCMonth()]}function Ye(M){return a[M.getUTCMonth()]}function Ce(M){return i[+(M.getUTCHours()>=12)]}function sr(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var G=j(M+="",S);return G.toString=function(){return M},G},parse:function(M){var G=I(M+="",!1);return G.toString=function(){return M},G},utcFormat:function(M){var G=j(M+="",R);return G.toString=function(){return M},G},utcParse:function(M){var G=I(M+="",!0);return G.toString=function(){return M},G}}}var qT={"-":"",_:" ",0:"0"},Nt=/^\s*\d+/,x7=/^%/,S7=/[\\^$*+?|[\]().{}]/g;function Ae(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function T7(e){return e.replace(S7,"\\$&")}function kl(e){return new RegExp("^(?:"+e.map(T7).join("|")+")","i")}function Ol(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function P7(e,t,n){var r=Nt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function I7(e,t,n){var r=Nt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function A7(e,t,n){var r=Nt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function C7(e,t,n){var r=Nt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function k7(e,t,n){var r=Nt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function GT(e,t,n){var r=Nt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function YT(e,t,n){var r=Nt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function O7(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function N7(e,t,n){var r=Nt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function R7(e,t,n){var r=Nt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function QT(e,t,n){var r=Nt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function D7(e,t,n){var r=Nt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function XT(e,t,n){var r=Nt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function j7(e,t,n){var r=Nt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function M7(e,t,n){var r=Nt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function L7(e,t,n){var r=Nt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function V7(e,t,n){var r=Nt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function F7(e,t,n){var r=x7.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function $7(e,t,n){var r=Nt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function U7(e,t,n){var r=Nt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function JT(e,t){return Ae(e.getDate(),t,2)}function z7(e,t){return Ae(e.getHours(),t,2)}function B7(e,t){return Ae(e.getHours()%12||12,t,2)}function W7(e,t){return Ae(1+fc.count(Ei(e),e),t,3)}function IR(e,t){return Ae(e.getMilliseconds(),t,3)}function K7(e,t){return IR(e,t)+"000"}function H7(e,t){return Ae(e.getMonth()+1,t,2)}function q7(e,t){return Ae(e.getMinutes(),t,2)}function G7(e,t){return Ae(e.getSeconds(),t,2)}function Y7(e){var t=e.getDay();return t===0?7:t}function Q7(e,t){return Ae(Op.count(Ei(e)-1,e),t,2)}function AR(e){var t=e.getDay();return t>=4||t===0?ja(e):ja.ceil(e)}function X7(e,t){return e=AR(e),Ae(ja.count(Ei(e),e)+(Ei(e).getDay()===4),t,2)}function J7(e){return e.getDay()}function Z7(e,t){return Ae(ah.count(Ei(e)-1,e),t,2)}function eq(e,t){return Ae(e.getFullYear()%100,t,2)}function tq(e,t){return e=AR(e),Ae(e.getFullYear()%100,t,2)}function nq(e,t){return Ae(e.getFullYear()%1e4,t,4)}function rq(e,t){var n=e.getDay();return e=n>=4||n===0?ja(e):ja.ceil(e),Ae(e.getFullYear()%1e4,t,4)}function iq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ae(t/60|0,"0",2)+Ae(t%60,"0",2)}function ZT(e,t){return Ae(e.getUTCDate(),t,2)}function oq(e,t){return Ae(e.getUTCHours(),t,2)}function sq(e,t){return Ae(e.getUTCHours()%12||12,t,2)}function aq(e,t){return Ae(1+kp.count(xi(e),e),t,3)}function CR(e,t){return Ae(e.getUTCMilliseconds(),t,3)}function lq(e,t){return CR(e,t)+"000"}function uq(e,t){return Ae(e.getUTCMonth()+1,t,2)}function cq(e,t){return Ae(e.getUTCMinutes(),t,2)}function fq(e,t){return Ae(e.getUTCSeconds(),t,2)}function dq(e){var t=e.getUTCDay();return t===0?7:t}function hq(e,t){return Ae(Np.count(xi(e)-1,e),t,2)}function kR(e){var t=e.getUTCDay();return t>=4||t===0?Ma(e):Ma.ceil(e)}function pq(e,t){return e=kR(e),Ae(Ma.count(xi(e),e)+(xi(e).getUTCDay()===4),t,2)}function mq(e){return e.getUTCDay()}function gq(e,t){return Ae(lh.count(xi(e)-1,e),t,2)}function vq(e,t){return Ae(e.getUTCFullYear()%100,t,2)}function yq(e,t){return e=kR(e),Ae(e.getUTCFullYear()%100,t,2)}function wq(e,t){return Ae(e.getUTCFullYear()%1e4,t,4)}function _q(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ma(e):Ma.ceil(e),Ae(e.getUTCFullYear()%1e4,t,4)}function bq(){return"+0000"}function eP(){return"%"}function tP(e){return+e}function nP(e){return Math.floor(+e/1e3)}var Ls,OR,NR;Eq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Eq(e){return Ls=E7(e),OR=Ls.format,Ls.parse,NR=Ls.utcFormat,Ls.utcParse,Ls}function xq(e){return new Date(e)}function Sq(e){return e instanceof Date?+e:+new Date(+e)}function d_(e,t,n,r,i,o,s,a,l,u){var c=Jw(),d=c.invert,h=c.domain,p=u(".%L"),v=u(":%S"),_=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),x=u("%b %d"),S=u("%B"),R=u("%Y");function C(j){return(l(j)<j?p:a(j)<j?v:s(j)<j?_:o(j)<j?y:r(j)<j?i(j)<j?w:x:n(j)<j?S:R)(j)}return c.invert=function(j){return new Date(d(j))},c.domain=function(j){return arguments.length?h(Array.from(j,Sq)):h().map(xq)},c.ticks=function(j){var I=h();return e(I[0],I[I.length-1],j??10)},c.tickFormat=function(j,I){return I==null?C:u(I)},c.nice=function(j){var I=h();return(!j||typeof j.range!="function")&&(j=t(I[0],I[I.length-1],j??10)),j?h(yR(I,j)):c},c.copy=function(){return cc(c,d_(e,t,n,r,i,o,s,a,l,u))},c}function Tq(){return or.apply(d_(_7,b7,Ei,c_,Op,fc,l_,s_,Ho,OR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Pq(){return or.apply(d_(y7,w7,xi,f_,Np,kp,u_,a_,Ho,NR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rp(){var e=0,t=1,n,r,i,o,s=ln,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(h){var p,v;return arguments.length?([p,v]=h,s=d(p,v),u):[s(0),s(1)]}}return u.range=c(Ya),u.rangeRound=c(Xw),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function To(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function RR(){var e=So(Rp()(ln));return e.copy=function(){return To(e,RR())},Ci.apply(e,arguments)}function DR(){var e=t_(Rp()).domain([1,10]);return e.copy=function(){return To(e,DR()).base(e.base())},Ci.apply(e,arguments)}function jR(){var e=n_(Rp());return e.copy=function(){return To(e,jR()).constant(e.constant())},Ci.apply(e,arguments)}function h_(){var e=r_(Rp());return e.copy=function(){return To(e,h_()).exponent(e.exponent())},Ci.apply(e,arguments)}function Iq(){return h_.apply(null,arguments).exponent(.5)}function MR(){var e=[],t=ln;function n(r){if(r!=null&&!isNaN(r=+r))return t((lc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(fo),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>dH(e,o/r))},n.copy=function(){return MR(t).domain(e)},Ci.apply(n,arguments)}function Dp(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=ln,c,d=!1,h;function p(_){return isNaN(_=+_)?h:(_=.5+((_=+c(_))-o)*(r*_<r*o?a:l),u(d?Math.max(0,Math.min(1,_)):_))}p.domain=function(_){return arguments.length?([e,t,n]=_,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[e,t,n]},p.clamp=function(_){return arguments.length?(d=!!_,p):d},p.interpolator=function(_){return arguments.length?(u=_,p):u};function v(_){return function(y){var w,x,S;return arguments.length?([w,x,S]=y,u=FH(_,[w,x,S]),p):[u(0),u(.5),u(1)]}}return p.range=v(Ya),p.rangeRound=v(Xw),p.unknown=function(_){return arguments.length?(h=_,p):h},function(_){return c=_,i=_(e),o=_(t),s=_(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function LR(){var e=So(Dp()(ln));return e.copy=function(){return To(e,LR())},Ci.apply(e,arguments)}function VR(){var e=t_(Dp()).domain([.1,1,10]);return e.copy=function(){return To(e,VR()).base(e.base())},Ci.apply(e,arguments)}function FR(){var e=n_(Dp());return e.copy=function(){return To(e,FR()).constant(e.constant())},Ci.apply(e,arguments)}function p_(){var e=r_(Dp());return e.copy=function(){return To(e,p_()).exponent(e.exponent())},Ci.apply(e,arguments)}function Aq(){return p_.apply(null,arguments).exponent(.5)}const Ul=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gw,scaleDiverging:LR,scaleDivergingLog:VR,scaleDivergingPow:p_,scaleDivergingSqrt:Aq,scaleDivergingSymlog:FR,scaleIdentity:vR,scaleImplicit:sy,scaleLinear:gR,scaleLog:wR,scaleOrdinal:qw,scalePoint:mH,scalePow:i_,scaleQuantile:ER,scaleQuantize:xR,scaleRadial:bR,scaleSequential:RR,scaleSequentialLog:DR,scaleSequentialPow:h_,scaleSequentialQuantile:MR,scaleSequentialSqrt:Iq,scaleSequentialSymlog:jR,scaleSqrt:l7,scaleSymlog:_R,scaleThreshold:SR,scaleTime:Tq,scaleUtc:Pq,tickFormat:mR},Symbol.toStringTag,{value:"Module"}));var Po=e=>e.chartData,Cq=F([Po],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),m_=(e,t,n,r)=>r?Cq(e):Po(e);function ms(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ot(t)&&Ot(n))return!0}return!1}function rP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $R(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(Ot(n))i=n;else if(typeof n=="function")return;if(Ot(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(ms(s))return s}}function kq(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ms(r))return rP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,s,a;if(i==="auto")t!=null&&(s=Math.min(...t));else if(oe(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&KS.test(i)){var l=KS.exec(i);if(l==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(o==="auto")t!=null&&(a=Math.max(...t));else if(oe(o))a=o;else if(typeof o=="function")try{t!=null&&(a=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&HS.test(o)){var c=HS.exec(o);if(c==null||t==null)a=void 0;else{var d=+c[1];a=t[1]+d}}else a=t==null?void 0:t[1];var h=[s,a];if(ms(h))return t==null?h:rP(h,t,n)}}}var Qa=1e9,Oq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},v_,Ge=!0,ir="[DecimalError] ",ts=ir+"Invalid argument: ",g_=ir+"Exponent out of range: ",Xa=Math.floor,Vo=Math.pow,Nq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dn,It=1e7,ze=7,UR=9007199254740991,uh=Xa(UR/ze),ne={};ne.absoluteValue=ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ne.comparedTo=ne.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ze;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ne.dividedBy=ne.div=function(e){return ci(this,new this.constructor(e))};ne.dividedToIntegerBy=ne.idiv=function(e){var t=this,n=t.constructor;return Me(ci(t,new n(e),0,1),n.precision)};ne.equals=ne.eq=function(e){return!this.cmp(e)};ne.exponent=function(){return ct(this)};ne.greaterThan=ne.gt=function(e){return this.cmp(e)>0};ne.greaterThanOrEqualTo=ne.gte=function(e){return this.cmp(e)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(e){return this.cmp(e)<0};ne.lessThanOrEqualTo=ne.lte=function(e){return this.cmp(e)<1};ne.logarithm=ne.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Dn))throw Error(ir+"NaN");if(n.s<1)throw Error(ir+(n.s?"NaN":"-Infinity"));return n.eq(Dn)?new r(0):(Ge=!1,t=ci(Fu(n,o),Fu(e,o),o),Ge=!0,Me(t,i))};ne.minus=ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WR(t,e):zR(t,(e.s=-e.s,e))};ne.modulo=ne.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ir+"NaN");return n.s?(Ge=!1,t=ci(n,e,0,1).times(e),Ge=!0,n.minus(t)):Me(new r(n),i)};ne.naturalExponential=ne.exp=function(){return BR(this)};ne.naturalLogarithm=ne.ln=function(){return Fu(this)};ne.negated=ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ne.plus=ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zR(t,e):WR(t,(e.s=-e.s,e))};ne.precision=ne.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ts+e);if(t=ct(i)+1,r=i.d.length-1,n=r*ze+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ne.squareRoot=ne.sqrt=function(){var e,t,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(ir+"NaN")}for(e=ct(a),Ge=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Ir(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Xa((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(ci(a,o,s+2)).times(.5),Ir(o.d).slice(0,s)===(t=Ir(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Me(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(t!="9999")break;s+=4}return Ge=!0,Me(r,n)};ne.times=ne.mul=function(e){var t,n,r,i,o,s,a,l,u,c=this,d=c.constructor,h=c.d,p=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)a=o[i]+p[r]*h[i-r-1]+t,o[i--]=a%It|0,t=a/It|0;o[i]=(o[i]+t)%It|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Ge?Me(e,d.precision):e};ne.toDecimalPlaces=ne.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Br(e,0,Qa),t===void 0?t=r.rounding:Br(t,0,8),Me(n,e+ct(n)+1,t))};ne.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=gs(r,!0):(Br(e,0,Qa),t===void 0?t=i.rounding:Br(t,0,8),r=Me(new i(r),e+1,t),n=gs(r,!0,e+1)),n};ne.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?gs(i):(Br(e,0,Qa),t===void 0?t=o.rounding:Br(t,0,8),r=Me(new o(i),e+ct(i)+1,t),n=gs(r.abs(),!1,e+ct(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ne.toInteger=ne.toint=function(){var e=this,t=e.constructor;return Me(new t(e),ct(e)+1,t.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(e){var t,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Dn);if(a=new l(a),!a.s){if(e.s<1)throw Error(ir+"Infinity");return a}if(a.eq(Dn))return a;if(r=l.precision,e.eq(Dn))return Me(a,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=a.s,s){if((n=c<0?-c:c)<=UR){for(i=new l(Dn),t=Math.ceil(r/ze+4),Ge=!1;n%2&&(i=i.times(a),oP(i.d,t)),n=Xa(n/2),n!==0;)a=a.times(a),oP(a.d,t);return Ge=!0,e.s<0?new l(Dn).div(i):Me(i,r)}}else if(o<0)throw Error(ir+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,Ge=!1,i=e.times(Fu(a,r+u)),Ge=!0,i=BR(i),i.s=o,i};ne.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=ct(i),r=gs(i,n<=o.toExpNeg||n>=o.toExpPos)):(Br(e,1,Qa),t===void 0?t=o.rounding:Br(t,0,8),i=Me(new o(i),e,t),n=ct(i),r=gs(i,e<=n||n<=o.toExpNeg,e)),r};ne.toSignificantDigits=ne.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Br(e,1,Qa),t===void 0?t=r.rounding:Br(t,0,8)),Me(new r(n),e,t)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ct(e),n=e.constructor;return gs(e,t<=n.toExpNeg||t>=n.toExpPos)};function zR(e,t){var n,r,i,o,s,a,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Ge?Me(t,d):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(d/ze),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/It|0,l[o]%=It;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=i,Ge?Me(t,d):t}function Br(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ts+e)}function Ir(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=ze-r.length,n&&(o+=zi(n)),o+=r;s=e[t],r=s+"",n=ze-r.length,n&&(o+=zi(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var ci=function(){function e(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%It|0,s=o/It|0;return s&&r.unshift(s),r}function t(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*It+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,d,h,p,v,_,y,w,x,S,R,C,j,I,T,P=r.constructor,k=r.s==i.s?1:-1,N=r.d,D=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(ir+"Division by zero");for(l=r.e-i.e,I=D.length,C=N.length,p=new P(k),v=p.d=[],u=0;D[u]==(N[u]||0);)++u;if(D[u]>(N[u]||0)&&--l,o==null?x=o=P.precision:s?x=o+(ct(r)-ct(i))+1:x=o,x<0)return new P(0);if(x=x/ze+2|0,u=0,I==1)for(c=0,D=D[0],x++;(u<C||c)&&x--;u++)S=c*It+(N[u]||0),v[u]=S/D|0,c=S%D|0;else{for(c=It/(D[0]+1)|0,c>1&&(D=e(D,c),N=e(N,c),I=D.length,C=N.length),R=I,_=N.slice(0,I),y=_.length;y<I;)_[y++]=0;T=D.slice(),T.unshift(0),j=D[0],D[1]>=It/2&&++j;do c=0,a=t(D,_,I,y),a<0?(w=_[0],I!=y&&(w=w*It+(_[1]||0)),c=w/j|0,c>1?(c>=It&&(c=It-1),d=e(D,c),h=d.length,y=_.length,a=t(d,_,h,y),a==1&&(c--,n(d,I<h?T:D,h))):(c==0&&(a=c=1),d=D.slice()),h=d.length,h<y&&d.unshift(0),n(_,d,y),a==-1&&(y=_.length,a=t(D,_,I,y),a<1&&(c++,n(_,I<y?T:D,y))),y=_.length):a===0&&(c++,_=[0]),v[u++]=c,a&&_[0]?_[y++]=N[R]||0:(_=[N[R]],y=1);while((R++<C||_[0]!==void 0)&&x--)}return v[0]||v.shift(),p.e=l,Me(p,s?o+ct(p)+1:o)}}();function BR(e,t){var n,r,i,o,s,a,l=0,u=0,c=e.constructor,d=c.precision;if(ct(e)>16)throw Error(g_+ct(e));if(!e.s)return new c(Dn);for(Ge=!1,a=d,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(Vo(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Dn),c.precision=a;;){if(i=Me(i.times(e),a),n=n.times(++l),s=o.plus(ci(i,n,a)),Ir(s.d).slice(0,a)===Ir(o.d).slice(0,a)){for(;u--;)o=Me(o.times(o),a);return c.precision=d,t==null?(Ge=!0,Me(o,d)):o}o=s}}function ct(e){for(var t=e.e*ze,n=e.d[0];n>=10;n/=10)t++;return t}function ug(e,t,n){if(t>e.LN10.sd())throw Ge=!0,n&&(e.precision=n),Error(ir+"LN10 precision limit exceeded");return Me(new e(e.LN10),t)}function zi(e){for(var t="";e--;)t+="0";return t}function Fu(e,t){var n,r,i,o,s,a,l,u,c,d=1,h=10,p=e,v=p.d,_=p.constructor,y=_.precision;if(p.s<1)throw Error(ir+(p.s?"NaN":"-Infinity"));if(p.eq(Dn))return new _(0);if(t==null?(Ge=!1,u=y):u=t,p.eq(10))return t==null&&(Ge=!0),ug(_,u);if(u+=h,_.precision=u,n=Ir(v),r=n.charAt(0),o=ct(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Ir(p.d),r=n.charAt(0),d++;o=ct(p),r>1?(p=new _("0."+n),o++):p=new _(r+"."+n.slice(1))}else return l=ug(_,u+2,y).times(o+""),p=Fu(new _(r+"."+n.slice(1)),u-h).plus(l),_.precision=y,t==null?(Ge=!0,Me(p,y)):p;for(a=s=p=ci(p.minus(Dn),p.plus(Dn),u),c=Me(p.times(p),u),i=3;;){if(s=Me(s.times(c),u),l=a.plus(ci(s,new _(i),u)),Ir(l.d).slice(0,u)===Ir(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(ug(_,u+2,y).times(o+""))),a=ci(a,new _(d),u),_.precision=y,t==null?(Ge=!0,Me(a,y)):a;a=l,i+=2}}function iP(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Xa(n/ze),e.d=[],r=(n+1)%ze,n<0&&(r+=ze),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ze;r<i;)e.d.push(+t.slice(r,r+=ze));t=t.slice(r),r=ze-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ge&&(e.e>uh||e.e<-uh))throw Error(g_+n)}else e.s=0,e.e=0,e.d=[0];return e}function Me(e,t,n){var r,i,o,s,a,l,u,c,d=e.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=ze,i=t,u=d[c=0];else{if(c=Math.ceil((r+1)/ze),o=d.length,c>=o)return e;for(u=o=d[c],s=1;o>=10;o/=10)s++;r%=ze,i=r-ze+s}if(n!==void 0&&(o=Vo(10,s-i-1),a=u/o%10|0,l=t<0||d[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Vo(10,s-i):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=ct(e),d.length=1,t=t-o-1,d[0]=Vo(10,(ze-t%ze)%ze),e.e=Xa(-t/ze)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Vo(10,ze-r),d[c]=i>0?(u/Vo(10,s-i)%Vo(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==It&&(d[0]=1,++e.e);break}else{if(d[c]+=o,d[c]!=It)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Ge&&(e.e>uh||e.e<-uh))throw Error(g_+ct(e));return e}function WR(e,t){var n,r,i,o,s,a,l,u,c,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ge?Me(t,p):t;if(l=e.d,d=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=d.length):(n=d,r=u,a=l.length),i=Math.max(Math.ceil(p/ze),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,t.s=-t.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=It-1;--l[o],l[i]+=It}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Ge?Me(t,p):t):new h(0)}function gs(e,t,n){var r,i=ct(e),o=Ir(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+zi(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+zi(-i-1)+o,n&&(r=n-s)>0&&(o+=zi(r))):i>=s?(o+=zi(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+zi(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=zi(r))),e.s<0?"-"+o:o}function oP(e,t){if(e.length>t)return e.length=t,!0}function KR(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ts+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return iP(s,o.toString())}else if(typeof o!="string")throw Error(ts+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Nq.test(o))iP(s,o);else throw Error(ts+o)}if(i.prototype=ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=KR,i.config=i.set=Rq,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Rq(e){if(!e||typeof e!="object")throw Error(ir+"Object expected");var t,n,r,i=["precision",1,Qa,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Xa(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ts+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ts+n+": "+r);return this}var v_=KR(Oq);Dn=new v_(1);const ke=v_;var Dq=e=>e,HR={},qR=e=>e===HR,sP=e=>function t(){return arguments.length===0||arguments.length===1&&qR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},GR=(e,t)=>e===1?t:sP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==HR).length;return o>=e?t(...r):GR(e-o,sP(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=r.map(c=>qR(c)?a.shift():c);return t(...u,...a)}))}),jp=e=>GR(e.length,e),cy=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},jq=jp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Mq=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Dq;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((a,l)=>l(a),o(...arguments))}},fy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),YR=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((s,a)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[a])})||(t=i,n=e(...i)),n}};function QR(e){var t;return e===0?t=1:t=Math.floor(new ke(e).abs().log(10).toNumber())+1,t}function XR(e,t,n){for(var r=new ke(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}jp((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});jp((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});jp((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var JR=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},ZR=(e,t,n)=>{if(e.lte(0))return new ke(0);var r=QR(e.toNumber()),i=new ke(10).pow(r),o=e.div(i),s=r!==1?.05:.1,a=new ke(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return t?new ke(l.toNumber()):new ke(Math.ceil(l.toNumber()))},Lq=(e,t,n)=>{var r=new ke(1),i=new ke(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new ke(10).pow(QR(e)-1),i=new ke(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ke(Math.floor(e)))}else e===0?i=new ke(Math.floor((t-1)/2)):n||(i=new ke(Math.floor(e)));var s=Math.floor((t-1)/2),a=Mq(jq(l=>i.add(new ke(l-s).mul(r)).toNumber()),cy);return a(0,t)},eD=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ke(0),tickMin:new ke(0),tickMax:new ke(0)};var s=ZR(new ke(n).sub(t).div(r-1),i,o),a;t<=0&&n>=0?a=new ke(0):(a=new ke(t).add(n).div(2),a=a.sub(new ke(a).mod(s)));var l=Math.ceil(a.sub(t).div(s).toNumber()),u=Math.ceil(new ke(n).sub(a).div(s).toNumber()),c=l+u+1;return c>r?eD(t,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:a.sub(new ke(l).mul(s)),tickMax:a.add(new ke(u).mul(s))})};function Vq(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[s,a]=JR([t,n]);if(s===-1/0||a===1/0){var l=a===1/0?[s,...cy(0,r-1).map(()=>1/0)]:[...cy(0,r-1).map(()=>-1/0),a];return t>n?fy(l):l}if(s===a)return Lq(s,r,i);var{step:u,tickMin:c,tickMax:d}=eD(s,a,o,i,0),h=XR(c,d.add(new ke(.1).mul(u)),u);return t>n?fy(h):h}function Fq(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=JR([n,r]);if(o===-1/0||s===1/0)return[n,r];if(o===s)return[o];var a=Math.max(t,2),l=ZR(new ke(s).sub(o).div(a-1),i,0),u=[...XR(new ke(o),new ke(s),l),s];return i===!1&&(u=u.map(c=>Math.round(c))),n>r?fy(u):u}var $q=YR(Vq),Uq=YR(Fq),zq=e=>e.rootProps.barCategoryGap,Mp=e=>e.rootProps.stackOffset,y_=e=>e.options.chartName,w_=e=>e.rootProps.syncId,tD=e=>e.rootProps.syncMethod,__=e=>e.options.eventEmitter,un={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Xr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Rn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Lp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Bq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xr.angleAxisId,includeHidden:!1,name:void 0,reversed:Xr.reversed,scale:Xr.scale,tick:Xr.tick,tickCount:void 0,ticks:void 0,type:Xr.type,unit:void 0},Wq={allowDataOverflow:Rn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Rn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rn.scale,tick:Rn.tick,tickCount:Rn.tickCount,ticks:void 0,type:Rn.type,unit:void 0},Kq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xr.scale,tick:Xr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Hq={allowDataOverflow:Rn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Rn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rn.scale,tick:Rn.tick,tickCount:Rn.tickCount,ticks:void 0,type:"category",unit:void 0},b_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Kq:Bq,E_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Hq:Wq,Vp=e=>e.polarOptions,x_=F([Ii,Ai,Bt],WK),nD=F([Vp,x_],(e,t)=>{if(e!=null)return wo(e.innerRadius,t,0)}),rD=F([Vp,x_],(e,t)=>{if(e!=null)return wo(e.outerRadius,t,t*.8)}),qq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},iD=F([Vp],qq);F([b_,iD],Lp);var oD=F([x_,nD,rD],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});F([E_,oD],Lp);var sD=F([We,Vp,nD,rD,Ii,Ai],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:a,startAngle:l,endAngle:u}=t;return{cx:wo(s,i,i/2),cy:wo(a,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),_t=(e,t)=>t,Fp=(e,t,n)=>n;function aD(e){return e==null?void 0:e.id}function lD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return e.forEach(a=>{var l,u=(l=a.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=aD(a);u.forEach((d,h)=>{var p=o==null||i?h:String(fn(d,o,null)),v=fn(d,a.dataKey,0),_;s.has(p)?_=s.get(p):_={},Object.assign(_,{[c]:v}),s.set(p,_)})}}),Array.from(s.values())}function S_(e){return e.stackId!=null&&e.dataKey!=null}var $p=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Up(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Gq(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var bt=e=>{var t=We(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ja=e=>e.tooltip.settings.axisId;function aP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(n),!0).forEach(function(r){Yq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yq(e,t,n){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qq(e){var t=Xq(e,"string");return typeof t=="symbol"?t:t+""}function Xq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dy=[0,"auto"],kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},uD=(e,t)=>e.cartesianAxis.xAxis[t],ki=(e,t)=>{var n=uD(e,t);return n??kn},On={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ac},cD=(e,t)=>e.cartesianAxis.yAxis[t],Oi=(e,t)=>{var n=cD(e,t);return n??On},Jq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},T_=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Jq},mn=(e,t,n)=>{switch(t){case"xAxis":return ki(e,n);case"yAxis":return Oi(e,n);case"zAxis":return T_(e,n);case"angleAxis":return b_(e,n);case"radiusAxis":return E_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Zq=(e,t,n)=>{switch(t){case"xAxis":return ki(e,n);case"yAxis":return Oi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},dc=(e,t,n)=>{switch(t){case"xAxis":return ki(e,n);case"yAxis":return Oi(e,n);case"angleAxis":return b_(e,n);case"radiusAxis":return E_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},fD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function dD(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var hD=e=>e.graphicalItems.cartesianItems,eG=F([_t,Fp],dD),pD=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),hc=F([hD,mn,eG],pD,{memoizeOptions:{resultEqualityCheck:Up}}),mD=F([hc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(S_)),gD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),tG=F([hc],gD),vD=e=>e.map(t=>t.data).filter(Boolean).flat(1),nG=F([hc],vD,{memoizeOptions:{resultEqualityCheck:Up}}),yD=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},P_=F([nG,m_],yD),wD=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:fn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:fn(i,r)}))):e.map(r=>({value:r})),zp=F([P_,mn,hc],wD);function _D(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Wf(e){if(Ur(e)||e instanceof Date){var t=Number(e);if(Ot(t))return t}}function lP(e){if(Array.isArray(e)){var t=[Wf(e[0]),Wf(e[1])];return ms(t)?t:void 0}var n=Wf(e);if(n!=null)return[n,n]}function Si(e){return e.map(Wf).filter(P9)}function rG(e,t,n){return!n||typeof t!="number"||$r(t)?[]:n.length?Si(n.flatMap(r=>{var i=fn(e,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!Ot(o)||!Ot(s)))return[t-o,t+s]})):[]}var Et=e=>{var t=bt(e),n=Ja(e);return dc(e,t,n)},bD=F([Et],e=>e==null?void 0:e.dataKey),iG=F([mD,m_,Et],lD),ED=(e,t,n)=>{var r={},i=t.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[s,a]=o,l=a.map(aD);return[s,{stackedData:VW(e,l,n),graphicalItems:a}]}))},oG=F([iG,mD,Mp],ED),xD=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var s=UW(e,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},sG=F([mn],e=>e.allowDataOverflow),I_=e=>{var t;if(e==null||!("domain"in e))return dy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Si(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:dy},SD=F([mn],I_),TD=F([SD,sG],$R),aG=F([oG,Po,_t,TD],xD,{memoizeOptions:{resultEqualityCheck:$p}}),A_=e=>e.errorBars,lG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>_D(n,r)),fh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),a=Math.max(...o);return[s,a]}},PD=(e,t,n,r,i)=>{var o,s;if(n.length>0&&e.forEach(a=>{n.forEach(l=>{var u,c,d=(u=r[l.id])===null||u===void 0?void 0:u.filter(w=>_D(i,w)),h=fn(a,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),p=rG(a,h,d);if(p.length>=2){var v=Math.min(...p),_=Math.max(...p);(o==null||v<o)&&(o=v),(s==null||_>s)&&(s=_)}var y=lP(h);y!=null&&(o=o==null?y[0]:Math.min(o,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(a=>{var l=lP(fn(a,t.dataKey));l!=null&&(o=o==null?l[0]:Math.min(o,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Ot(o)&&Ot(s))return[o,s]},uG=F([P_,mn,tG,A_,_t],PD,{memoizeOptions:{resultEqualityCheck:$p}});function cG(e){var{value:t}=e;if(Ur(t)||t instanceof Date)return t}var fG=(e,t,n)=>{var r=e.map(cG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&xO(r))?oR(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},ID=e=>e.referenceElements.dots,Za=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),dG=F([ID,_t,Fp],Za),AD=e=>e.referenceElements.areas,hG=F([AD,_t,Fp],Za),CD=e=>e.referenceElements.lines,pG=F([CD,_t,Fp],Za),kD=(e,t)=>{var n=Si(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mG=F(dG,_t,kD),OD=(e,t)=>{var n=Si(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gG=F([hG,_t],OD);function vG(e){var t;if(e.x!=null)return Si([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Si(n)}function yG(e){var t;if(e.y!=null)return Si([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Si(n)}var ND=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?vG(r):yG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wG=F([pG,_t],ND),_G=F(mG,wG,gG,(e,t,n)=>fh(e,n,t)),RD=(e,t,n,r,i,o,s,a)=>{if(n!=null)return n;var l=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=l?fh(r,o,i):fh(o,i);return kq(t,u,e.allowDataOverflow)},bG=F([mn,SD,TD,aG,uG,_G,We,_t],RD,{memoizeOptions:{resultEqualityCheck:$p}}),EG=[0,1],DD=(e,t,n,r,i,o,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:a,type:l}=e,u=xo(t,o);if(u&&a==null){var c;return oR(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?fG(r,e,u):i==="expand"?EG:s}},C_=F([mn,We,P_,zp,Mp,_t,bG],DD),jD=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:s}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var a="scale".concat(ic(o));return a in Ul?a:"point"}}},pc=F([mn,We,fD,y_,_t],jD);function xG(e){if(e!=null){if(e in Ul)return Ul[e]();var t="scale".concat(ic(e));if(t in Ul)return Ul[t]()}}function k_(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=xG(t);if(i!=null){var o=i.domain(n).range(r);return DW(o),o}}}var MD=(e,t,n)=>{var r=I_(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ms(e))return $q(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ms(e))return Uq(e,t.tickCount,t.allowDecimals)}},O_=F([C_,dc,pc],MD),LD=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ms(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],s=t[1],a=n[n.length-1];return[Math.min(i,o),Math.max(s,a)]}return t},SG=F([mn,C_,O_,_t],LD),TG=F(zp,mn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Si(e.map(a=>a.value))).sort((a,l)=>a-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var s=r[o+1]-r[o];n=Math.min(n,s)}return n/i}}),VD=F(TG,We,zq,Bt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Ot(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var s=wo(n,e*o),a=e*o/2;return a-s-(a-s)/o*s}return 0}),PG=(e,t)=>{var n=ki(e,t);return n==null||typeof n.padding!="string"?0:VD(e,"xAxis",t,n.padding)},IG=(e,t)=>{var n=Oi(e,t);return n==null||typeof n.padding!="string"?0:VD(e,"yAxis",t,n.padding)},AG=F(ki,PG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),CG=F(Oi,IG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),kG=F([Bt,AG,Tp,Sp,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),OG=F([Bt,We,CG,Tp,Sp,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),mc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return kG(e,n,r);case"yAxis":return OG(e,n,r);case"zAxis":return(i=T_(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return iD(e);case"radiusAxis":return oD(e,n);default:return}},FD=F([mn,mc],Lp),el=F([mn,pc,SG,FD],k_);F([hc,A_,_t],lG);function $D(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Bp=(e,t)=>t,Wp=(e,t,n)=>n,NG=F(Ep,Bp,Wp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort($D)),RG=F(xp,Bp,Wp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort($D)),UD=(e,t)=>({width:e.width,height:t.height}),DG=(e,t)=>{var n=typeof t.width=="number"?t.width:ac;return{width:n,height:e.height}},jG=F(Bt,ki,UD),MG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},LG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},VG=F(Ai,Bt,NG,Bp,Wp,(e,t,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=UD(t,a);s==null&&(s=MG(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;o[a.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),o}),FG=F(Ii,Bt,RG,Bp,Wp,(e,t,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=DG(t,a);s==null&&(s=LG(t,r,e));var u=r==="left"&&!i||r==="right"&&i;o[a.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),o}),$G=(e,t)=>{var n=ki(e,t);if(n!=null)return VG(e,n.orientation,n.mirror)},UG=F([Bt,ki,$G,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),zG=(e,t)=>{var n=Oi(e,t);if(n!=null)return FG(e,n.orientation,n.mirror)},BG=F([Bt,Oi,zG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),WG=F(Bt,Oi,(e,t)=>{var n=typeof t.width=="number"?t.width:ac;return{width:n,height:e.height}}),zD=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,a=xo(e,r),l=t.map(u=>u.value);if(s&&a&&o==="category"&&i&&xO(l))return l}},N_=F([We,zp,mn,_t],zD),BD=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=xo(e,r);if(s&&(i==="number"||o!=="auto"))return t.map(a=>a.value)}},R_=F([We,zp,dc,_t],BD),uP=F([We,Zq,pc,el,N_,R_,mc,O_,_t],(e,t,n,r,i,o,s,a,l)=>{if(t!=null){var u=xo(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:a,range:s,realScaleType:n,scale:r}}}),KG=(e,t,n,r,i,o,s,a,l)=>{if(!(t==null||r==null)){var u=xo(e,l),{type:c,ticks:d,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=c==="category"&&r.bandwidth?r.bandwidth()/p:0;v=l==="angleAxis"&&o!=null&&o.length>=2?Xn(o[0]-o[1])*2*v:v;var _=d||i;if(_){var y=_.map((w,x)=>{var S=s?s.indexOf(w):w;return{index:x,coordinate:r(S)+v,value:w,offset:v}});return y.filter(w=>Ot(w.coordinate))}return u&&a?a.map((w,x)=>({coordinate:r(w)+v,value:w,index:x,offset:v})).filter(w=>Ot(w.coordinate)):r.ticks?r.ticks(h).map(w=>({coordinate:r(w)+v,value:w,offset:v})):r.domain().map((w,x)=>({coordinate:r(w)+v,value:s?s[w]:w,index:x,offset:v}))}},WD=F([We,dc,pc,el,O_,mc,N_,R_,_t],KG),HG=(e,t,n,r,i,o,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var a=xo(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Xn(r[0]-r[1])*2*u:u,a&&o?o.map((c,d)=>({coordinate:n(c)+u,value:c,index:d,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,d)=>({coordinate:n(c)+u,value:i?i[c]:c,index:d,offset:u}))}},KD=F([We,dc,el,mc,N_,R_,_t],HG),HD=F(mn,el,(e,t)=>{if(!(e==null||t==null))return ch(ch({},e),{},{scale:t})}),qG=F([mn,pc,C_,FD],k_);F((e,t,n)=>T_(e,n),qG,(e,t)=>{if(!(e==null||t==null))return ch(ch({},e),{},{scale:t})});var GG=F([We,Ep,xp],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),qD=e=>e.options.defaultTooltipEventType,GD=e=>e.options.validateTooltipEventTypes;function YD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function D_(e,t){var n=qD(e),r=GD(e);return YD(t,n,r)}function YG(e){return ie(t=>D_(t,e))}var QD=(e,t)=>{var n,r=Number(t);if(!($r(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},QG=e=>e.tooltip.settings,Yi={active:!1,index:null,dataKey:void 0,coordinate:void 0},XG={itemInteraction:{click:Yi,hover:Yi},axisInteraction:{click:Yi,hover:Yi},keyboardInteraction:Yi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},XD=In({name:"tooltip",initialState:XG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:mt()},removeTooltipEntrySettings:{reducer(e,t){var n=ui(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:mt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:JG,removeTooltipEntrySettings:ZG,setTooltipSettingsState:eY,setActiveMouseOverItemIndex:tY,mouseLeaveItem:yne,mouseLeaveChart:JD,setActiveClickItemIndex:wne,setMouseOverAxisIndex:ZD,setMouseClickAxisIndex:nY,setSyncInteraction:hy,setKeyboardInteraction:py}=XD.actions,rY=XD.reducer;function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(r){iY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iY(e,t,n){return(t=oY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function lY(e){return e.index!=null}var ej=(e,t,n,r)=>{if(t==null)return Yi;var i=aY(e,t,n);if(i==null)return Yi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(lY(i)){if(o)return wf(wf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return wf(wf({},Yi),{},{coordinate:i.coordinate})},j_=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Ot(r))return n;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(r,o)))},tj=(e,t,n,r,i,o,s,a)=>{if(!(o==null||a==null)){var l=s[0],u=l==null?void 0:a(l.positions,o);if(u!=null)return u;var c=i==null?void 0:i[Number(o)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:c.coordinate}}}},nj=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===i})},gc=e=>e.options.tooltipPayloadSearcher,tl=e=>e.tooltip;function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(r){uY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uY(e,t,n){return(t=cY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cY(e){var t=fY(e,"string");return typeof t=="symbol"?t:t+""}function fY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dY(e,t){return e??t}var rj=(e,t,n,r,i,o,s)=>{if(!(t==null||o==null)){var{chartData:a,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,d=[];return e.reduce((h,p)=>{var v,{dataDefinedOnItem:_,settings:y}=p,w=dY(_,a),x=Array.isArray(w)?kN(w,u,c):w,S=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:r,R=y==null?void 0:y.nameKey,C;if(r&&Array.isArray(x)&&!Array.isArray(x[0])&&s==="axis"?C=SO(x,r,i):C=o(x,t,l,R),Array.isArray(C))C.forEach(I=>{var T=dP(dP({},y),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});h.push(qS({tooltipEntrySettings:T,dataKey:I.dataKey,payload:I.payload,value:fn(I.payload,I.dataKey),name:I.name}))});else{var j;h.push(qS({tooltipEntrySettings:y,dataKey:S,payload:C,value:fn(C,S),name:(j=fn(C,R))!==null&&j!==void 0?j:y==null?void 0:y.name}))}return h},d)}},M_=F([Et,We,fD,y_,bt],jD),hY=F([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),pY=F([bt,Ja],dD),vc=F([hY,Et,pY],pD,{memoizeOptions:{resultEqualityCheck:Up}}),mY=F([vc],e=>e.filter(S_)),gY=F([vc],vD,{memoizeOptions:{resultEqualityCheck:Up}}),nl=F([gY,Po],yD),vY=F([mY,Po,Et],lD),L_=F([nl,Et,vc],wD),ij=F([Et],I_),yY=F([Et],e=>e.allowDataOverflow),oj=F([ij,yY],$R),wY=F([vc],e=>e.filter(S_)),_Y=F([vY,wY,Mp],ED),bY=F([_Y,Po,bt,oj],xD),EY=F([vc],gD),xY=F([nl,Et,EY,A_,bt],PD,{memoizeOptions:{resultEqualityCheck:$p}}),SY=F([ID,bt,Ja],Za),TY=F([SY,bt],kD),PY=F([AD,bt,Ja],Za),IY=F([PY,bt],OD),AY=F([CD,bt,Ja],Za),CY=F([AY,bt],ND),kY=F([TY,CY,IY],fh),OY=F([Et,ij,oj,bY,xY,kY,We,bt],RD),sj=F([Et,We,nl,L_,Mp,bt,OY],DD),NY=F([sj,Et,M_],MD),RY=F([Et,sj,NY,bt],LD),aj=e=>{var t=bt(e),n=Ja(e),r=!1;return mc(e,t,n,r)},lj=F([Et,aj],Lp),uj=F([Et,M_,RY,lj],k_),DY=F([We,L_,Et,bt],zD),jY=F([We,L_,Et,bt],BD),MY=(e,t,n,r,i,o,s,a)=>{if(t){var{type:l}=t,u=xo(e,a);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return d=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Xn(i[0]-i[1])*2*d:d,u&&s?s.map((h,p)=>({coordinate:r(h)+d,value:h,index:p,offset:d})):r.domain().map((h,p)=>({coordinate:r(h)+d,value:o?o[h]:h,index:p,offset:d}))}}},Ni=F([We,Et,M_,uj,aj,DY,jY,bt],MY),V_=F([qD,GD,QG],(e,t,n)=>YD(n.shared,e,t)),cj=e=>e.tooltip.settings.trigger,F_=e=>e.tooltip.settings.defaultIndex,Kp=F([tl,V_,cj,F_],ej),$u=F([Kp,nl],j_),fj=F([Ni,$u],QD),LY=F([Kp],e=>{if(e)return e.dataKey}),dj=F([tl,V_,cj,F_],nj),VY=F([Ii,Ai,We,Bt,Ni,F_,dj,gc],tj),FY=F([Kp,VY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),$Y=F([Kp],e=>e.active),UY=F([dj,$u,Po,bD,fj,gc,V_],rj),zY=F([UY],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function hP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(n),!0).forEach(function(r){BY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BY(e,t,n){return(t=WY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WY(e){var t=KY(e,"string");return typeof t=="symbol"?t:t+""}function KY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HY=()=>ie(Et),qY=()=>{var e=HY(),t=ie(Ni),n=ie(uj);return qd(!e||!n?void 0:pP(pP({},e),{},{scale:n}),t)};function mP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(n),!0).forEach(function(r){GY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GY(e,t,n){return(t=YY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XY=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},JY=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:s}=r;return Vs(Vs(Vs({},r),Vt(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var a=i.coordinate,{angle:l}=r;return Vs(Vs(Vs({},r),Vt(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function ZY(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var hj=(e,t,n,r,i)=>{var o,s=-1,a=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(a<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var u=l>0?n[l-1].coordinate:n[a-1].coordinate,c=n[l].coordinate,d=l>=a-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Xn(c-u)!==Xn(d-c)){var p=[];if(Xn(d-c)===Xn(i[1]-i[0])){h=d;var v=c+i[1]-i[0];p[0]=Math.min(v,(v+u)/2),p[1]=Math.max(v,(v+u)/2)}else{h=u;var _=d+i[1]-i[0];p[0]=Math.min(c,(_+c)/2),p[1]=Math.max(c,(_+c)/2)}var y=[Math.min(c,(h+c)/2),Math.max(c,(h+c)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){({index:s}=n[l]);break}}else{var w=Math.min(u,d),x=Math.max(u,d);if(e>(w+c)/2&&e<=(x+c)/2){({index:s}=n[l]);break}}}else if(t){for(var S=0;S<a;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<a-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===a-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:s}=t[S]);break}}return s},eQ=()=>ie(y_),$_=(e,t)=>t,pj=(e,t,n)=>n,U_=(e,t,n,r)=>r,tQ=F(Ni,e=>gp(e,t=>t.coordinate)),z_=F([tl,$_,pj,U_],ej),mj=F([z_,nl],j_),nQ=(e,t,n)=>{if(t!=null){var r=tl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},gj=F([tl,$_,pj,U_],nj),dh=F([Ii,Ai,We,Bt,Ni,U_,gj,gc],tj),rQ=F([z_,dh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),vj=F([Ni,mj],QD),iQ=F([gj,mj,Po,bD,vj,gc,$_],rj),oQ=F([z_],e=>({isActive:e.active,activeIndex:e.index})),sQ=(e,t,n,r,i,o,s)=>{if(!(!e||!n||!r||!i)&&ZY(e,s)){var a=zW(e,t),l=hj(a,o,i,n,r),u=XY(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},aQ=(e,t,n,r,i,o,s)=>{if(!(!e||!r||!i||!o||!n)){var a=YK(e,n);if(a){var l=BW(a,t),u=hj(l,s,o,r,i),c=JY(t,o,u,a);return{activeIndex:String(u),activeCoordinate:c}}}},lQ=(e,t,n,r,i,o,s,a)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?sQ(e,t,r,i,o,s,a):aQ(e,t,n,r,i,o,s)},uQ=F(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),cQ=F(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(un)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Gq}});function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(r){fQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fQ(e,t,n){return(t=dQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pQ={},mQ={zIndexMap:Object.values(un).reduce((e,t)=>vP(vP({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),pQ)},gQ=new Set(Object.values(un));function vQ(e){return gQ.has(e)}var yj=In({name:"zIndex",initialState:mQ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:mt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!vQ(n)&&delete e.zIndexMap[n])},prepare:mt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:mt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:mt()}}}),{registerZIndexPortal:yQ,unregisterZIndexPortal:wQ,registerZIndexPortalId:_Q,unregisterZIndexPortalId:bQ}=yj.actions,EQ=yj.reducer;function Ri(e){var{zIndex:t,children:n}=e,r=w8(),i=r&&t!==void 0&&t!==0,o=An(),s=ft();b.useLayoutEffect(()=>i?(s(yQ({zIndex:t})),()=>{s(wQ({zIndex:t}))}):qa,[s,t,i]);var a=ie(u=>uQ(u,t,o));if(!i)return n;if(!a)return null;var l=document.getElementById(a);return l?Fh.createPortal(n,l):null}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(null,arguments)}function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(r){xQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xQ(e,t,n){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return b.isValidElement(t)?b.cloneElement(t,r):b.createElement(n,r)}function IQ(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:u,chartName:c}=e,d=n,h=r,p=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var v,_,y;if(c==="ScatterChart")v=d,_=cK,y=un.cursorLine;else if(c==="BarChart")v=fK(a,d,o,s),_=JN,y=un.cursorRectangle;else if(a==="radial"&&PO(d)){var{cx:w,cy:x,radius:S,startAngle:R,endAngle:C}=ZN(d);v={cx:w,cy:x,startAngle:R,endAngle:C,innerRadius:S,outerRadius:S},_=tR,y=un.cursorLine}else v={points:ZK(a,d,o)},_=qN,y=un.cursorLine;var j=typeof l=="object"&&"className"in l?l.className:void 0,I=_f(_f(_f(_f({stroke:"#ccc",pointerEvents:"none"},o),v),sp(l)),{},{payload:h,payloadIndex:p,className:De("recharts-tooltip-cursor",j)});return b.createElement(Ri,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},b.createElement(PQ,{cursor:l,cursorComp:_,cursorProps:I}))}function AQ(e){var t=qY(),n=BN(),r=Ip(),i=eQ();return t==null||n==null||r==null||i==null?null:b.createElement(IQ,my({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var wj=b.createContext(null),CQ=()=>b.useContext(wj),_j={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,v=new Array(p);h<p;h++)v[h]=d[h].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,h,p,v){var _=n?n+u:u;if(!this._events[_])return!1;var y=this._events[_],w=arguments.length,x,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,h),!0;case 5:return y.fn.call(y.context,c,d,h,p),!0;case 6:return y.fn.call(y.context,c,d,h,p,v),!0}for(S=1,x=new Array(w-1);S<w;S++)x[S-1]=arguments[S];y.fn.apply(y.context,x)}else{var R=y.length,C;for(S=0;S<R;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),w){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,c);break;case 3:y[S].fn.call(y[S].context,c,d);break;case 4:y[S].fn.call(y[S].context,c,d,h);break;default:if(!x)for(C=1,x=new Array(w-1);C<w;C++)x[C-1]=arguments[C];y[S].fn.apply(y[S].context,x)}}return!0},a.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var v=this._events[p];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&s(this,p);else{for(var _=0,y=[],w=v.length;_<w;_++)(v[_].fn!==c||h&&!v[_].once||d&&v[_].context!==d)&&y.push(v[_]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(_j);var kQ=_j.exports;const OQ=Ti(kQ);var Uu=new OQ,gy="recharts.syncEvent.tooltip",wP="recharts.syncEvent.brush";function NQ(e,t){if(t){var n=Number.parseInt(t,10);if(!$r(n))return e==null?void 0:e[n]}}var RQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},bj=In({name:"options",initialState:RQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),DQ=bj.reducer,{createEventEmitter:jQ}=bj.actions;function MQ(e){return e.tooltip.syncInteraction}var LQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Ej=In({name:"chartData",initialState:LQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:_P,setDataStartEndIndexes:VQ,setComputedData:_ne}=Ej.actions,FQ=Ej.reducer,$Q=["x","y"];function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){UQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UQ(e,t,n){return(t=zQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zQ(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WQ(e,t){if(e==null)return{};var n,r,i=KQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HQ(){var e=ie(w_),t=ie(__),n=ft(),r=ie(tD),i=ie(Ni),o=Ip(),s=Pp(),a=ie(l=>l.rootProps.className);b.useEffect(()=>{if(e==null)return qa;var l=(u,c,d)=>{if(t!==d&&e===u){if(r==="index"){var h;if(s&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:v,y:_}=p,y=WQ(p,$Q),{x:w,y:x,width:S,height:R}=c.payload.sourceViewBox,C=Fs(Fs({},y),{},{x:s.x+(S?(v-w)/S:0)*s.width,y:s.y+(R?(_-x)/R:0)*s.height});n(Fs(Fs({},c),{},{payload:Fs(Fs({},c.payload),{},{coordinate:C})}))}else n(c);return}if(i!=null){var j;if(typeof r=="function"){var I={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},T=r(i,I);j=i[T]}else r==="value"&&(j=i.find(J=>String(J.value)===c.payload.label));var{coordinate:P}=c.payload;if(j==null||c.payload.active===!1||P==null||s==null){n(hy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:k,y:N}=P,D=Math.min(k,s.x+s.width),O=Math.min(N,s.y+s.height),$={x:o==="horizontal"?j.coordinate:D,y:o==="horizontal"?O:j.coordinate},B=hy({active:c.payload.active,coordinate:$,dataKey:c.payload.dataKey,index:String(j.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox});n(B)}}};return Uu.on(gy,l),()=>{Uu.off(gy,l)}},[a,n,t,e,r,i,o,s])}function qQ(){var e=ie(w_),t=ie(__),n=ft();b.useEffect(()=>{if(e==null)return qa;var r=(i,o,s)=>{t!==s&&e===i&&n(VQ(o))};return Uu.on(wP,r),()=>{Uu.off(wP,r)}},[n,t,e])}function GQ(){var e=ft();b.useEffect(()=>{e(jQ())},[e]),HQ(),qQ()}function YQ(e,t,n,r,i,o){var s=ie(p=>nQ(p,e,t)),a=ie(__),l=ie(w_),u=ie(tD),c=ie(MQ),d=c==null?void 0:c.active,h=Pp();b.useEffect(()=>{if(!d&&l!=null&&a!=null){var p=hy({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h});Uu.emit(gy,l,p,a)}},[d,n,s,i,r,a,l,u,o,h])}function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){QQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QQ(e,t,n){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XQ(e){var t=JQ(e,"string");return typeof t=="symbol"?t:t+""}function JQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZQ(e){return e.dataKey}function eX(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(z8,t)}var SP=[],tX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ga.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function nX(e){var t,n,r=rn(e,tX),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:a,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:_,wrapperStyle:y,cursor:w,shared:x,trigger:S,defaultIndex:R,portal:C,axisId:j}=r,I=ft(),T=typeof R=="number"?String(R):R;b.useEffect(()=>{I(eY({shared:x,trigger:S,axisId:j,active:i,defaultIndex:T}))},[I,x,S,j,i,T]);var P=Pp(),k=HN(),N=YG(x),{activeIndex:D,isActive:O}=(t=ie(Ce=>oQ(Ce,N,S,T)))!==null&&t!==void 0?t:{},$=ie(Ce=>iQ(Ce,N,S,T)),B=ie(Ce=>vj(Ce,N,S,T)),J=ie(Ce=>rQ(Ce,N,S,T)),Y=$,U=CQ(),W=(n=i??O)!==null&&n!==void 0?n:!1,[Z,pe]=rN([Y,W]),me=N==="axis"?B:void 0;YQ(N,S,J,me,D,W);var we=C??U;if(we==null||P==null||N==null)return null;var Le=Y??SP;W||(Le=SP),u&&Le.length&&(Le=KO(Le.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||r.includeHidden)),h,ZQ));var Ke=Le.length>0,Ye=b.createElement(Y8,{allowEscapeViewBox:o,animationDuration:s,animationEasing:a,isAnimationActive:c,active:W,coordinate:J,hasPayload:Ke,offset:d,position:p,reverseDirection:v,useTranslate3d:_,viewBox:P,wrapperStyle:y,lastBoundingBox:Z,innerRef:pe,hasPortalFromProps:!!C},eX(l,xP(xP({},r),{},{payload:Le,label:me,active:W,activeIndex:D,coordinate:J,accessibilityLayer:k})));return b.createElement(b.Fragment,null,Fh.createPortal(Ye,we),W&&b.createElement(AQ,{cursor:w,tooltipEventType:N,coordinate:J,payload:Le,index:D}))}function rX(e,t,n){return(t=iX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iX(e){var t=oX(e,"string");return typeof t=="symbol"?t:t+""}function oX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class sX{constructor(t){rX(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){lX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lX(e,t,n){return(t=uX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uX(e){var t=cX(e,"string");return typeof t=="symbol"?t:t+""}function cX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fX={cacheSize:2e3,enableCache:!0},xj=aX({},fX),PP=new sX(xj.cacheSize),dX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IP="recharts_measurement_span";function hX(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",s=t.letterSpacing||"",a=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(a)}var AP=(e,t)=>{try{var n=document.getElementById(IP);n||(n=document.createElement("span"),n.setAttribute("id",IP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,dX,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ru=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ga.isSsr)return{width:0,height:0};if(!xj.enableCache)return AP(t,n);var r=hX(t,n),i=PP.get(r);if(i)return i;var o=AP(t,n);return PP.set(r,o),o},CP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gX=Object.keys(Sj),na="NaN";function vX(e,t){return e*Sj[t]}class vn{static parse(t){var n,[,r,i]=(n=mX.exec(t))!==null&&n!==void 0?n:[];return new vn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,$r(t)&&(this.unit=""),n!==""&&!pX.test(n)&&(this.num=NaN,this.unit=""),gX.includes(n)&&(this.num=vX(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new vn(NaN,""):new vn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new vn(NaN,""):new vn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vn(NaN,""):new vn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vn(NaN,""):new vn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $r(this.num)}}function Tj(e){if(e.includes(na))return na;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=CP.exec(t))!==null&&n!==void 0?n:[],s=vn.parse(r??""),a=vn.parse(o??""),l=i==="*"?s.multiply(a):s.divide(a);if(l.isNaN())return na;t=t.replace(CP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,h]=(u=kP.exec(t))!==null&&u!==void 0?u:[],p=vn.parse(c??""),v=vn.parse(h??""),_=d==="+"?p.add(v):p.subtract(v);if(_.isNaN())return na;t=t.replace(kP,_.toString())}return t}var OP=/\(([^()]*)\)/;function yX(e){for(var t=e,n;(n=OP.exec(t))!=null;){var[,r]=n;t=t.replace(OP,Tj(r))}return t}function wX(e){var t=e.replace(/\s+/g,"");return t=yX(t),t=Tj(t),t}function _X(e){try{return wX(e)}catch{return na}}function cg(e){var t=_X(e.slice(5,-1));return t===na?"":t}var bX=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],EX=["dx","dy","angle","className","breakAll"];function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vy.apply(null,arguments)}function NP(e,t){if(e==null)return{};var n,r,i=xX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pj=/[ \f\n\r\t\v\u2028\u2029]+/,Ij=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];kt(t)||(n?i=t.toString().split(""):i=t.toString().split(Pj));var o=i.map(a=>({word:a,width:ru(a,r).width})),s=n?0:ru("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}};function SX(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Aj=(e,t,n,r)=>e.reduce((i,o)=>{var{word:s,width:a}=o,l=i[i.length-1];if(l&&a!=null&&(t==null||r||l.width+a+n<Number(t)))l.words.push(s),l.width+=a+n;else{var u={words:[s],width:a};i.push(u)}return i},[]),Cj=e=>e.reduce((t,n)=>t.width>n.width?t:n),TX="",RP=(e,t,n,r,i,o,s,a)=>{var l=e.slice(0,t),u=Ij({breakAll:n,style:r,children:l+TX});if(!u)return[!1,[]];var c=Aj(u.wordsWithComputedWidth,o,s,a),d=c.length>i||Cj(c).width>Number(o);return[d,c]},PX=(e,t,n,r,i)=>{var{maxLines:o,children:s,style:a,breakAll:l}=e,u=oe(o),c=String(s),d=Aj(t,r,n,i);if(!u||i)return d;var h=d.length>o||Cj(d).width>Number(r);if(!h)return d;for(var p=0,v=c.length-1,_=0,y;p<=v&&_<=c.length-1;){var w=Math.floor((p+v)/2),x=w-1,[S,R]=RP(c,x,l,a,o,r,n,i),[C]=RP(c,w,l,a,o,r,n,i);if(!S&&!C&&(p=w+1),S&&C&&(v=w-1),!S&&C){y=R;break}_++}return y||d},DP=e=>{var t=kt(e)?[]:e.toString().split(Pj);return[{words:t,width:void 0}]},IX=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=e;if((t||n)&&!Ga.isSsr){var a,l,u=Ij({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;a=c,l=d}else return DP(r);return PX({breakAll:o,children:r,maxLines:s,style:i},a,l,t,!!n)}return DP(r)},kj="#808080",AX={breakAll:!1,capHeight:"0.71em",fill:kj,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},B_=b.forwardRef((e,t)=>{var n=rn(e,AX),{x:r,y:i,lineHeight:o,capHeight:s,fill:a,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,d=NP(n,bX),h=b.useMemo(()=>IX({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:p,dy:v,angle:_,className:y,breakAll:w}=d,x=NP(d,EX);if(!Ur(r)||!Ur(i)||h.length===0)return null;var S=Number(r)+(oe(p)?p:0),R=Number(i)+(oe(v)?v:0);if(!Ot(S)||!Ot(R))return null;var C;switch(c){case"start":C=cg("calc(".concat(s,")"));break;case"middle":C=cg("calc(".concat((h.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:C=cg("calc(".concat(h.length-1," * -").concat(o,")"));break}var j=[];if(l){var I=h[0].width,{width:T}=d;j.push("scale(".concat(oe(T)&&oe(I)?T/I:1,")"))}return _&&j.push("rotate(".concat(_,", ").concat(S,", ").concat(R,")")),j.length&&(x.transform=j.join(" ")),b.createElement("text",vy({},dn(x),{ref:t,x:S,y:R,className:De("recharts-text",y),textAnchor:u,fill:a.includes("url")?kj:a}),h.map((P,k)=>{var N=P.words.join(w?"":" ");return b.createElement("tspan",{x:S,dy:k===0?C:o,key:"".concat(N,"-").concat(k)},N)}))});B_.displayName="Text";var CX=["labelRef"];function kX(e,t){if(e==null)return{};var n,r,i=OX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(n),!0).forEach(function(r){NX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NX(e,t,n){return(t=RX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RX(e){var t=DX(e,"string");return typeof t=="symbol"?t:t+""}function DX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jr.apply(null,arguments)}var Oj=b.createContext(null),jX=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s,children:a}=e,l=b.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s}),[t,n,r,i,o,s]);return b.createElement(Oj.Provider,{value:l},a)},Nj=()=>{var e=b.useContext(Oj),t=Pp();return e||zN(t)},MX=b.createContext(null),LX=()=>{var e=b.useContext(MX),t=ie(sD);return e||t},VX=e=>{var{value:t,formatter:n}=e,r=kt(e.children)?t:e.children;return typeof n=="function"?n(r):r},W_=e=>e!=null&&typeof e=="function",FX=(e,t)=>{var n=Xn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},$X=(e,t,n,r,i)=>{var{offset:o,className:s}=e,{cx:a,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:h,clockWise:p}=i,v=(u+c)/2,_=FX(d,h),y=_>=0?1:-1,w,x;switch(t){case"insideStart":w=d+y*o,x=p;break;case"insideEnd":w=h-y*o,x=!p;break;case"end":w=h+y*o,x=p;break;default:throw new Error("Unsupported position ".concat(t))}x=_<=0?x:!x;var S=Vt(a,l,v,w),R=Vt(a,l,v,w+(x?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(x?0:1,`,
    `).concat(R.x,",").concat(R.y),j=kt(e.id)?ku("recharts-radial-line-"):e.id;return b.createElement("text",Jr({},r,{dominantBaseline:"central",className:De("recharts-radial-bar-label",s)}),b.createElement("defs",null,b.createElement("path",{id:j,d:C})),b.createElement("textPath",{xlinkHref:"#".concat(j)},n))},UX=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:a,endAngle:l}=e,u=(a+l)/2;if(n==="outside"){var{x:c,y:d}=Vt(r,i,s+t,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(o+s)/2,{x:p,y:v}=Vt(r,i,h,u);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},yy=e=>"cx"in e&&oe(e.cx),zX=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!yy(n)&&(o=n);var{x:s,y:a,upperWidth:l,lowerWidth:u,height:c}=t,d=s,h=s+(l-u)/2,p=(d+h)/2,v=(l+u)/2,_=d+l/2,y=c>=0?1:-1,w=y*r,x=y>0?"end":"start",S=y>0?"start":"end",R=l>=0?1:-1,C=R*r,j=R>0?"end":"start",I=R>0?"start":"end";if(i==="top"){var T={x:d+l/2,y:a-w,textAnchor:"middle",verticalAnchor:x};return it(it({},T),o?{height:Math.max(a-o.y,0),width:l}:{})}if(i==="bottom"){var P={x:h+u/2,y:a+c+w,textAnchor:"middle",verticalAnchor:S};return it(it({},P),o?{height:Math.max(o.y+o.height-(a+c),0),width:u}:{})}if(i==="left"){var k={x:p-C,y:a+c/2,textAnchor:j,verticalAnchor:"middle"};return it(it({},k),o?{width:Math.max(k.x-o.x,0),height:c}:{})}if(i==="right"){var N={x:p+v+C,y:a+c/2,textAnchor:I,verticalAnchor:"middle"};return it(it({},N),o?{width:Math.max(o.x+o.width-N.x,0),height:c}:{})}var D=o?{width:v,height:c}:{};return i==="insideLeft"?it({x:p+C,y:a+c/2,textAnchor:I,verticalAnchor:"middle"},D):i==="insideRight"?it({x:p+v-C,y:a+c/2,textAnchor:j,verticalAnchor:"middle"},D):i==="insideTop"?it({x:d+l/2,y:a+w,textAnchor:"middle",verticalAnchor:S},D):i==="insideBottom"?it({x:h+u/2,y:a+c-w,textAnchor:"middle",verticalAnchor:x},D):i==="insideTopLeft"?it({x:d+C,y:a+w,textAnchor:I,verticalAnchor:S},D):i==="insideTopRight"?it({x:d+l-C,y:a+w,textAnchor:j,verticalAnchor:S},D):i==="insideBottomLeft"?it({x:h+C,y:a+c-w,textAnchor:I,verticalAnchor:x},D):i==="insideBottomRight"?it({x:h+u-C,y:a+c-w,textAnchor:j,verticalAnchor:x},D):i&&typeof i=="object"&&(oe(i.x)||wi(i.x))&&(oe(i.y)||wi(i.y))?it({x:s+wo(i.x,v),y:a+wo(i.y,c),textAnchor:"end",verticalAnchor:"end"},D):it({x:_,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},D)},BX={offset:5,zIndex:un.label};function Bi(e){var t=rn(e,BX),{viewBox:n,position:r,value:i,children:o,content:s,className:a="",textBreakAll:l,labelRef:u}=t,c=LX(),d=Nj(),h=r==="center"?d:c??d,p,v,_;if(n==null?p=h:yy(n)?p=n:p=zN(n),!p||kt(i)&&kt(o)&&!b.isValidElement(s)&&typeof s!="function")return null;var y=it(it({},t),{},{viewBox:p});if(b.isValidElement(s)){var{labelRef:w}=y,x=kX(y,CX);return b.cloneElement(s,x)}if(typeof s=="function"){if(v=b.createElement(s,y),b.isValidElement(v))return v}else v=VX(t);var S=dn(t);if(yy(p)){if(r==="insideStart"||r==="insideEnd"||r==="end")return $X(t,r,v,S,p);_=UX(p,t.offset,t.position)}else _=zX(t,p);return b.createElement(Ri,{zIndex:t.zIndex},b.createElement(B_,Jr({ref:u,className:De("recharts-label",a)},S,_,{textAnchor:SX(S.textAnchor)?S.textAnchor:_.textAnchor,breakAll:l}),v))}Bi.displayName="Label";var WX=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(Bi,Jr({key:"label-implicit"},r)):Ur(e)?b.createElement(Bi,Jr({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===Bi?b.cloneElement(e,it({key:"label-implicit"},r)):b.createElement(Bi,Jr({key:"label-implicit",content:e},r)):W_(e)?b.createElement(Bi,Jr({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(Bi,Jr({},e,{key:"label-implicit"},r)):null};function KX(e){var{label:t,labelRef:n}=e,r=Nj();return WX(t,r,n)||null}var Rj={},Dj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Dj);var jj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(jj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dj,n=jj,r=pp;function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(Rj);var HX=Rj.last;const qX=Ti(HX);var GX=["valueAccessor"],YX=["dataKey","clockWise","id","textBreakAll","zIndex"];function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hh.apply(null,arguments)}function MP(e,t){if(e==null)return{};var n,r,i=QX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XX=e=>Array.isArray(e.value)?qX(e.value):e.value,Mj=b.createContext(void 0),JX=Mj.Provider,Lj=b.createContext(void 0);Lj.Provider;function ZX(){return b.useContext(Mj)}function eJ(){return b.useContext(Lj)}function Kf(e){var{valueAccessor:t=XX}=e,n=MP(e,GX),{dataKey:r,clockWise:i,id:o,textBreakAll:s,zIndex:a}=n,l=MP(n,YX),u=ZX(),c=eJ(),d=u||c;return!d||!d.length?null:b.createElement(Ri,{zIndex:a??un.label},b.createElement(yo,{className:"recharts-label-list"},d.map((h,p)=>{var v,_=kt(r)?t(h,p):fn(h&&h.payload,r),y=kt(o)?{}:{id:"".concat(o,"-").concat(p)};return b.createElement(Bi,hh({key:"label-".concat(p)},dn(h),l,y,{fill:(v=n.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:_,textBreakAll:s,viewBox:h.viewBox,index:p,zIndex:0}))})))}Kf.displayName="LabelList";function tJ(e){var{label:t}=e;return t?t===!0?b.createElement(Kf,{key:"labelList-implicit"}):b.isValidElement(t)||W_(t)?b.createElement(Kf,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(Kf,hh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(null,arguments)}var Vj=e=>{var{cx:t,cy:n,r,className:i}=e,o=De("recharts-dot",i);return oe(t)&&oe(n)&&oe(r)?b.createElement("circle",wy({},Fr(e),xw(e),{className:o,cx:t,cy:n,r})):null},nJ={radiusAxis:{},angleAxis:{}},Fj=In({name:"polarAxis",initialState:nJ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:bne,removeRadiusAxis:Ene,addAngleAxis:xne,removeAngleAxis:Sne}=Fj.actions,rJ=Fj.reducer,$j=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Uj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Uj);var iJ=Uj.isPlainObject;const oJ=Ti(iJ);function LP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(n),!0).forEach(function(r){sJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sJ(e,t,n){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aJ(e){var t=lJ(e,"string");return typeof t=="symbol"?t:t+""}function lJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ph.apply(null,arguments)}var FP=(e,t,n,r,i)=>{var o=n-r,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-o/2,",").concat(t+i),s+="L ".concat(e+n-o/2-r,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},uJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cJ=e=>{var t=rn(e,uJ),{x:n,y:r,upperWidth:i,lowerWidth:o,height:s,className:a}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,h=b.useRef(null),[p,v]=b.useState(-1),_=b.useRef(i),y=b.useRef(o),w=b.useRef(s),x=b.useRef(n),S=b.useRef(r),R=Kw(e,"trapezoid-");if(b.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var $=h.current.getTotalLength();$&&v($)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||s!==+s||i===0&&o===0||s===0)return null;var C=De("recharts-trapezoid",a);if(!d)return b.createElement("g",null,b.createElement("path",ph({},dn(t),{className:C,d:FP(n,r,i,o,s)})));var j=_.current,I=y.current,T=w.current,P=x.current,k=S.current,N="0px ".concat(p===-1?1:p,"px"),D="".concat(p,"px 0px"),O=GN(["strokeDasharray"],u,l);return b.createElement(Ww,{animationId:R,key:R,canBegin:p>0,duration:u,easing:l,isActive:d,begin:c},$=>{var B=wn(j,i,$),J=wn(I,o,$),Y=wn(T,s,$),U=wn(P,n,$),W=wn(k,r,$);h.current&&(_.current=B,y.current=J,w.current=Y,x.current=U,S.current=W);var Z=$>0?{transition:O,strokeDasharray:D}:{strokeDasharray:N};return b.createElement("path",ph({},dn(t),{className:C,d:FP(U,W,B,J,Y),ref:h,style:VP(VP({},Z),t.style)}))})},fJ=["option","shapeType","propTransformer","activeClassName","isActive"];function dJ(e,t){if(e==null)return{};var n,r,i=hJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(n),!0).forEach(function(r){pJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pJ(e,t,n){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e){var t=gJ(e,"string");return typeof t=="symbol"?t:t+""}function gJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vJ(e,t){return mh(mh({},t),e)}function yJ(e,t){return e==="symbols"}function UP(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(JN,n);case"trapezoid":return b.createElement(cJ,n);case"sector":return b.createElement(tR,n);case"symbols":if(yJ(t))return b.createElement(Ew,n);break;case"curve":return b.createElement(qN,n);default:return null}}function wJ(e){return b.isValidElement(e)?e.props:e}function _J(e){var{option:t,shapeType:n,propTransformer:r=vJ,activeClassName:i="recharts-active-shape",isActive:o}=e,s=dJ(e,fJ),a;if(b.isValidElement(t))a=b.cloneElement(t,mh(mh({},s),wJ(t)));else if(typeof t=="function")a=t(s);else if(oJ(t)&&typeof t!="boolean"){var l=r(t,s);a=b.createElement(UP,{shapeType:n,elementProps:l})}else{var u=s;a=b.createElement(UP,{shapeType:n,elementProps:u})}return o?b.createElement(yo,{className:i},a):a}function bJ(e){var{fn:t,args:n}=e,r=ft(),i=An();return b.useLayoutEffect(()=>{if(!i){var o=t(n);return r(JG(o)),()=>{r(ZG(o))}}},[t,n,r,i]),null}function EJ(e){var{legendPayload:t}=e,n=ft(),r=An();return b.useLayoutEffect(()=>r?qa:(n(E8(t)),()=>{n(x8(t))}),[n,r,t]),null}var fg,xJ=()=>{var[e]=b.useState(()=>ku("uid-"));return e},SJ=(fg=i2.useId)!==null&&fg!==void 0?fg:xJ;function zj(e,t){var n=SJ();return t||(e?"".concat(e,"-").concat(n):n)}var TJ=b.createContext(void 0),PJ=e=>{var{id:t,type:n,children:r}=e,i=zj("recharts-".concat(n),t);return b.createElement(TJ.Provider,{value:i},r(i))},IJ={cartesianItems:[],polarItems:[]},Bj=In({name:"graphicalItems",initialState:IJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:mt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ui(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:mt()},removeCartesianGraphicalItem:{reducer(e,t){var n=ui(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:mt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:mt()},removePolarGraphicalItem:{reducer(e,t){var n=ui(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:mt()}}}),{addCartesianGraphicalItem:AJ,replaceCartesianGraphicalItem:CJ,removeCartesianGraphicalItem:kJ,addPolarGraphicalItem:Tne,removePolarGraphicalItem:Pne}=Bj.actions,OJ=Bj.reducer;function NJ(e){var t=ft(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(AJ(e)):n.current!==e&&t(CJ({prev:n.current,next:e})),n.current=e},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(t(kJ(n.current)),n.current=null)},[t]),null}var RJ=["points"];function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(r){DJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DJ(e,t,n){return(t=jJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jJ(e){var t=MJ(e,"string");return typeof t=="symbol"?t:t+""}function MJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gh.apply(null,arguments)}function LJ(e,t){if(e==null)return{};var n,r,i=VJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FJ(e){var{option:t,dotProps:n,className:r}=e;if(b.isValidElement(t))return b.cloneElement(t,n);if(typeof t=="function")return t(n);var i=De(r,typeof t!="boolean"?t.className:""),o=n??{},{points:s}=o,a=LJ(o,RJ);return b.createElement(Vj,gh({},a,{className:i}))}function $J(e,t){return e==null?!1:t?!0:e.length===1}function UJ(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:s,needClip:a,clipPathId:l,zIndex:u=un.scatter}=e;if(!$J(t,n))return null;var c=$j(n),d=L6(n),h=t.map((v,_)=>{var y,w,x=dg(dg(dg({r:3},s),d),{},{index:_,cx:(y=v.x)!==null&&y!==void 0?y:void 0,cy:(w=v.y)!==null&&w!==void 0?w:void 0,dataKey:o,value:v.value,payload:v.payload,points:t});return b.createElement(FJ,{key:"dot-".concat(_),option:n,dotProps:x,className:i})}),p={};return a&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),b.createElement(Ri,{zIndex:u},b.createElement(yo,gh({className:r},p),h))}function BP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(n),!0).forEach(function(r){zJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zJ(e,t,n){return(t=BJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BJ(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KJ={xAxis:{},yAxis:{},zAxis:{}},Wj=In({name:"cartesianAxis",initialState:KJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:mt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:mt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:mt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:mt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:mt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:mt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var s=[...o,r].slice(-3);e.yAxis[n]=WP(WP({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:HJ,removeXAxis:qJ,addYAxis:GJ,removeYAxis:YJ,addZAxis:Ine,removeZAxis:Ane,updateYAxisWidth:QJ}=Wj.actions,XJ=Wj.reducer,JJ=F([Bt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),ZJ=F([JJ,Ii,Ai],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),K_=()=>ie(ZJ),eZ=()=>ie(zY);function KP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(n),!0).forEach(function(r){tZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tZ(e,t,n){return(t=nZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nZ(e){var t=rZ(e,"string");return typeof t=="symbol"?t:t+""}function rZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iZ=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},a=hg(hg(hg({},s),sp(i)),xw(i)),l;return b.isValidElement(i)?l=b.cloneElement(i,a):typeof i=="function"?l=i(a):l=b.createElement(Vj,a),b.createElement(yo,{className:"recharts-active-dot"},l)};function oZ(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,zIndex:o=un.activeDot}=e,s=ie($u),a=eZ();if(t==null||a==null)return null;var l=t.find(u=>a.includes(u.payload));return kt(l)?null:b.createElement(Ri,{zIndex:o},b.createElement(iZ,{point:l,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r}))}var sZ={},Kj=In({name:"errorBars",initialState:sZ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Cne,replaceErrorBar:kne,removeErrorBar:One}=Kj.actions,aZ=Kj.reducer,lZ=["children"];function uZ(e,t){if(e==null)return{};var n,r,i=cZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dZ=b.createContext(fZ);function hZ(e){var{children:t}=e,n=uZ(e,lZ);return b.createElement(dZ.Provider,{value:n},t)}function Hj(e,t){var n,r,i=ie(u=>ki(u,e)),o=ie(u=>Oi(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:kn.allowDataOverflow,a=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:On.allowDataOverflow,l=s||a;return{needClip:l,needClipX:s,needClipY:a}}function pZ(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=K_(),{needClipX:o,needClipY:s,needClip:a}=Hj(t,n);if(!a||!i)return null;var{x:l,y:u,width:c,height:d}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:o?l:l-c/2,y:s?u:u-d/2,width:o?c:c*2,height:s?d:d*2}))}var mZ=e=>{var{chartData:t}=e,n=ft(),r=An();return b.useEffect(()=>r?()=>{}:(n(_P(t)),()=>{n(_P(void 0))}),[t,n,r]),null},HP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},qj=In({name:"brush",initialState:HP,reducers:{setBrushSettings(e,t){return t.payload==null?HP:t.payload}}}),{setBrushSettings:Nne}=qj.actions,gZ=qj.reducer;function vZ(e,t,n){return(t=yZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yZ(e){var t=wZ(e,"string");return typeof t=="symbol"?t:t+""}function wZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class H_{static create(t){return new H_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}vZ(H_,"EPS",1e-4);function _Z(e){return(e%180+180)%180}var bZ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=_Z(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},EZ={dots:[],areas:[],lines:[]},Gj=In({name:"referenceElements",initialState:EZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ui(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ui(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ui(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Rne,removeDot:Dne,addArea:jne,removeArea:Mne,addLine:Lne,removeLine:Vne}=Gj.actions,xZ=Gj.reducer,SZ=b.createContext(void 0),TZ=e=>{var{children:t}=e,[n]=b.useState("".concat(ku("recharts"),"-clip")),r=K_();if(r==null)return null;var{x:i,y:o,width:s,height:a}=r;return b.createElement(SZ.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:o,height:a,width:s}))),t)};function La(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Yj(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function PZ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return bZ(r,n)}function IZ(e,t,n){var r=n==="width",{x:i,y:o,width:s,height:a}=e;return t===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function vh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function AZ(e,t){return Yj(e,t+1)}function CZ(e,t,n,r,i){for(var o=(r||[]).slice(),{start:s,end:a}=t,l=0,u=1,c=s,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:Yj(r,u)};var _=l,y,w=()=>(y===void 0&&(y=n(v,_)),y),x=v.coordinate,S=l===0||vh(e,x,w,c,a);S||(l=0,c=s,u+=1),S&&(c=x+e*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(n),!0).forEach(function(r){kZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kZ(e,t,n){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OZ(e){var t=NZ(e,"string");return typeof t=="symbol"?t:t+""}function NZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RZ(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:a}=t,{end:l}=t,u=function(h){var p=o[h],v,_=()=>(v===void 0&&(v=n(p,h)),v);if(h===s-1){var y=e*(p.coordinate+e*_()/2-l);o[h]=p=Yt(Yt({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else o[h]=p=Yt(Yt({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var w=vh(e,p.tickCoord,_,a,l);w&&(l=p.tickCoord-e*(_()/2+i),o[h]=Yt(Yt({},p),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return o}function DZ(e,t,n,r,i,o){var s=(r||[]).slice(),a=s.length,{start:l,end:u}=t;if(o){var c=r[a-1],d=n(c,a-1),h=e*(c.coordinate+e*d/2-u);if(s[a-1]=c=Yt(Yt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var p=vh(e,c.tickCoord,()=>d,l,u);p&&(u=c.tickCoord-e*(d/2+i),s[a-1]=Yt(Yt({},c),{},{isShow:!0}))}}for(var v=o?a-1:a,_=function(x){var S=s[x],R,C=()=>(R===void 0&&(R=n(S,x)),R);if(x===0){var j=e*(S.coordinate-e*C()/2-l);s[x]=S=Yt(Yt({},S),{},{tickCoord:j<0?S.coordinate-j*e:S.coordinate})}else s[x]=S=Yt(Yt({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var I=vh(e,S.tickCoord,C,l,u);I&&(l=S.tickCoord+e*(C()/2+i),s[x]=Yt(Yt({},S),{},{isShow:!0}))}},y=0;y<v;y++)_(y);return s}function q_(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:a,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!r)return[];if(oe(l)||Ga.isSsr){var h;return(h=AZ(i,oe(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],v=a==="top"||a==="bottom"?"width":"height",_=c&&v==="width"?ru(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(S,R)=>{var C=typeof u=="function"?u(S.value,R):S.value;return v==="width"?PZ(ru(C,{fontSize:t,letterSpacing:n}),_,d):ru(C,{fontSize:t,letterSpacing:n})[v]},w=i.length>=2?Xn(i[1].coordinate-i[0].coordinate):1,x=IZ(o,w,v);return l==="equidistantPreserveStart"?CZ(w,x,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=DZ(w,x,y,i,s,l==="preserveStartEnd"):p=RZ(w,x,y,i,s),p.filter(S=>S.isShow))}var jZ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>s&&(s=d.width)}});var a=n?n.getBoundingClientRect().width:0,l=i+o,u=s+l+a+(n?r:0);return Math.round(u)}return 0},MZ=["axisLine","width","height","className","hide","ticks","axisType"],LZ=["viewBox"],VZ=["viewBox"];function _y(e,t){if(e==null)return{};var n,r,i=FZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vs.apply(null,arguments)}function GP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(n),!0).forEach(function(r){$Z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Z(e,t,n){return(t=UZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UZ(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G_={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:un.axis};function BZ(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:a,otherSvgProps:l}=e;if(!a)return null;var u=lt(lt(lt({},l),Fr(a)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!s||o==="bottom"&&s);u=lt(lt({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var d=+(o==="left"&&!s||o==="right"&&s);u=lt(lt({},u),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return b.createElement("line",vs({},u,{className:De("recharts-cartesian-axis-line",hp(a,"className"))}))}function WZ(e,t,n,r,i,o,s,a,l){var u,c,d,h,p,v,_=a?-1:1,y=e.tickSize||s,w=oe(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":u=c=e.coordinate,h=n+ +!a*i,d=h-_*y,v=d-_*l,p=w;break;case"left":d=h=e.coordinate,c=t+ +!a*r,u=c-_*y,p=u-_*l,v=w;break;case"right":d=h=e.coordinate,c=t+ +a*r,u=c+_*y,p=u+_*l,v=w;break;default:u=c=e.coordinate,h=n+ +a*i,d=h+_*y,v=d+_*l,p=w;break}return{line:{x1:u,y1:d,x2:c,y2:h},tick:{x:p,y:v}}}function KZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function HZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function qZ(e){var{option:t,tickProps:n,value:r}=e,i,o=De(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,lt(lt({},n),{},{className:o}));else if(typeof t=="function")i=t(lt(lt({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=De(s,t==null?void 0:t.className)),i=b.createElement(B_,vs({},n,{className:s}),r)}return i}var GZ=b.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:s,unit:a,padding:l,tickTextProps:u,orientation:c,mirror:d,x:h,y:p,width:v,height:_,tickSize:y,tickMargin:w,fontSize:x,letterSpacing:S,getTicksConfig:R,events:C,axisType:j}=e,I=q_(lt(lt({},R),{},{ticks:n}),x,S),T=KZ(c,d),P=HZ(c,d),k=Fr(R),N=sp(r),D={};typeof i=="object"&&(D=i);var O=lt(lt({},k),{},{fill:"none"},D),$=I.map(Y=>lt({entry:Y},WZ(Y,h,p,v,_,c,y,d,w))),B=$.map(Y=>{var{entry:U,line:W}=Y;return b.createElement(yo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},i&&b.createElement("line",vs({},O,W,{className:De("recharts-cartesian-axis-tick-line",hp(i,"className"))})))}),J=$.map((Y,U)=>{var{entry:W,tick:Z}=Y,pe=lt(lt(lt(lt({textAnchor:T,verticalAnchor:P},k),{},{stroke:"none",fill:o},N),Z),{},{index:U,payload:W,visibleTicksCount:I.length,tickFormatter:s,padding:l},u);return b.createElement(yo,vs({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},IO(C,W,U)),r&&b.createElement(qZ,{option:r,tickProps:pe,value:"".concat(typeof s=="function"?s(W.value,U):W.value).concat(a||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},J.length>0&&b.createElement(Ri,{zIndex:un.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},J)),B.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},B))}),YZ=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:s,ticks:a,axisType:l}=e,u=_y(e,MZ),[c,d]=b.useState(""),[h,p]=b.useState(""),v=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return jZ({ticks:v.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=b.useCallback(y=>{if(y){var w=y.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=w;var x=w[0];if(x){var S=window.getComputedStyle(x),R=S.fontSize,C=S.letterSpacing;(R!==c||C!==h)&&(d(R),p(C))}}},[c,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(Ri,{zIndex:e.zIndex},b.createElement(yo,{className:De("recharts-cartesian-axis",o)},b.createElement(BZ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Fr(e)}),b.createElement(GZ,{ref:_,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:a,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(jX,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(KX,{label:e.label,labelRef:e.labelRef}),e.children)))}),QZ=b.memo(YZ,(e,t)=>{var{viewBox:n}=e,r=_y(e,LZ),{viewBox:i}=t,o=_y(t,VZ);return La(n,i)&&La(r,o)}),Y_=b.forwardRef((e,t)=>{var n=rn(e,G_);return b.createElement(QZ,vs({},n,{ref:t}))});Y_.displayName="CartesianAxis";var XZ=["x1","y1","x2","y2","key"],JZ=["offset"],ZZ=["xAxisId","yAxisId"],eee=["xAxisId","yAxisId"];function YP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(n),!0).forEach(function(r){tee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tee(e,t,n){return(t=nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nee(e){var t=ree(e,"string");return typeof t=="symbol"?t:t+""}function ree(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qo.apply(null,arguments)}function yh(e,t){if(e==null)return{};var n,r,i=iee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oee=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:a}=e;return b.createElement("rect",{x:r,y:i,ry:a,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Qj(e){var{option:t,lineItemProps:n}=e,r;if(b.isValidElement(t))r=b.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:s,x2:a,y2:l,key:u}=n,c=yh(n,XZ),d=(i=Fr(c))!==null&&i!==void 0?i:{},{offset:h}=d,p=yh(d,JZ);r=b.createElement("line",qo({},p,{x1:o,y1:s,x2:a,y2:l,fill:"none",key:u}))}return r}function see(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,a=yh(e,ZZ),l=i.map((u,c)=>{var d=Zt(Zt({},a),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(c),index:c});return b.createElement(Qj,{key:"line-".concat(c),option:r,lineItemProps:d})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function aee(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,a=yh(e,eee),l=i.map((u,c)=>{var d=Zt(Zt({},a),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(c),index:c});return b.createElement(Qj,{option:r,lineItemProps:d,key:"line-".concat(c)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function lee(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:a,horizontal:l=!0}=e;if(!l||!t||!t.length||a==null)return null;var u=a.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var p=!u[h+1],v=p?i+s-d:u[h+1]-d;if(v<=0)return null;var _=h%t.length;return b.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:v,width:o,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function uee(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:a,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var p=!u[h+1],v=p?i+s-d:u[h+1]-d;if(v<=0)return null;var _=h%n.length;return b.createElement("rect",{key:"react-".concat(h),x:d,y:o,width:v,height:a,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var cee=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return ON(q_(Zt(Zt(Zt({},G_),n),{},{ticks:NN(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},fee=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return ON(q_(Zt(Zt(Zt({},G_),n),{},{ticks:NN(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},dee={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:un.grid};function Xj(e){var t=zw(),n=Bw(),r=BN(),i=Zt(Zt({},rn(e,dee)),{},{x:oe(e.x)?e.x:r.left,y:oe(e.y)?e.y:r.top,width:oe(e.width)?e.width:r.width,height:oe(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:s,x:a,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:h,verticalValues:p}=i,v=An(),_=ie(P=>uP(P,"xAxis",o,v)),y=ie(P=>uP(P,"yAxis",s,v));if(!zr(u)||!zr(c)||!oe(a)||!oe(l))return null;var w=i.verticalCoordinatesGenerator||cee,x=i.horizontalCoordinatesGenerator||fee,{horizontalPoints:S,verticalPoints:R}=i;if((!S||!S.length)&&typeof x=="function"){var C=h&&h.length,j=x({yAxis:y?Zt(Zt({},y),{},{ticks:C?h:y.ticks}):void 0,width:t??u,height:n??c,offset:r},C?!0:d);Gd(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(S=j)}if((!R||!R.length)&&typeof w=="function"){var I=p&&p.length,T=w({xAxis:_?Zt(Zt({},_),{},{ticks:I?p:_.ticks}):void 0,width:t??u,height:n??c,offset:r},I?!0:d);Gd(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(R=T)}return b.createElement(Ri,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(oee,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(lee,qo({},i,{horizontalPoints:S})),b.createElement(uee,qo({},i,{verticalPoints:R})),b.createElement(see,qo({},i,{offset:r,horizontalPoints:S,xAxis:_,yAxis:y})),b.createElement(aee,qo({},i,{offset:r,verticalPoints:R,xAxis:_,yAxis:y}))))}Xj.displayName="CartesianGrid";var Jj=(e,t,n,r)=>HD(e,"xAxis",t,r),Zj=(e,t,n,r)=>KD(e,"xAxis",t,r),eM=(e,t,n,r)=>HD(e,"yAxis",n,r),tM=(e,t,n,r)=>KD(e,"yAxis",n,r),hee=F([We,Jj,eM,Zj,tM],(e,t,n,r,i)=>xo(e,"xAxis")?qd(t,r,!1):qd(n,i,!1)),pee=(e,t,n,r,i)=>i;function mee(e){return e.type==="line"}var gee=F([hD,pee],(e,t)=>e.filter(mee).find(n=>n.id===t)),vee=F([We,Jj,eM,Zj,tM,gee,hee,m_],(e,t,n,r,i,o,s,a)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=a;if(!(o==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:d,data:h}=o,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(u,c+1),p!=null)return Vee({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:d,bandSize:s,displayedData:p})}});function yee(e){var t=sp(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,s=Number(i),a=Number(o);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(a)||a<0)&&(a=r),{r:s,strokeWidth:a}}return{r:n,strokeWidth:r}}var wee=["id"],_ee=["type","layout","connectNulls","needClip","shape"],bee=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zu.apply(null,arguments)}function QP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(n),!0).forEach(function(r){Eee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eee(e,t,n){return(t=xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q_(e,t){if(e==null)return{};var n,r,i=Tee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pee=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:RN(n,t),payload:e}]};function Iee(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:a,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:RN(s,t),hide:a,type:e.tooltipType,color:e.stroke,unit:l}}}var nM=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Aee(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Cee=(e,t,n)=>{var r=n.reduce((d,h)=>d+h);if(!r)return nM(t,e);for(var i=Math.floor(e/r),o=e%r,s=t-e,a=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>o){a=[...n.slice(0,l),o-u];break}var c=a.length%2===0?[0,s]:[s];return[...Aee(n,i),...a,...c].map(d=>"".concat(d,"px")).join(", ")};function kee(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:o,needClip:s}=r,{id:a}=r,l=Q_(r,wee),u=Fr(l);return b.createElement(UJ,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:u,needClip:s,clipPathId:t})}function Oee(e){var{showLabels:t,children:n,points:r}=e,i=b.useMemo(()=>r==null?void 0:r.map(o=>{var s,a,l={x:(s=o.x)!==null&&s!==void 0?s:0,y:(a=o.y)!==null&&a!==void 0?a:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Tr(Tr({},l),{},{value:o.value,payload:o.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return b.createElement(JX,{value:t?i:void 0},n)}function XP(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:o}=e,{type:s,layout:a,connectNulls:l,needClip:u,shape:c}=o,d=Q_(o,_ee),h=Tr(Tr({},dn(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:a,connectNulls:l,strokeDasharray:i??o.strokeDasharray});return b.createElement(b.Fragment,null,(r==null?void 0:r.length)>1&&b.createElement(_J,zu({shapeType:"curve",option:c},h,{pathRef:n})),b.createElement(kee,{points:r,clipPathId:t,props:o}))}function Nee(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Ree(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:a,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,animateNewValues:h,width:p,height:v,onAnimationEnd:_,onAnimationStart:y}=n,w=i.current,x=Kw(n,"recharts-line-"),[S,R]=b.useState(!1),C=!S,j=b.useCallback(()=>{typeof _=="function"&&_(),R(!1)},[_]),I=b.useCallback(()=>{typeof y=="function"&&y(),R(!0)},[y]),T=Nee(r.current),P=o.current;return b.createElement(Oee,{points:s,showLabels:C},n.children,b.createElement(Ww,{animationId:x,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:j,onAnimationStart:I,key:x},k=>{var N=wn(P,T+P,k),D=Math.min(N,T),O;if(l)if(a){var $="".concat(a).split(/[,\s]+/gim).map(Y=>parseFloat(Y));O=Cee(D,T,$)}else O=nM(T,D);else O=a==null?void 0:String(a);if(w){var B=w.length/s.length,J=k===1?s:s.map((Y,U)=>{var W=Math.floor(U*B);if(w[W]){var Z=w[W];return Tr(Tr({},Y),{},{x:wn(Z.x,Y.x,k),y:wn(Z.y,Y.y,k)})}return h?Tr(Tr({},Y),{},{x:wn(p*2,Y.x,k),y:wn(v/2,Y.y,k)}):Tr(Tr({},Y),{},{x:Y.x,y:Y.y})});return i.current=J,b.createElement(XP,{props:n,points:J,clipPathId:t,pathRef:r,strokeDasharray:O})}return k>0&&T>0&&(i.current=s,o.current=D),b.createElement(XP,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:O})}),b.createElement(tJ,{label:n.label}))}function Dee(e){var{clipPathId:t,props:n}=e,r=b.useRef(null),i=b.useRef(0),o=b.useRef(null);return b.createElement(Ree,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var jee=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:fn(e.payload,t)}};class Mee extends b.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:o,yAxisId:s,top:a,left:l,width:u,height:c,id:d,needClip:h,zIndex:p}=this.props;if(t)return null;var v=De("recharts-line",i),_=d,{r:y,strokeWidth:w}=yee(n),x=$j(n),S=y*2+w;return b.createElement(Ri,{zIndex:p},b.createElement(yo,{className:v},h&&b.createElement("defs",null,b.createElement(pZ,{clipPathId:_,xAxisId:o,yAxisId:s}),!x&&b.createElement("clipPath",{id:"clipPath-dots-".concat(_)},b.createElement("rect",{x:l-S/2,y:a-S/2,width:u+S,height:c+S}))),b.createElement(hZ,{xAxisId:o,yAxisId:s,data:r,dataPointFormatter:jee,errorBarOffset:0},b.createElement(Dee,{props:this.props,clipPathId:_}))),b.createElement(oZ,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var rM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ga.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:un.line};function Lee(e){var t=rn(e,rM),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:a,dot:l,hide:u,isAnimationActive:c,label:d,legendType:h,xAxisId:p,yAxisId:v,id:_}=t,y=Q_(t,bee),{needClip:w}=Hj(p,v),x=K_(),S=Ip(),R=An(),C=ie(k=>vee(k,p,v,R,_));if(S!=="horizontal"&&S!=="vertical"||C==null||x==null)return null;var{height:j,width:I,x:T,y:P}=x;return b.createElement(Mee,zu({},y,{id:_,connectNulls:a,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:s,isAnimationActive:c,hide:u,label:d,legendType:h,xAxisId:p,yAxisId:v,points:C,layout:S,height:j,width:I,left:T,top:P,needClip:w}))}function Vee(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:s,bandSize:a,displayedData:l}=e;return l.map((u,c)=>{var d=fn(u,s);if(t==="horizontal"){var h=WS({axis:n,ticks:i,bandSize:a,entry:u,index:c}),p=kt(d)?null:r.scale(d);return{x:h,y:p,value:d,payload:u}}var v=kt(d)?null:n.scale(d),_=WS({axis:r,ticks:o,bandSize:a,entry:u,index:c});return v==null||_==null?null:{x:v,y:_,value:d,payload:u}}).filter(Boolean)}function Fee(e){var t=rn(e,rM),n=An();return b.createElement(PJ,{id:t.id,type:"line"},r=>b.createElement(b.Fragment,null,b.createElement(EJ,{legendPayload:Pee(t)}),b.createElement(bJ,{fn:Iee,args:t}),b.createElement(NJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),b.createElement(Lee,zu({},t,{id:r}))))}var iM=b.memo(Fee);iM.displayName="Line";var $ee=["dangerouslySetInnerHTML","ticks"],Uee=["id"],zee=["domain"],Bee=["domain"];function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},by.apply(null,arguments)}function wh(e,t){if(e==null)return{};var n,r,i=Wee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kee(e){var t=ft();return b.useLayoutEffect(()=>(t(HJ(e)),()=>{t(qJ(e))}),[e,t]),null}var Hee=e=>{var{xAxisId:t,className:n}=e,r=ie(jN),i=An(),o="xAxis",s=ie(y=>el(y,o,t,i)),a=ie(y=>WD(y,o,t,i)),l=ie(y=>jG(y,t)),u=ie(y=>UG(y,t)),c=ie(y=>uD(y,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,p=wh(e,$ee),{id:v}=c,_=wh(c,Uee);return b.createElement(Y_,by({},p,_,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:De("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a,axisType:o}))},qee={allowDataOverflow:kn.allowDataOverflow,allowDecimals:kn.allowDecimals,allowDuplicatedCategory:kn.allowDuplicatedCategory,height:kn.height,hide:!1,mirror:kn.mirror,orientation:kn.orientation,padding:kn.padding,reversed:kn.reversed,scale:kn.scale,tickCount:kn.tickCount,type:kn.type,xAxisId:0},Gee=e=>{var t,n,r,i,o,s=rn(e,qee);return b.createElement(b.Fragment,null,b.createElement(Kee,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(o=s.tick)!==null&&o!==void 0?o:!0,tickFormatter:s.tickFormatter}),b.createElement(Hee,s))},Yee=(e,t)=>{var{domain:n}=e,r=wh(e,zee),{domain:i}=t,o=wh(t,Bee);return La(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:La({domain:n},{domain:i}):!1},oM=b.memo(Gee,Yee);oM.displayName="XAxis";var Qee=["dangerouslySetInnerHTML","ticks"],Xee=["id"],Jee=["domain"],Zee=["domain"];function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ey.apply(null,arguments)}function _h(e,t){if(e==null)return{};var n,r,i=ete(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ete(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tte(e){var t=ft();return b.useLayoutEffect(()=>(t(GJ(e)),()=>{t(YJ(e))}),[e,t]),null}var nte=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=b.useRef(null),s=b.useRef(null),a=ie(jN),l=An(),u=ft(),c="yAxis",d=ie(C=>el(C,c,t,l)),h=ie(C=>WG(C,t)),p=ie(C=>BG(C,t)),v=ie(C=>WD(C,c,t,l)),_=ie(C=>cD(C,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!h||W_(i)||b.isValidElement(i)||_==null)){var C=o.current;if(C){var j=C.getCalculatedWidth();Math.round(h.width)!==Math.round(j)&&u(QJ({id:t,width:j}))}}},[v,h,u,i,t,r,_]),h==null||p==null||_==null)return null;var{dangerouslySetInnerHTML:y,ticks:w}=e,x=_h(e,Qee),{id:S}=_,R=_h(_,Xee);return b.createElement(Y_,Ey({},x,R,{ref:o,labelRef:s,scale:d,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:De("recharts-".concat(c," ").concat(c),n),viewBox:a,ticks:v,axisType:c}))},rte={allowDataOverflow:On.allowDataOverflow,allowDecimals:On.allowDecimals,allowDuplicatedCategory:On.allowDuplicatedCategory,hide:!1,mirror:On.mirror,orientation:On.orientation,padding:On.padding,reversed:On.reversed,scale:On.scale,tickCount:On.tickCount,type:On.type,width:On.width,yAxisId:0},ite=e=>{var t,n,r,i,o,s=rn(e,rte);return b.createElement(b.Fragment,null,b.createElement(tte,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(o=s.tick)!==null&&o!==void 0?o:!0,tickFormatter:s.tickFormatter}),b.createElement(nte,s))},ote=(e,t)=>{var{domain:n}=e,r=_h(e,Jee),{domain:i}=t,o=_h(t,Zee);return La(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:La({domain:n},{domain:i}):!1},sM=b.memo(ite,ote);sM.displayName="YAxis";var ste={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=b;function ate(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lte=typeof Object.is=="function"?Object.is:ate,ute=yc.useSyncExternalStore,cte=yc.useRef,fte=yc.useEffect,dte=yc.useMemo,hte=yc.useDebugValue;ste.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=cte(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=dte(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return d=v}return d=p}if(v=d,lte(c,p))return v;var _=r(p);return i!==void 0&&i(v,_)?(c=p,v):(c=p,d=_)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=ute(e,o[0],o[1]);return fte(function(){s.hasValue=!0,s.value=a},[a]),hte(a),a};function pte(e){e()}function mte(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pte(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var JP={notify(){},get:()=>[]};function gte(e,t){let n,r=JP,i=0,o=!1;function s(_){c();const y=r.subscribe(_);let w=!1;return()=>{w||(w=!0,y(),d())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return o}function c(){i++,n||(n=e.subscribe(l),r=mte())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=JP)}function h(){o||(o=!0,c())}function p(){o&&(o=!1,d())}const v={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return v}var vte=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yte=vte(),wte=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_te=wte(),bte=()=>yte||_te?b.useLayoutEffect:b.useEffect,Ete=bte(),pg=Symbol.for("react-redux-context"),mg=typeof globalThis<"u"?globalThis:{};function xte(){if(!b.createContext)return{};const e=mg[pg]??(mg[pg]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var Ste=xte();function Tte(e){const{children:t,context:n,serverState:r,store:i}=e,o=b.useMemo(()=>{const l=gte(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=b.useMemo(()=>i.getState(),[i]);Ete(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||Ste;return b.createElement(a.Provider,{value:o},t)}var Pte=Tte,Ite=(e,t)=>t,X_=F([Ite,We,sD,bt,lj,Ni,tQ,Bt],lQ),J_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},aM=rr("mouseClick"),lM=sc();lM.startListening({actionCreator:aM,effect:(e,t)=>{var n=e.payload,r=X_(t.getState(),J_(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(nY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var xy=rr("mouseMove"),uM=sc();uM.startListening({actionCreator:xy,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=D_(r,r.tooltip.settings.shared),o=X_(r,J_(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(ZD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(JD()))}});var ZP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},cM=In({name:"rootProps",initialState:ZP,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:ZP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),Ate=cM.reducer,{updateOptions:Cte}=cM.actions,fM=In({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Fne}=fM.actions,kte=fM.reducer,dM=rr("keyDown"),hM=rr("focus"),Z_=sc();Z_.startListening({actionCreator:dM,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number(j_(i,nl(n))),a=Ni(n);if(o==="Enter"){var l=dh(n,"axis","hover",String(i.index));t.dispatch(py({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=GG(n),c=u==="left-to-right"?1:-1,d=o==="ArrowRight"?1:-1,h=s+d*c;if(!(a==null||h>=a.length||h<0)){var p=dh(n,"axis","hover",String(h));t.dispatch(py({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Z_.startListening({actionCreator:hM,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=dh(n,"axis","hover",String(o));t.dispatch(py({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var Kn=rr("externalEvent"),pM=sc();pM.startListening({actionCreator:Kn,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:FY(n),activeDataKey:LY(n),activeIndex:$u(n),activeLabel:fj(n),activeTooltipIndex:$u(n),isTooltipActive:$Y(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Ote=F([tl],e=>e.tooltipItemPayloads),Nte=F([Ote,gc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(a=>a.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=t(o,n);return s}}}),mM=rr("touchMove"),gM=sc();gM.startListening({actionCreator:mM,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=D_(r,r.tooltip.settings.shared);if(i==="axis"){var o=X_(r,J_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(ZD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,a=n.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(KW),c=(s=l.getAttribute(HW))!==null&&s!==void 0?s:void 0,d=Nte(t.getState(),u,c);t.dispatch(tY({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}}});var Rte=oN({brush:gZ,cartesianAxis:XJ,chartData:FQ,errorBars:aZ,graphicalItems:OJ,layout:CW,legend:S8,options:DQ,polarAxis:rJ,polarOptions:kte,referenceElements:xZ,rootProps:Ate,tooltip:rY,zIndex:EQ}),Dte=function(t){return eW({reducer:Rte,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([lM.middleware,uM.middleware,Z_.middleware,pM.middleware,gM.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(vN({type:"raf"}))},devTools:Ga.devToolsEnabled})};function jte(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=An(),o=b.useRef(null);if(i)return n;o.current==null&&(o.current=Dte(t));var s=Rw;return b.createElement(Pte,{context:s,store:o.current},n)}function Mte(e){var{layout:t,margin:n}=e,r=ft(),i=An();return b.useEffect(()=>{i||(r(PW(t)),r(TW(n)))},[r,i,t,n]),null}function Lte(e){var t=ft();return b.useEffect(()=>{t(Cte(e))},[t,e]),null}function e1(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=zj("".concat(r).concat(t)),o=ft();return b.useLayoutEffect(()=>(o(_Q({zIndex:t,elementId:i,isPanorama:n})),()=>{o(bQ({zIndex:t,isPanorama:n}))}),[o,t,i,n]),b.createElement("g",{id:i})}function t1(e){var{children:t,isPanorama:n}=e,r=ie(cQ);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),o=r.filter(s=>s>0);return b.createElement(b.Fragment,null,i.map(s=>b.createElement(e1,{key:s,zIndex:s,isPanorama:n})),t,o.map(s=>b.createElement(e1,{key:s,zIndex:s,isPanorama:n})))}var Vte=["children"];function Fte(e,t){if(e==null)return{};var n,r,i=$te(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $te(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh.apply(null,arguments)}var Ute={width:"100%",height:"100%",display:"block"},zte=b.forwardRef((e,t)=>{var n=zw(),r=Bw(),i=HN();if(!zr(n)||!zr(r))return null;var{children:o,otherAttributes:s,title:a,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),b.createElement(vw,bh({},s,{title:a,desc:l,role:c,tabIndex:u,width:n,height:r,style:Ute,ref:t}),o)}),Bte=e=>{var{children:t}=e,n=ie(Tp);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return b.createElement(vw,{width:r,height:i,x:s,y:o},t)},n1=b.forwardRef((e,t)=>{var{children:n}=e,r=Fte(e,Vte),i=An();return i?b.createElement(Bte,null,b.createElement(t1,{isPanorama:!0},n)):b.createElement(zte,bh({ref:t},r),b.createElement(t1,{isPanorama:!1},n))});function Wte(){var e=ft(),[t,n]=b.useState(null),r=ie(WW);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;Ot(o)&&o!==r&&e(AW(o))}},[t,e,r]),n}function r1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r1(Object(n),!0).forEach(function(r){Hte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hte(e,t,n){return(t=qte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qte(e){var t=Gte(e,"string");return typeof t=="symbol"?t:t+""}function Gte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ys.apply(null,arguments)}var Yte=()=>(GQ(),null);function Eh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Qte=b.forwardRef((e,t)=>{var n,r,i=b.useRef(null),[o,s]=b.useState({containerWidth:Eh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Eh((r=e.style)===null||r===void 0?void 0:r.height)}),a=b.useCallback((u,c)=>{s(d=>{var h=Math.round(u),p=Math.round(c);return d.containerWidth===h&&d.containerHeight===p?d:{containerWidth:h,containerHeight:p}})},[]),l=b.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();a(c,d);var h=v=>{var{width:_,height:y}=v[0].contentRect;a(_,y)},p=new ResizeObserver(h);p.observe(u),i.current=p}},[t,a]);return b.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[a]),b.createElement(b.Fragment,null,b.createElement(Ap,{width:o.containerWidth,height:o.containerHeight}),b.createElement("div",ys({ref:l},e)))}),Xte=b.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=b.useState({containerWidth:Eh(n),containerHeight:Eh(r)}),s=b.useCallback((l,u)=>{o(c=>{var d=Math.round(l),h=Math.round(u);return c.containerWidth===d&&c.containerHeight===h?c:{containerWidth:d,containerHeight:h}})},[]),a=b.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return b.createElement(b.Fragment,null,b.createElement(Ap,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",ys({ref:a},e)))}),Jte=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return b.createElement(b.Fragment,null,b.createElement(Ap,{width:n,height:r}),b.createElement("div",ys({ref:t},e)))}),Zte=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return wi(n)||wi(r)?b.createElement(Xte,ys({},e,{ref:t})):b.createElement(Jte,ys({},e,{ref:t}))});function ene(e){return e===!0?Qte:Zte}var tne=b.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:a,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:v,onTouchStart:_,style:y,width:w,responsive:x,dispatchTouchEvents:S=!0}=e,R=b.useRef(null),C=ft(),[j,I]=b.useState(null),[T,P]=b.useState(null),k=Wte(),N=Uw(),D=(N==null?void 0:N.width)>0?N.width:w,O=(N==null?void 0:N.height)>0?N.height:i,$=b.useCallback(M=>{k(M),typeof t=="function"&&t(M),I(M),P(M),M!=null&&(R.current=M)},[k,t,I,P]),B=b.useCallback(M=>{C(aM(M)),C(Kn({handler:o,reactEvent:M}))},[C,o]),J=b.useCallback(M=>{C(xy(M)),C(Kn({handler:u,reactEvent:M}))},[C,u]),Y=b.useCallback(M=>{C(JD()),C(Kn({handler:c,reactEvent:M}))},[C,c]),U=b.useCallback(M=>{C(xy(M)),C(Kn({handler:d,reactEvent:M}))},[C,d]),W=b.useCallback(()=>{C(hM())},[C]),Z=b.useCallback(M=>{C(dM(M.key))},[C]),pe=b.useCallback(M=>{C(Kn({handler:s,reactEvent:M}))},[C,s]),me=b.useCallback(M=>{C(Kn({handler:a,reactEvent:M}))},[C,a]),we=b.useCallback(M=>{C(Kn({handler:l,reactEvent:M}))},[C,l]),Le=b.useCallback(M=>{C(Kn({handler:h,reactEvent:M}))},[C,h]),Ke=b.useCallback(M=>{C(Kn({handler:_,reactEvent:M}))},[C,_]),Ye=b.useCallback(M=>{S&&C(mM(M)),C(Kn({handler:v,reactEvent:M}))},[C,S,v]),Ce=b.useCallback(M=>{C(Kn({handler:p,reactEvent:M}))},[C,p]),sr=ene(x);return b.createElement(wj.Provider,{value:j},b.createElement(iO.Provider,{value:T},b.createElement(sr,{width:D??(y==null?void 0:y.width),height:O??(y==null?void 0:y.height),className:De("recharts-wrapper",r),style:Kte({position:"relative",cursor:"default",width:D,height:O},y),onClick:B,onContextMenu:pe,onDoubleClick:me,onFocus:W,onKeyDown:Z,onMouseDown:we,onMouseEnter:J,onMouseLeave:Y,onMouseMove:U,onMouseUp:Le,onTouchEnd:Ce,onTouchMove:Ye,onTouchStart:Ke,ref:$},b.createElement(Yte,null),n)))}),nne=["width","height","responsive","children","className","style","compact","title","desc"];function rne(e,t){if(e==null)return{};var n,r,i=ine(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ine(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var one=b.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:s,style:a,compact:l,title:u,desc:c}=e,d=rne(e,nne),h=Fr(d);return l?b.createElement(b.Fragment,null,b.createElement(Ap,{width:n,height:r}),b.createElement(n1,{otherAttributes:h,title:u,desc:c},o)):b.createElement(tne,{className:s,style:a,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(n1,{otherAttributes:h,title:u,desc:c,ref:t},b.createElement(TZ,null,o)))});function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(null,arguments)}var sne={top:5,right:5,bottom:5,left:5},ane={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:sne,reverseStackOrder:!1,syncMethod:"index",responsive:!1},lne=b.forwardRef(function(t,n){var r,i=rn(t.categoricalChartProps,ane),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:a,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:a,tooltipPayloadSearcher:l,eventEmitter:void 0};return b.createElement(jte,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:o},b.createElement(mZ,{chartData:u.data}),b.createElement(Mte,{layout:i.layout,margin:i.margin}),b.createElement(Lte,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(one,Sy({},i,{ref:n})))}),une=["axis"],cne=b.forwardRef((e,t)=>b.createElement(lne,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:une,tooltipPayloadSearcher:NQ,categoricalChartProps:e,ref:t}));function fne({currentUser:e}){var dt,St,Io,rl;const[t,n]=b.useState([]),[r,i]=b.useState(null),[o,s]=b.useState([]),[a,l]=b.useState([]),[u,c]=b.useState(!1),[d,h]=b.useState(null),[p,v]=b.useState(!1),[_,y]=b.useState(""),[w,x]=b.useState(""),[S,R]=b.useState(""),[C,j]=b.useState(""),[I,T]=b.useState(""),[P,k]=b.useState(""),[N,D]=b.useState(!1),[O,$]=b.useState(""),[B,J]=b.useState(""),[Y,U]=b.useState("all"),[W,Z]=b.useState("weight"),[pe,me]=b.useState(null),[we,Le]=b.useState(null);b.useEffect(()=>{const X=ue=>{ue.key==="Escape"&&(N&&D(!1),p&&v(!1))};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[N,p]),b.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid)){y(""),x(""),R(""),J(""),s([]),i(null),l([]);return}try{c(!0);const ue=gn(Qr,"users",e.uid,"settings","sheets"),ve=await Yk(ue);if(ve.exists()){const ge=ve.data();ge.apiKey&&y(ge.apiKey),ge.spreadsheetId&&x(ge.spreadsheetId),ge.appsScriptUrl&&R(ge.appsScriptUrl),ge.lastHeight&&J(String(ge.lastHeight)),ge.apiKey&&ge.spreadsheetId&&Ke(ge.apiKey,ge.spreadsheetId)}else y(""),x(""),R(""),J(""),s([]),i(null),l([])}catch(ue){h(""+ue.message)}finally{c(!1)}})()},[e]);const Ke=async(X,ue)=>{c(!0),h(null);try{const ve=await R6(X||_,ue||w);if(ve.success){if(n(ve.sheets),ve.sheets.length>0){const ge=ve.sheets[0].name;Ye(ge,X,ue)}}else h(ve.error||"")}catch(ve){h(""+ve.message)}finally{c(!1)}},Ye=async(X,ue,ve)=>{c(!0),h(null),i(X);try{const ge=await D6(X,ue||_,ve||w);ge.success?(s(ge.data),l(ge.headers||[])):h(ge.error||"")}catch(ge){h(""+ge.message)}finally{c(!1)}},Ce=()=>{if(!C.trim()||!I.trim()){alert("");return}(async()=>{if(!(e!=null&&e.uid))return;const ue=gn(Qr,"users",e.uid,"settings","sheets");await qr(ue,{apiKey:C.trim(),spreadsheetId:I.trim(),appsScriptUrl:P.trim()||"",lastHeight:B?parseFloat(B):null},{merge:!0})})().catch(ue=>h(""+ue.message)),y(C.trim()),x(I.trim()),R(P.trim()),v(!1),Ke(C.trim(),I.trim())},sr=()=>{if(!confirm(""))return;(async()=>{e!=null&&e.uid&&await zf(gn(Qr,"users",e.uid,"settings","sheets"))})().catch(ue=>h(""+ue.message)),y(""),x(""),R(""),j(""),T(""),k(""),n([]),s([]),i(null),v(!0)},M=()=>{j(_),T(w),k(S),v(!0)},G=()=>{s([]),i(null),h(null),_&&w&&Ke()},ee=(X,ue)=>{if(!X||!ue)return null;const ve=ue/100;return Number((X/ve**2).toFixed(1))},z=X=>X?X<18.5?"":X<24?"":X<27?"":X<30?"":X<35?"":"":"",Re=async()=>{if(!O||parseFloat(O)<=0){alert("");return}if(!S){alert("  Apps Script URL");return}const X=new Date().toISOString().split("T")[0],ue=parseFloat(O),ve=B?parseFloat(B):null;if(!ve){alert("");return}const ge=ee(ue,ve),Se=z(ge),et={:X,:ue,:ve,BMI:ge||"",:Se};try{c(!0);const Tt=await fetch(S,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(et)});if(console.log(" Google Sheets"),ve&&(e!=null&&e.uid)){const Ao=gn(Qr,"users",e.uid,"settings","sheets");qr(Ao,{lastHeight:ve},{merge:!0}).catch(()=>{})}$(""),D(!1),c(!1),_&&w&&setTimeout(()=>{Ke()},1e3),alert("  Google Sheets")}catch(Tt){console.error(" Google Sheets :",Tt),c(!1),alert("  Google Sheets Apps Script URL "),$(""),D(!1)}},be=()=>{D(!0)},rt=_&&w,xt=()=>{if(!o.length)return[];const X=a.find(Se=>Se.includes("")||Se.toLowerCase().includes("date")),ue=a.find(Se=>Se.includes("")||Se.toLowerCase().includes("weight")),ve=a.find(Se=>Se.includes("")||Se.toLowerCase().includes("height")),ge=a.find(Se=>Se.includes("BMI")||Se.toLowerCase().includes("bmi"));return!X||!ue?[]:o.map(Se=>({:Se[X],:parseFloat(Se[ue]),:ve?parseFloat(Se[ve]):null,BMI:ge?parseFloat(Se[ge]):null,rawData:Se})).filter(Se=>Se.&&!isNaN(Se.)).sort((Se,et)=>new Date(Se.)-new Date(et.))},ar=X=>{if(!X.length)return null;const ue=X.map(et=>et.),ve=X.map(et=>et.BMI).filter(et=>et!==null),ge=X[X.length-1],Se=X[0];return{latest:{weight:ge.,bmi:ge.BMI,date:ge.},weight:{max:Math.max(...ue),min:Math.min(...ue),avg:(ue.reduce((et,Tt)=>et+Tt,0)/ue.length).toFixed(1),change:(ge.-Se.).toFixed(1)},bmi:ve.length>0?{max:Math.max(...ve).toFixed(1),min:Math.min(...ve).toFixed(1),avg:(ve.reduce((et,Tt)=>et+Tt,0)/ve.length).toFixed(1)}:null}},on=xt(),le=ar(on);b.useEffect(()=>{if(!(le!=null&&le.latest))return;const X=(ue,ve,ge,Se=300)=>{const et=performance.now(),Tt=Ao=>{const Os=Math.min(1,(Ao-et)/Se),_c=ue+(ve-ue)*Os;ge(Number(_c.toFixed(2))),Os<1&&requestAnimationFrame(Tt)};requestAnimationFrame(Tt)};X(pe??le.latest.weight,le.latest.weight,me),le.latest.bmi!==null&&le.latest.bmi!==void 0&&X(we??le.latest.bmi,le.latest.bmi,Le)},[(dt=le==null?void 0:le.latest)==null?void 0:dt.weight,(St=le==null?void 0:le.latest)==null?void 0:St.bmi]);const Is=on.length?Y==="today"?on.slice(-1):Y==="7d"?on.slice(-7):Y==="30d"?on.slice(-30):on:[],wc=o,As=on.length?on[on.length-1].:null,Di=As?Number(((As/100)**2*24).toFixed(1)):null,Cs=((Io=le==null?void 0:le.latest)==null?void 0:Io.weight)||null,ks=Di&&Cs?Number((Cs-Di).toFixed(1)):null;return g.jsx("div",{className:"content-wrapper mission-control",children:g.jsxs("div",{className:"page4-container",children:[g.jsxs("div",{className:"page4-header",children:[g.jsx("h2",{children:" "}),g.jsxs("div",{className:"header-actions",children:[g.jsx("button",{onClick:be,className:"add-record-btn",title:"",children:" "}),rt&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:M,className:"settings-btn",title:"",children:" "}),g.jsx("button",{onClick:sr,className:"clear-btn",title:"",children:" "}),g.jsx("button",{onClick:G,className:"reload-btn",title:"",children:" "})]})]})]}),p&&g.jsx("div",{className:"settings-overlay",children:g.jsxs("div",{className:"settings-modal",onClick:X=>X.stopPropagation(),children:[g.jsxs("div",{className:"settings-header",children:[g.jsx("h3",{children:" Google Sheets "}),g.jsx("button",{onClick:()=>v(!1),className:"close-btn",children:""})]}),g.jsxs("div",{className:"settings-content",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Google API Key *"}),g.jsx("input",{type:"text",value:C,onChange:X=>j(X.target.value),placeholder:" Google API Key",className:"settings-input"}),g.jsxs("p",{className:"hint",children:[""," ",g.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",children:"Google Cloud Console"})," ",""]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Google Spreadsheet ID *"}),g.jsx("input",{type:"text",value:I,onChange:X=>T(X.target.value),placeholder:" Spreadsheet ID",className:"settings-input"}),g.jsxs("p",{className:"hint",children:[" Google Sheets URL ",g.jsxs("code",{children:["https://docs.google.com/spreadsheets/d/",g.jsx("strong",{children:"ID"}),"/edit"]})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Apps Script URL"}),g.jsx("input",{type:"text",value:P,onChange:X=>k(X.target.value),placeholder:"https://script.google.com/macros/s/.../exec",className:"settings-input"}),g.jsxs("p",{className:"hint",children:[" Google Sheets"," ",g.jsx("code",{children:"SETUP_APPS_SCRIPT.md"})]})]}),g.jsxs("div",{className:"info-box",children:[g.jsx("h4",{children:" "}),g.jsxs("ol",{children:[g.jsx("li",{children:" Google Cloud Console  API Key"}),g.jsx("li",{children:" API Key"}),g.jsx("li",{children:" Google Sheet "}),g.jsx("li",{children:" API Key  Spreadsheet ID "})]}),g.jsxs("p",{className:"hint",children:[" ",g.jsx("code",{children:"SETUP_API_KEY.md"})]})]}),g.jsxs("div",{className:"settings-actions",children:[g.jsx("button",{onClick:Ce,className:"save-btn",children:" "}),g.jsx("button",{onClick:()=>v(!1),className:"cancel-btn",children:""})]})]})]})}),N&&g.jsx("div",{className:"settings-overlay",children:g.jsxs("div",{className:"add-form-modal",onClick:X=>X.stopPropagation(),children:[g.jsxs("div",{className:"add-form-header",children:[g.jsx("h3",{children:" "}),g.jsx("button",{onClick:()=>D(!1),className:"close-btn",children:""})]}),g.jsxs("div",{className:"add-form-content",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:" (kg) *"}),g.jsx("input",{type:"number",step:"0.1",value:O,onChange:X=>$(X.target.value),placeholder:"70.5",className:"settings-input",autoFocus:!0}),g.jsx("p",{className:"hint",children:""})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:" (cm)"}),g.jsx("input",{type:"number",step:"0.1",value:B,onChange:X=>J(X.target.value),placeholder:"175",className:"settings-input"}),g.jsx("p",{className:"hint",children:" BMI"})]}),g.jsxs("div",{className:"info-box-add",children:[g.jsxs("p",{children:[" ",new Date().toLocaleDateString("zh-TW")]}),O&&B&&g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:[" BMI",ee(parseFloat(O),parseFloat(B))]}),g.jsxs("p",{children:[" ",z(ee(parseFloat(O),parseFloat(B)))]})]})]}),g.jsxs("div",{className:"settings-actions",children:[g.jsx("button",{onClick:Re,className:"save-btn",children:" "}),g.jsx("button",{onClick:()=>D(!1),className:"cancel-btn",children:""})]})]})]})}),d&&g.jsxs("div",{className:"error-message",children:[g.jsx("span",{className:"error-icon",children:""}),g.jsx("span",{children:d}),g.jsx("button",{onClick:G,className:"retry-btn",children:""})]}),!rt&&!p&&g.jsx("div",{className:"welcome-section",children:g.jsxs("div",{className:"welcome-content",children:[g.jsx("div",{className:"welcome-icon",children:""}),g.jsx("h3",{children:""}),g.jsx("p",{children:" Google Sheets "}),g.jsxs("div",{className:"welcome-features",children:[g.jsxs("div",{className:"feature-item",children:[g.jsx("span",{className:"feature-icon",children:""}),g.jsx("span",{children:" Google Sheets "})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx("span",{className:"feature-icon",children:""}),g.jsx("span",{children:" BMI "})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx("span",{className:"feature-icon",children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx("span",{className:"feature-icon",children:""}),g.jsx("span",{children:""})]})]}),g.jsx("button",{onClick:M,className:"welcome-start-btn",children:" "}),g.jsxs("p",{className:"welcome-hint",children:[" ",g.jsx("code",{children:"SETUP_API_KEY.md"})," "]})]})}),rt&&!p&&g.jsx(g.Fragment,{children:u&&!o.length?g.jsxs("div",{className:"loading-state",children:[g.jsx("div",{className:"spinner"}),g.jsx("p",{children:"..."})]}):t.length===0&&!u?g.jsxs("div",{className:"empty-state",children:[g.jsx("p",{children:""}),g.jsx("p",{className:"hint",children:" Spreadsheet ID  Sheet "}),g.jsx("button",{onClick:M,className:"empty-settings-btn",children:""})]}):g.jsxs(g.Fragment,{children:[t.length>1&&g.jsxs("div",{className:"sheets-selector",children:[g.jsx("label",{children:""}),g.jsx("div",{className:"sheets-tabs",children:t.map(X=>g.jsxs("button",{className:`sheet-tab ${r===X.name?"active":""}`,onClick:()=>Ye(X.name),disabled:u,children:[" ",X.name]},X.id))})]}),le&&g.jsxs("div",{className:"live-status",children:[g.jsxs("div",{className:"section-heading",children:[g.jsx("h3",{children:"  / BMI "}),g.jsx("p",{children:""})]}),g.jsxs("div",{className:"live-grid wide",children:[g.jsxs("div",{className:"live-card card-fade-up",children:[g.jsx("div",{className:"overview-label",children:""}),g.jsxs("div",{className:"live-value",children:[(rl=pe??le.latest.weight)!=null&&rl.toFixed?(pe??le.latest.weight).toFixed(1):le.latest.weight," ","kg",g.jsxs("span",{className:`delta ${parseFloat(le.weight.change)>0?"up":"down"}`,children:[le.weight.change>0?"":""," ",Math.abs(le.weight.change)," kg vs "]})]}),g.jsx("div",{className:"live-hint",children:le.latest.date})]}),g.jsxs("div",{className:"live-card card-fade-up",children:[g.jsx("div",{className:"overview-label",children:" BMI"}),g.jsxs("div",{className:"live-value",children:[le.latest.bmi?(we??le.latest.bmi).toFixed(2):"N/A",le.latest.bmi&&g.jsx("span",{className:`pill ${z(le.latest.bmi).includes("")?"pill-warning":"pill-safe"}`,children:z(le.latest.bmi)||""})]}),g.jsx("div",{className:"live-hint",children:""})]}),g.jsxs("div",{className:"live-actions",children:[g.jsx("button",{onClick:be,className:"primary-btn",children:" "}),g.jsx("button",{onClick:G,className:"ghost-btn compact",children:" "}),g.jsx("button",{onClick:M,className:"ghost-btn compact",children:" "}),g.jsx("button",{onClick:sr,className:"ghost-btn danger compact",children:" "})]})]})]}),le&&g.jsxs("div",{className:"stats-grid",children:[g.jsxs("div",{className:"stat-card primary",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsxs("div",{className:"stat-content",children:[g.jsx("div",{className:"stat-label",children:""}),g.jsxs("div",{className:"stat-value",children:[le.latest.weight," kg"]}),g.jsxs("div",{className:"stat-change",style:{color:parseFloat(le.weight.change)>0?"#ff4757":"#26de81"},children:[le.weight.change>0?"":""," ",Math.abs(le.weight.change)," kg"]})]})]}),g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsxs("div",{className:"stat-content",children:[g.jsx("div",{className:"stat-label",children:"BMI "}),g.jsx("div",{className:"stat-value",children:le.latest.bmi||"N/A"}),g.jsx("div",{className:"stat-hint",children:le.latest.date})]})]}),g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsxs("div",{className:"stat-content",children:[g.jsx("div",{className:"stat-label",children:""}),g.jsxs("div",{className:"stat-value",children:[le.weight.avg," kg"]}),g.jsxs("div",{className:"stat-hint",children:[": ",le.weight.min," - ",le.weight.max," kg"]})]})]}),le.bmi&&g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsxs("div",{className:"stat-content",children:[g.jsx("div",{className:"stat-label",children:" BMI"}),g.jsx("div",{className:"stat-value",children:le.bmi.avg}),g.jsxs("div",{className:"stat-hint",children:[": ",le.bmi.min," - ",le.bmi.max]})]})]}),g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsxs("div",{className:"stat-content",children:[g.jsx("div",{className:"stat-label",children:" (BMI 24)"}),g.jsx("div",{className:"stat-value",children:Di?`${Di} kg`:""}),g.jsxs("div",{className:"stat-hint",children:[As?`${As} cm`:"",ks!==null&&g.jsxs(g.Fragment,{children:[" ",""," ",ks>0?` ${ks} kg`:""]})]})]})]})]}),on.length>0&&g.jsx("div",{className:"charts-section",children:g.jsxs("div",{className:"chart-container full-width",children:[g.jsxs("div",{className:"chart-header",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"chart-title",children:" "}),g.jsx("p",{className:"chart-subtitle",children:"7 / 30 / "})]}),g.jsx("div",{className:"range-switcher",children:[{key:"today",label:""},{key:"7d",label:"7 "},{key:"30d",label:"30 "},{key:"all",label:""}].map(X=>g.jsx("button",{className:`range-btn ${Y===X.key?"active":""}`,onClick:()=>U(X.key),children:X.label},X.key))}),g.jsx("div",{className:"range-switcher metric-tabs",children:[{key:"weight",label:"",available:!0},{key:"bmi",label:"BMI",available:!!(le!=null&&le.bmi)}].map(X=>g.jsx("button",{disabled:!X.available,className:`range-btn ${W===X.key?"active":""}`,onClick:()=>Z(X.key),children:X.label},X.key))})]}),g.jsxs("div",{className:"charts-grid",children:[g.jsx(g8,{width:"100%",height:280,children:g.jsxs(cne,{data:Is,margin:{top:5,right:30,left:20,bottom:5},children:[g.jsx(Xj,{strokeDasharray:"3 3",stroke:"#1e293b"}),g.jsx(oM,{dataKey:"",tick:{fill:"#cbd5f5",fontSize:12},tickFormatter:X=>{const ue=new Date(X);return isNaN(ue)?X:`${(ue.getMonth()+1).toString().padStart(2,"0")}/${ue.getDate().toString().padStart(2,"0")}`},angle:-45,textAnchor:"end",height:80}),g.jsx(sM,{tick:{fill:"#cbd5f5",fontSize:12},domain:["dataMin - 1","dataMax + 1"]}),g.jsx(nX,{contentStyle:{background:"rgba(15, 23, 42, 0.9)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",boxShadow:"0 2px 12px rgba(0,0,0,0.4)",color:"#e2e8f0"}}),g.jsx(KN,{wrapperStyle:{color:"#e2e8f0"}}),g.jsx(iM,{type:"monotone",dataKey:W==="bmi"?"BMI":"",stroke:W==="bmi"?"#a855f7":"#22d3ee",strokeWidth:3,dot:{fill:W==="bmi"?"#a855f7":"#22d3ee",r:5},activeDot:{r:7}})]})}),g.jsx("div",{className:"chart-summary",children:(()=>{const X=W==="bmi"?"BMI":"",ue=Is.map(Tt=>Tt[X]).filter(Tt=>Tt!==null&&!isNaN(Tt));if(!ue.length)return"";const ve=(ue.reduce((Tt,Ao)=>Tt+Ao,0)/ue.length).toFixed(1),ge=(ue[ue.length-1]-ue[0]).toFixed(1),Se=W==="bmi"?" BMI":"",et=W==="bmi"?"":" kg";return`${Se} ${ve}${et}${ge>=0?"+":""}${ge}${et}`})()})]})]})}),o.length>0&&g.jsx("div",{className:"data-section",children:g.jsx("div",{className:"table-wrapper",children:g.jsxs("table",{className:"data-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{className:"row-number",children:"#"}),a.map((X,ue)=>g.jsx("th",{children:X},ue))]})}),g.jsx("tbody",{children:wc.map((X,ue)=>g.jsxs("tr",{children:[g.jsx("td",{className:"row-number",children:ue+1}),a.map((ve,ge)=>g.jsx("td",{children:X[ve]},ge))]},ue))})]})})})]})})]})})}function dne(){const{currentUser:e,signInWithGoogle:t,signOut:n}=v6(),[r,i]=b.useState(!1),[o,s]=b.useState(null),[a,l]=b.useState(!1),[u,c]=b.useState(null),[d,h]=b.useState("home"),{diaries:p,notes:v,enlistDate:_,serviceDuration:y,loading:w,addDiary:x,updateDiary:S,deleteDiary:R,updateEnlistDate:C,addNote:j,updateNote:I,deleteNote:T}=w6(e==null?void 0:e.uid),k=(()=>{if(!_)return{daysSinceEnlist:0,remainingDays:y||365,diaryCount:p.length,avgDiaryDays:0};const O=new Date(_);O.setHours(0,0,0,0);const $=new Date;$.setHours(0,0,0,0);const B=$-O,J=Math.floor(B/(1e3*60*60*24)),Y=J>=0?J+1:0,U=y-Y,W=U>0?U:0,Z=p.length,pe=Y>0?(Z/Y*7).toFixed(1):0;return{daysSinceEnlist:Y,remainingDays:W,diaryCount:Z,avgDiaryDays:pe}})(),N=async()=>{try{await t()}catch(O){const $=O.userMessage||"";alert($)}},D=async()=>{try{await n()}catch{alert("")}};return e?w?g.jsx("div",{className:"app",children:g.jsx("header",{className:"app-header",children:g.jsxs("div",{className:"header-content",children:[g.jsx("h1",{children:""}),g.jsx("p",{children:"..."})]})})}):g.jsxs("div",{className:"app",children:[g.jsxs("header",{className:"app-header",children:[g.jsxs("div",{className:"header-top",children:[g.jsxs("div",{className:"brand",children:[g.jsx("div",{className:"brand-icon",children:""}),g.jsx("h1",{children:""})]}),g.jsxs("div",{className:"user-section",children:[g.jsx("img",{src:e.photoURL,alt:e.displayName,className:"user-avatar"}),g.jsx("span",{className:"user-name",children:e.displayName}),g.jsx("button",{onClick:D,className:"logout-btn",title:"",children:""})]})]}),g.jsxs("div",{className:"header-stats",children:[g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-label",children:""}),g.jsxs("div",{className:"stat-value",children:[k.daysSinceEnlist," "]})]}),g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-label",children:""}),g.jsxs("div",{className:"stat-value",children:[k.remainingDays," "]})]}),g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-label",children:""}),g.jsxs("div",{className:"stat-value",children:[k.diaryCount," "]})]}),g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-label",children:" ()"}),g.jsxs("div",{className:"stat-value",children:[k.avgDiaryDays," "]})]})]})]}),g.jsxs("div",{className:"app-body",children:[g.jsx("div",{className:"tab-container",children:g.jsx("div",{className:"tab-navigation-wrapper",children:g.jsx(k6,{activeTab:d,onTabChange:h})})}),d==="home"&&g.jsxs("div",{className:"content-wrapper",children:[g.jsx(E6,{enlistDate:_,serviceDuration:y,diaries:p,onOpenSettings:()=>i(!0),onDateSelect:O=>{s(O),l(!0)}}),r&&g.jsx(b6,{enlistDate:_,serviceDuration:y,setEnlistDate:async(O,$)=>{await C(O,$),i(!1)},onClose:()=>i(!1)}),a&&o&&g.jsx(A6,{selectedDate:o,onClose:()=>{l(!1),c(null)},addDiary:x,updateDiary:S,existingDiary:u||p.find(O=>{const $=new Date(O.date);return $.getFullYear()===o.getFullYear()&&$.getMonth()===o.getMonth()&&$.getDate()===o.getDate()})}),g.jsxs("div",{className:"main-content",children:[g.jsx(S6,{addDiary:x,selectedDate:o}),g.jsx(P6,{diaries:p,deleteDiary:R,onEditDiary:O=>{c(O),s(new Date(O.date)),l(!0)}}),g.jsx(C6,{diaries:p,enlistDate:_})]})]}),d==="page2"&&g.jsx(O6,{diaries:p,enlistDate:_}),d==="page3"&&g.jsx(N6,{notes:v,addNote:j,updateNote:I,deleteNote:T}),d==="page4"&&g.jsx(fne,{currentUser:e})]})]}):g.jsx(_6,{onGoogleLogin:N})}gg.createRoot(document.getElementById("root")).render(g.jsx(p1.StrictMode,{children:g.jsx(y6,{children:g.jsx(dne,{})})}));
